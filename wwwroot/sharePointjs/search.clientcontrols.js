Type.registerNamespace("Srch");Srch.EventType=function(){};Srch.EventType.prototype={none:0,queryReady:1,queryIssuing:2,batchQueryIssuing:3,resultReady:4,batchResultReady:5,queryStateChanged:6,resultRendered:7,preLoad:8,load:9,postLoad:10};Srch.EventType.registerEnum("Srch.EventType",false);Srch.MessageLevel=function(){};Srch.MessageLevel.prototype={information:0,warning:1,error:2};Srch.MessageLevel.registerEnum("Srch.MessageLevel",false);Srch.UserActionType=function(){};Srch.UserActionType.prototype={search:0,pageNext:1,pagePrev:2,refine:3,sort:4,filterLanguage:5};Srch.UserActionType.registerEnum("Srch.UserActionType",false);Srch.DateTimeKind=function(){};Srch.DateTimeKind.prototype={unspecified:0,utc:1,local:2};Srch.DateTimeKind.registerEnum("Srch.DateTimeKind",false);Srch.ClientControl=function(a){this.$$d_serverTemplateScriptsCallback=Function.createDelegate(this,this.serverTemplateScriptsCallback);this.$$d_clickHandler=Function.createDelegate(this,this.clickHandler);this.$$d_scriptApplication_PostLoad=Function.createDelegate(this,this.scriptApplication_PostLoad);this.$$d_scriptApplication_Load=Function.createDelegate(this,this.scriptApplication_Load);this.$$d_scriptApplication_PreLoad=Function.createDelegate(this,this.scriptApplication_PreLoad);this.listenedEvents=[];this.serverTemplateScriptsToLoad=[];this.$c_2=[];this.$1L_2=[];Srch.ClientControl.initializeBase(this,[a])};Srch.ClientControl.get_isLoadingSearchCenterUrl=function(){return Srch.ClientControl.$q};Srch.ClientControl.set_isLoadingSearchCenterUrl=function(a){Srch.ClientControl.$q=a;return a};Srch.ClientControl.toggleMessageDetails=function(d){var a=d.children;if(Srch.U.n(a))return false;for(var b=0;b<a.length;b++){var c=a[b];if(c.style.display==="none")c.style.display="";else c.style.display="none"}return false};Srch.ClientControl.$3W=function(a){return a.showForViewerUsers};Srch.ClientControl.prototype={alternateRenderer:null,alternateRenderContext:null,$1H_2:null,$17_2:null,$1G_2:null,loaded:false,get_nextUniqueId:function(){this.$3Y_2++;return this.get_id()+this.$3Y_2},$3Y_2:0,get_renderTemplateId:function(){return this.$24_2},set_renderTemplateId:function(a){this.$24_2=a;return a},$24_2:"",get_delayLoadTemplateScripts:function(){return this.$10_2},set_delayLoadTemplateScripts:function(a){this.$10_2=a;return a},$10_2:true,get_states:function(){if(!this.$2C_2)this.$2C_2={};return this.$2C_2},set_states:function(a){this.$2C_2=a;return a},$2C_2:null,get_messages:function(){return this.$1A_2},set_messages:function(a){if(!Srch.U.n(a)&&a.length>0){this.$1A_2=[];for(var b=0;b<a.length;b++){var c=a[b];!Srch.U.n(c)&&Srch.U.appendArray(this.$1A_2,Srch.ControlMessage.getIfControlMessage(c))}}else this.$1A_2=a;return a},$1A_2:null,get_showDataErrors:function(){return this.$31_2},set_showDataErrors:function(a){this.$31_2=a;return a},$31_2:false,get_alternateErrorMessage:function(){return this.$t_2},set_alternateErrorMessage:function(a){this.$t_2=a;return a},$t_2:null,get_isInitialLoad:function(){return !this.loaded},$40_2:false,$2J_2:null,get_resultsPageAddress:function(){return this.$2J_2},set_resultsPageAddress:function(a){this.$2J_2=a;return a},initialize:function(){this.$1_2("Initialize","");Srch.ScriptApplicationManager.get_current().registerClientControl(this);this.$1H_2=this.$$d_scriptApplication_PreLoad;Srch.ScriptApplicationManager.get_current().add_preLoad(this.$1H_2);this.$17_2=this.$$d_scriptApplication_Load;Srch.ScriptApplicationManager.get_current().add_load(this.$17_2);this.$1G_2=this.$$d_scriptApplication_PostLoad;Srch.ScriptApplicationManager.get_current().add_postLoad(this.$1G_2);!Srch.U.n(this.get_element())&&$addHandler(this.get_element(),"click",this.$$d_clickHandler);if(!Srch.ClientControl.$q){Srch.ClientControl.$q=true;Srch.U.getSearchCenterUrl(true)}this.$40_2&&this.$5U_2();Sys.Component.prototype.initialize.call(this)},$5U_2:function(){var b=SP.PageContextInfo.get_siteServerRelativeUrl(),c="/_api/search/resultspageaddress",e=b&&b!=="/"?b+c:c,a=new XMLHttpRequest;a.open("GET",e,true);a.setRequestHeader("Accept","application/json;odata=verbose");var d=this;a.onreadystatechange=function(){if(a.readyState===4)if(a.status===200){var e=Sys.Serialization.JavaScriptSerializer.deserialize(a.responseText),b=e["d"];Srch.U.n(b)&&Srch.U.trace(null,"GetResultsPageAddress","No data recieved from _api/search/resultspageaddress");var c=b["resultspageaddress"];if(!Srch.U.w(c))d.$2J_2=c}};a.send(null)},dispose:function(){var b=new SP.CScope("ClientControl.Dispose");b.start();this.$1_2("Dispose","");try{!Srch.U.n(this.get_element())&&$clearHandlers(this.get_element());if(!Srch.U.n(this.listenedEvents)){for(var a=0;a<this.listenedEvents.length;a++){var c=this.listenedEvents[a];!Srch.U.n(c)&&c.dispose()}this.listenedEvents=null}if(!Srch.U.n(this.$1H_2)){Srch.ScriptApplicationManager.get_current().remove_preLoad(this.$1H_2);this.$1H_2=null}if(!Srch.U.n(this.$17_2)){Srch.ScriptApplicationManager.get_current().remove_load(this.$17_2);this.$17_2=null}if(!Srch.U.n(this.$1G_2)){Srch.ScriptApplicationManager.get_current().remove_postLoad(this.$1G_2);this.$1G_2=null}}finally{Sys.Component.prototype.dispose.call(this)}b.stop()},renderControl:function(c,b){this.$1_2("RenderControl","");var d=new SP.CScope("ClientControl.RenderControl");d.start();Srch.U.ensureNotNullOrUndefined(this.get_element(),this,"RenderControl","this.Element");if(Srch.U.n(this.alternateRenderContext))this.alternateRenderContext={};var a={};if(!Srch.U.n(this.alternateRenderer)){a=this.alternateRenderContext;this.alternateRenderContext["ListData"]=c;this.alternateRenderContext["ClientControl"]=this;this.alternateRenderContext["DataProvider"]=b;this.alternateRenderContext["ScriptApplicationManager"]=Srch.ScriptApplicationManager.get_current();this.invokeAlternateRender(this.alternateRenderer,this.get_element(),this.alternateRenderContext)}else{a["ResolveTemplate"]=Srch.U.resolveRenderTemplate;a["ListData"]=c;a["ClientControl"]=this;a["DataProvider"]=b;a["ScriptApplicationManager"]=Srch.ScriptApplicationManager.get_current();this.invokeClientRenderer(this.get_element(),a)}this.processDataProviderErrors(b);this.processRenderingErrorMessages(a);this.displayControlMessages();d.stop()},processDataProviderErrors:function(a){!Srch.U.n(a)&&!Srch.U.n(a.get_messages())&&a.get_messages().length>0&&this.processDataErrorMessages(a.get_messages())},scriptApplication_PreLoad:function(){this.$1_2("ScriptApplication_PreLoad","ClientControl");this.$10_2&&Srch.U.appendScriptsToLoad(this.serverTemplateScriptsToLoad,this.$24_2)},scriptApplication_Load:function(){this.$1_2("ScriptApplication_Load","ClientControl")},scriptApplication_PostLoad:function(){this.$1_2("ScriptApplication_PostLoad","ClientControl");this.loaded=true},loadServerTemplateScripts:function(){this.$1_2("LoadServerTemplateScripts","Trying to load server template scripts...");return this.loadRenderTemplateScripts(this.serverTemplateScriptsToLoad,this.$$d_serverTemplateScriptsCallback,this.$$d_serverTemplateScriptsCallback,-1,false)},serverTemplateScriptsCallback:function(){this.$1_2("ServerTemplateScriptsCallback","ServerTemplateScriptsCallback");this.serverTemplateScriptsToLoad=[]},loadRenderTemplateScripts:function(e,c,a,b,d){this.$1_2("LoadRenderTemplateScripts","Loading render template scripts...");var f=this,g=this;if(Srch.U.loadScripts(e,function(d){f.$5x_2(d,c,a,b)},function(b){g.$5w_2(b,a)},b))return true;this.$1_2("LoadRenderTemplateScripts","Did not discover new render template script to load.");if(d)return this.$4S_2(c,a,b);else{this.$1_2("LoadRenderTemplateScripts","Skip loading custom scripts.");return false}},$5x_2:function(b,a,c,d){this.$1_2("RenderTemplateScriptsLoaded","All render template scripts loaded.");Srch.U.registerLoadedScripts(b);if(this.$4S_2(a,c,d))return;a()},$5w_2:function(a,b){this.$1_2("RenderTemplateScriptsFailed","Loading render template scripts faild.");this.$4a_2(a);b()},$4S_2:function(i,j,k){this.$1_2("LoadCustomScripts","Loading custom scripts...");if(!Srch.U.n(Srch.ScriptApplicationManager.get_current().$1Z_1)){var e=[],c=Srch.ScriptApplicationManager.get_current().$1Z_1;for(var d in c){var h={key:d,value:c[d]},b=h.key;if(!Srch.U.e(b)){var a=b.trim().toLowerCase();if(a.endsWith(".css")){a=Srch.U.urlTokenExpansion(a);Srch.U.traceFormatted(null,"LoadCustomScripts","Found custom css:'{0}'",a);if(Srch.U.n(Srch.ScriptApplicationManager.get_current().$18_1[a])){registerCssLink(a);Srch.U.traceFormatted(null,"LoadCustomScripts","Registering css '{0}' as loaded",a);Srch.ScriptApplicationManager.get_current().$18_1[a]=false}}else Srch.U.appendScriptsToLoad(e,b)}}var f=this,g=this;if(Srch.U.loadScripts(e,function(a){f.$5H_2(a,i)},function(a){g.$5G_2(a,j)},k))return true}this.$1_2("LoadCustomScripts","Did not discover new custom script to load.");return false},$5H_2:function(a,b){this.$1_2("CustomScriptsLoaded","All custom scripts loaded.");Srch.U.registerLoadedScripts(a);b()},$5G_2:function(e,f){this.$1_2("CustomScriptsFailed","Loading custom scripts failed.");var a=this.$4a_2(e),b=String.format(SP.Utilities.HttpUtility.htmlEncode(Srch.Res.u_ScriptLoadFail),a),c=SP.Utilities.HttpUtility.htmlEncode(Srch.Res.u_ScriptLoadFailForViewer),d=new Srch.ControlMessage(null,2,0,"ResourceLoadException",b,c,null,null,false,true,false);Srch.U.appendArray(this.get_messages(),d);f()},$4a_2:function(d){var a="<ul>";if(!Srch.U.n(d))for(var b=0;b<d.length;b++){var c=d[b];if(!Srch.U.w(c)){this.$3_2("ProcessLoadFailedScripts","Loading script '{0}' failed.",c);a+="<li>"+SP.Utilities.HttpUtility.htmlEncode(c)+"</li>"}}a+="</ul>";return a},invokeAlternateRender:function(a,c,d){var b=new SP.CScope("ClientControl.InvokeAlternateRender");b.start();!Srch.U.n(a)&&a(c,d);b.stop()},invokeClientRenderer:function(b,c){var a=new SP.CScope("ClientControl.InvokeClientRenderer");a.start();SPClientRenderer.Render(b,c);a.stop()},$K_2:null,$5L_2:function(){if(Srch.U.n(this.$K_2)&&!Srch.U.n(this.get_element())){this.$K_2=document.createElement("div");this.$K_2.style.display="none";var a=this.get_element().parentNode;a.insertBefore(this.$K_2,this.get_element())}},processDataErrorMessages:function(a){if(!Srch.U.n(a)&&Srch.U.isArray(a))for(var c=a,d=c.length,b=0;b<d;++b){var e=c[b];Srch.U.appendArray(this.$c_2,e)}},processRenderingErrorMessages:function(d){var b=d["Errors"];if(!Srch.U.n(b)&&Srch.U.isArray(b)){for(var c=b,e=c.length,a=0;a<e;++a){var f=c[a];Srch.U.appendArray(this.$1L_2,Srch.ControlMessage.getFromException(f))}d["Errors"]=null}},hasMessages:function(){var a=Srch.U.$3O();return !!this.get_messages()&&this.get_messages().length>0||!!this.$c_2&&this.$c_2.length>0||!!this.$1L_2&&this.$1L_2.length>0||!!a&&a.length>0},updateDisplayControlWithNewMessages:function(){this.$49_2(true)},displayControlMessages:function(){this.$49_2(false)},$49_2:function(b){var a=this.$5N_2(this.get_messages(),this.$c_2,this.$1L_2,Srch.U.$3O(),b);if(!Srch.U.w(a)||!b){var c=this.$V_2.length>0||this.$Z_2.length>0||this.$c_2.length>0;this.$5L_2();if(!Srch.U.w(a)){this.$K_2.innerHTML=a;this.$K_2.style.display=""}else{this.$K_2.innerHTML="";this.$K_2.style.display="none"}this.setControlElementVisibility(!c)}this.$c_2=[];this.$1L_2=[];Srch.U.$5z()},setControlElementVisibility:function(a){if(!Srch.U.n(this.get_element()))this.get_element().style.display=a?"":"none"},clickHandler:function(b){if(!Srch.U.n(b)&&!Srch.U.n(b.target)){var g=Srch.U.getParentAttributeByName(b.target,"clicktype");!Srch.U.e(g)&&Srch.U.logClick(b.target,g);var c=Srch.U.getParentElementByName(b.target,"A");if(!Srch.U.n(c)){var a=c.href;if(!Srch.U.n(a)){var h=c.protocol,i=c.hostname;if(!Srch.U.n(a)&&!Srch.U.n(h)&&!Srch.U.n(i)&&!Srch.U.n(window.self.location)&&h===window.self.location.protocol&&i.toLowerCase()===window.self.location.hostname.toLowerCase()){var e=ajaxNavigate.get_href(),j=e.indexOf("#");if(j!==-1)e=e.substring(0,j);Srch.U.setCookie("WOPISessionContext",e,null,null,"/",false);var k=c.getAttribute("openApp");if(!Srch.U.e(k))if(TypeofFullName("navigator.msLaunchUri")==="function"){var l=k+":ofv|u|"+a.trim(),o=this;navigator.msLaunchUri(l,null,function(){window.self.location.href=a});Srch.U.cancelEventEx(b,true,false);return}var f=c.getAttribute("openControl");if(!Srch.U.e(f))try{if(window.self.ActiveXObject){var d=null;try{d=new ActiveXObject("AcroPDF.PDF")}catch(m){}if(Srch.U.n(d))d=new ActiveXObject(f);if(!Srch.U.n(d)){if(f==="PdfFile.OpenDocuments")a=a.split("#")[0];if(d.ViewDocument2(window.self,a)){Srch.U.cancelEventEx(b,true,false);return}}}}catch(n){}}}}}},$5j_2:function(a){return this.$3V_2(a)||Srch.ClientControl.$3W(a)},$3V_2:function(a){return Srch.U.isPageInEditMode()||!a.showInEditModeOnly&&this.$63_2()},$63_2:function(){var a=Srch.ScriptApplicationManager.get_current().states["showAdminDetails"];if(Srch.U.n(a))return true;return a},$5i_2:function(a){return Srch.ClientControl.$3W(a)&&!Srch.U.w(a.messageDetailsForViewers)||this.$3V_2(a)&&!Srch.U.w(a.messageDetails)},$V_2:null,$Z_2:null,$15_2:null,$1v_2:0,$W_2:"",$14_2:false,$2m_2:function(f,g){if(Srch.U.n(this.$1A_2))return false;for(var c=false,d=f,e=d.length,b=0;b<e;++b){var a=d[b];if(this.$5j_2(a)){if(this.$1v_2<a.level){this.$1v_2=a.level;if(Srch.U.n(a.header))if(!Srch.U.n(this.$t_2)&&!Srch.U.w(Srch.U.trimExtraSpaces(this.$t_2)))this.$W_2=this.$t_2;else{this.$W_2=Srch.U.loadResource("cc_err_WebPartErrorMessageDisplayHeader");if(Srch.U.w(this.$W_2))this.$W_2="Sorry, search isn't working right now. Try back a bit later"}else this.$W_2=a.header}if(a.level===2||a.level===1){g.push(a);this.$1_2("ProcessCategoryMessages",a.toString())}else!a.level&&this.$15_2.push(a);if(!c&&this.$5i_2(a)){this.$14_2=true;c=true}else if(!this.$14_2&&!Srch.U.w(a.correlationID))this.$14_2=true}}return c},$36_2:null,$5N_2:function(f,g,h,i,j){this.$36_2={};if(!j){this.$V_2=[];this.$Z_2=[];this.$15_2=[];this.$14_2=false;this.$1v_2=0;this.$W_2="";this.$2m_2(f,this.$V_2)}this.$31_2&&this.$2m_2(g,this.$V_2);var b=this.$2m_2(h,this.$Z_2);b=!!(b|this.$2m_2(i,this.$Z_2));var a=new Sys.StringBuilder;if(!Srch.U.n(this.$15_2)&&this.$15_2.length>0){a.append('<div class="ms-status-msg ms-status-blue">');this.$1o_2=true;this.$3K_2(a,this.$15_2);a.append("</div>")}if(!Srch.U.n(this.$V_2)&&this.$V_2.length>0||!Srch.U.n(this.$Z_2)&&this.$Z_2.length>0){a.append('<h2 class="ms-search-header, ms-srch-error-header">'+SP.Utilities.HttpUtility.htmlEncode(this.$W_2)+"</h2>");if(this.$14_2){var c=Srch.U.$B("cc_err_ShowMessageDetails",false);if(Srch.U.w(c))c="SHOW DETAILS";var d=Srch.U.$B("cc_err_HideMessageDetails",false);if(Srch.U.w(d))d="HIDE DETAILS";var e="ms-status-red";if(this.$1v_2===1)e="ms-status-yellow";a.append(String.format(Srch.ClientControl.$4X,SP.Utilities.HttpUtility.htmlEncode(c),SP.Utilities.HttpUtility.htmlEncode(d),e));this.$1o_2=true;this.$3K_2(a,this.$V_2);if(b){this.$5O_2(a);this.$3K_2(a,this.$Z_2)}a.append("</div></div>")}}return a.toString()},$5O_2:function(b){this.$3J_2(b);var a=Srch.U.$B("cc_err_RenderingErrorMessageDisplayHeader",false);if(Srch.U.w(a))a="<strong>Display Error:</strong> The display template had an error.  You can correct it by fixing the template or by changing the display template used in either the Web Part properties or Result Types.";b.append(String.format(Srch.ClientControl.$1w,a))},$3K_2:function(c,h){for(var d=h,e=d.length,b=0;b<e;++b){var a=d[b];if(this.$3V_2(a)&&!Srch.U.w(a.messageDetails)){var f=a.encodeDetails?SP.Utilities.HttpUtility.htmlEncode(a.messageDetails):a.messageDetails;this.$43_2(c,String.format(Srch.ClientControl.$1w,f))}else if(Srch.ClientControl.$3W(a)&&!Srch.U.w(a.messageDetailsForViewers)){var g=a.encodeDetails?SP.Utilities.HttpUtility.htmlEncode(a.messageDetailsForViewers):a.messageDetailsForViewers;this.$43_2(c,String.format(Srch.ClientControl.$1w,g))}this.$5M_2(c,a.correlationID)}},$5M_2:function(b,c){if(!Srch.U.w(c)){this.$3J_2(b);var a=Srch.U.$B("cc_err_CorrelationIdMessage",false);if(Srch.U.w(a))a="<strong>Correlation ID:</strong> {0}";b.append(String.format(Srch.ClientControl.$1w,String.format(a,c)))}},$43_2:function(b,a){if(!this.$36_2[a]){this.$36_2[a]=true;this.$3J_2(b);b.append(a);return true}return false},$1o_2:false,$3J_2:function(a){if(this.$1o_2)this.$1o_2=false;else a.append("<br />")},$1_2:function(a,b){Srch.U.trace(this,a,b)},$3_2:function(c,d){for(var b=[],a=2;a<arguments.length;++a)b[a-2]=arguments[a];Srch.U.traceFormatted.apply(null,[this,c,d].concat(b))}};Srch.DataProvider=function(a){this.$$d_$5a_3=Function.createDelegate(this,this.$5a_3);this.$$d_$66_3=Function.createDelegate(this,this.$66_3);this.$$d_searchBox_BatchResultReady=Function.createDelegate(this,this.searchBox_BatchResultReady);this.$$d_searchBox_BatchQueryIssuing=Function.createDelegate(this,this.searchBox_BatchQueryIssuing);this.$$d_searchBox_QueryReady=Function.createDelegate(this,this.searchBox_QueryReady);this.$$d_displayControl_QueryReady=Function.createDelegate(this,this.displayControl_QueryReady);this.$$d_$51_3=Function.createDelegate(this,this.$51_3);this.$2E_3=[];this.$3h_3=SP.Guid.get_empty();this.$2_3=Srch.QueryState.$5Q();this.$2e_3=new Srch.QueryState;this.$1l_3=-1;this.$1s_3=-1;this.$2G_3=-1;Srch.DataProvider.initializeBase(this,[a])};Srch.DataProvider.$4K=function(a,b){if(!Srch.U.n(a)&&!Srch.U.n(a.queryStateUpdateOption)&&a.queryStateUpdateOption!==-1)return a.queryStateUpdateOption;return b};Srch.DataProvider.prototype={$26_3:false,$20_3:0,$s_3:null,$3U_3:false,$3T_3:false,get_$25_3:function(){return this.$3h_3.toString()+this.$5_3},get_$4Y_3:function(){this.$3h_3=SP.Guid.newGuid();return this.get_$25_3()},get_currentQueryState:function(){return this.$2_3},get_sourceID:function(){return this.$1Q_3},set_sourceID:function(a){this.$1Q_3=a;return a},$1Q_3:"",get_sourceName:function(){return this.$1S_3},set_sourceName:function(a){this.$1S_3=a;return a},$1S_3:"",get_sourceLevel:function(){return this.$1R_3},set_sourceLevel:function(a){this.$1R_3=a;return a},$1R_3:"",get_collapseSpecification:function(){return this.$1U_3},set_collapseSpecification:function(a){this.$1U_3=a;return a},$1U_3:"",get_queryGroupName:function(){return this.$5_3},set_queryGroupName:function(a){this.$5_3=a;return a},$5_3:"",get_queryPropertiesTemplateUrl:function(){return this.$22_3},set_queryPropertiesTemplateUrl:function(a){this.$22_3=a;return a},$22_3:"",get_queryTemplate:function(){return this.$l_3},set_queryTemplate:function(a){this.$l_3=a;return a},$l_3:"{searchboxquery}",get_fallbackSort:function(){return this.$1n_3},set_fallbackSort:function(a){this.$1n_3=a;return a},$1n_3:null,get_rankRules:function(){return this.$m_3},set_rankRules:function(a){this.$m_3=a;return a},$m_3:null,get_initialQueryState:function(){return this.$2e_3},set_initialQueryState:function(a){this.$2e_3.copyFrom(a,0);if(a.l<=0)this.$2e_3.l=this.get_effectiveQueryLanguage();return a},get_initialResult:function(){return this.$f_3},set_initialResult:function(a){this.$f_3=a;return a},$f_3:"",get_initialResultRef:function(){return this.$g_3},set_initialResultRef:function(a){this.$g_3=a;return a},$g_3:null,get_initialResultObject:function(){var $v_0=null,$v_1=new SP.CScope("DataProvider.InitialResultObject");$v_1.start();if(!Srch.U.e(this.$f_3)){this.$1_2("InitialResultObject","Deserializing InitialResult json string");try{$v_0=Srch.ParseJSONUtil.parseObjectFromJsonString(this.$f_3);$v_1.stop();return $v_0}catch($v_2){this.$3_2("InitialResultObject","Could not deserialize json string: {0} error: {1}",this.$f_3,$v_2.message)}}else if(Srch.U.e(this.$f_3)&&!Srch.U.e(this.$g_3)&&typeof this.$g_3!=="undefined"){this.$3_2("InitialResultObject","Processing server generated JSON obect literal for InitialResultRef: {0}",this.$g_3);$v_0=eval(this.$g_3);Srch.ParseJSONUtil.evaluateTokensInJsonObject($v_0);return $v_0}$v_1.stop();return null},get_batched:function(){return this.$u_3},set_batched:function(a){this.$u_3=a;return a},$u_3:true,get_active:function(){return this.$R_3},set_active:function(a){this.$R_3=a;return a},$R_3:true,get_bypassResultTypes:function(){return this.bypassResultTypes},set_bypassResultTypes:function(a){this.bypassResultTypes=a;return a},bypassResultTypes:false,get_processBestBets:function(){return this.processBestBets},set_processBestBets:function(a){this.processBestBets=a;return a},processBestBets:true,get_processPersonalFavorites:function(){return this.$27_3},set_processPersonalFavorites:function(a){this.$27_3=a;return a},$27_3:true,get_resultsPerPage:function(){return this.$p_3},set_resultsPerPage:function(a){this.$p_3=a;return a},$p_3:10,get_selectedRefiners:function(){return this.$O_3},set_selectedRefiners:function(a){this.$O_3=a;return a},$O_3:null,get_selectedProperties:function(){return this.$b_3},set_selectedProperties:function(a){this.$b_3=a;return a},$b_3:null,get_hitHighlightedProperties:function(){return this.$X_3},set_hitHighlightedProperties:function(a){this.$X_3=a;return a},$X_3:null,get_fallbackLanguage:function(){return this.$1l_3},set_fallbackLanguage:function(a){this.$1l_3=a;return a},get_fallbackRankingModelID:function(){return this.$1m_3},set_fallbackRankingModelID:function(a){this.$1m_3=a;return a},$1m_3:"",get_fallbackRefinementFilters:function(){return this.$3I_3},set_fallbackRefinementFilters:function(a){this.$3I_3=Srch.U.$2R(a,Srch.RefinementCategory);return a},$3I_3:null,get_availableSorts:function(){return this.$S_3},set_availableSorts:function(a){this.$S_3=a;return a},$S_3:null,get_contextualScopeUrl:function(){return this.$1V_3},set_contextualScopeUrl:function(a){this.$1V_3=a;return a},$1V_3:"",get_totalRows:function(){return this.$8_3},$8_3:0,get_rowCount:function(){return this.$M_3},$M_3:0,get_refinementInfo:function(){return this.$n_3},$n_3:null,get_entityInfo:function(){return this.$U_3},$U_3:null,get_enableStemming:function(){return this.$1j_3},set_enableStemming:function(a){this.$1j_3=a;return a},$1j_3:true,get_enablePhonetic:function(){return this.$1h_3},set_enablePhonetic:function(a){this.$1h_3=a;return a},$1h_3:false,get_enableNicknames:function(){return this.$1f_3},set_enableNicknames:function(a){this.$1f_3=a;return a},$1f_3:false,get_trimDuplicates:function(){return this.$2H_3},set_trimDuplicates:function(a){this.$2H_3=a;return a},$2H_3:true,get_enableInterleaving:function(){return this.$1e_3},set_enableInterleaving:function(a){this.$1e_3=a;return a},$1e_3:true,get_enableQueryRules:function(){return this.$1i_3},set_enableQueryRules:function(a){this.$1i_3=a;return a},$1i_3:true,get_enableOrderingHitHighlightedProperty:function(){return this.$1g_3},set_enableOrderingHitHighlightedProperty:function(a){this.$1g_3=a;return a},$1g_3:false,get_hitHighlightedMultivaluePropertyLimit:function(){return this.$1s_3},set_hitHighlightedMultivaluePropertyLimit:function(a){this.$1s_3=a;return a},get_properties:function(){if(!this.$1u_3)this.$1u_3={};return this.$1u_3},set_properties:function(a){this.$1u_3=a;return a},$1u_3:null,get_clientType:function(){return this.$2M_3},set_clientType:function(a){this.$2M_3=a;return a},$2M_3:"",get_clientFunction:function(){return this.$2L_3},set_clientFunction:function(a){this.$2L_3=a;return a},$2L_3:"",get_clientFunctionDetails:function(){return this.$3A_3},set_clientFunctionDetails:function(a){this.$3A_3=a;return a},$3A_3:"",get_maxPagesAfterCurrent:function(){return this.$Y_3},set_maxPagesAfterCurrent:function(a){this.$Y_3=a;return a},$Y_3:0,get_userAction:function(){return this.$Q_3},set_userAction:function(a){this.$Q_3=a;return a},$Q_3:0,get_queryCount:function(){return this.$21_3},set_queryCount:function(a){this.$21_3=a;return a},$21_3:0,get_resultsUrl:function(){if(!this.$2w_3)return ajaxNavigate.get_href();return this.$2w_3},set_resultsUrl:function(a){this.$2w_3=a;return a},$2w_3:null,get_upScopeUrl:function(){var a=Srch.ScriptApplicationManager.get_current().states["searchCenterUrl"];if(!Srch.U.e(a))a=Srch.U.concatUrl(Srch.U.replaceUrlTokens(a),String.format("results.aspx?k={0}",SP.Utilities.HttpUtility.urlKeyValueEncode(this.$2_3.k)));return a},get_effectiveQueryLanguage:function(){var a=-1,b="";if(a<1&&this.$1l_3>0){a=this.$1l_3;b=" from fallback language..."}if(a<1&&this.$2_3.l>0){a=this.$2_3.l;b=" from query state..."}if(a<1){var d=this.get_queryDateTimeCulture();if(d>0){a=d;b=" from querytimeculture language..."}}if(a<1){var c=Srch.ScriptApplicationManager.get_current().states["languages"];if(!Srch.U.n(c)&&c.length>0){var e=c[0];if(!Srch.U.n(e)){a=e.id;b=" from default user preference language..."}}}if(a<1){var f=Srch.ScriptApplicationManager.get_current().states["browserLanguage"];if(f>0){a=f;b=" from browser language..."}}this.$3_2("GetLanguage","Setting query language to '{0}'"+b,a);return a},get_queryDateTimeCulture:function(){return Srch.ScriptApplicationManager.get_current().states["QueryDateTimeCulture"]},get_effectiveLanguageDisplayName:function(){return Srch.ScriptApplicationManager.get_current().getDisplayNameByLanguageID(this.get_effectiveQueryLanguage())},get_$5J_3:function(){var a=null,b="Not using explicit sort...";if(!Srch.U.n(this.$2_3.o)){a=this.$2_3.o;b="Using query state sorts..."}var c=this.$S_3;if(Srch.U.n(a)&&!Srch.U.n(c)&&c.length>0){var d=c[0].sorts;if(!Srch.U.n(d)){a=d;b="Using default available sorts..."}}if(Srch.U.n(a)&&!Srch.U.n(this.$1n_3)){a=this.$1n_3;b="Using fall back sorts..."}this.$1_2("GetSorts",b);return a},get_parentImpressionID:function(){return this.$1F_3},set_parentImpressionID:function(a){this.$1F_3=a;return a},$1F_3:null,get_updateAjaxNavigate:function(){return this.$2I_3},set_updateAjaxNavigate:function(a){this.$2I_3=a;return a},$2I_3:true,get_summaryLength:function(){return this.$2D_3},set_summaryLength:function(a){this.$2D_3=a;return a},$2D_3:180,get_desiredSnippetLength:function(){return this.$1c_3},set_desiredSnippetLength:function(a){this.$1c_3=a;return a},$1c_3:90,get_personalizedQuery:function(){return this.$2j_3},set_personalizedQuery:function(a){this.$2j_3=a;return a},$2j_3:false,get_timeZoneId:function(){return this.$2G_3},set_timeZoneId:function(a){this.$2G_3=a;return a},initialize:function(){if(this.$R_3){this.$s_3=this.$$d_$51_3;ajaxNavigate.add_navigate(this.$s_3)}Srch.ClientControl.prototype.initialize.call(this)},dispose:function(){try{if(!Srch.U.n(this.$s_3)){ajaxNavigate.remove_navigate(this.$s_3);this.$s_3=null}}finally{Srch.ClientControl.prototype.dispose.call(this)}},scriptApplication_PreLoad:function(h,i){this.$1_2("ScriptApplication_PreLoad","DataProvider");if(this.$R_3){var c=Srch.ScriptApplicationManager.get_current().queryGroups[this.$5_3];if(!Srch.U.n(c)){for(var a=null,e=0;e<c.displays.length;e++){var d=c.displays[e];if(!Srch.U.n(d)){a=this.$$d_displayControl_QueryReady;d.add_queryReady(a);Srch.U.appendArray(this.listenedEvents,new Srch.ListenedEvent(d,1,a));if(Srch.Result.isInstanceOfType(d)){var g=d;if(Srch.U.e(g.$h_4))this.$3U_3=true;if(Srch.U.e(g.$e_4))this.$3T_3=true}}}for(var f=0;f<c.searchBoxes.length;f++){var b=c.searchBoxes[f];if(!Srch.U.n(b)){a=this.$$d_searchBox_QueryReady;b.add_queryReady(a);Srch.U.appendArray(this.listenedEvents,new Srch.ListenedEvent(b,1,a));a=this.$$d_searchBox_BatchQueryIssuing;b.add_batchQueryIssuing(a);Srch.U.appendArray(this.listenedEvents,new Srch.ListenedEvent(b,3,a));a=this.$$d_searchBox_BatchResultReady;b.add_batchResultReady(a);Srch.U.appendArray(this.listenedEvents,new Srch.ListenedEvent(b,5,a))}}}}Srch.ClientControl.prototype.scriptApplication_PreLoad.call(this,h,i)},scriptApplication_Load:function(a,b){this.$1_2("ScriptApplication_Load","DataProvider");this.$R_3&&this.$51_3(null,null);Srch.ClientControl.prototype.scriptApplication_Load.call(this,a,b)},scriptApplication_PostLoad:function(a,b){this.$1_2("ScriptApplication_PostPreLoad","DataProvider");if(!this.loadServerTemplateScripts()){this.$1_2("ScriptApplication_PostLoad","Inline control render");this.renderControl(null,this)}Srch.ClientControl.prototype.scriptApplication_PostLoad.call(this,a,b)},serverTemplateScriptsCallback:function(){Srch.ClientControl.prototype.serverTemplateScriptsCallback.call(this);this.$1_2("ServerTemplateScriptsCallback","Delay load control render");this.renderControl(null,this)},add_queryIssuing:function(a){this.get_events().addHandler(Srch.EventType.toString(2),a)},remove_queryIssuing:function(a){this.get_events().removeHandler(Srch.EventType.toString(2),a)},raiseQueryIssuingEvent:function(b){this.$1_2("RaiseQueryIssuingEvent","");this.$20_3++;LogRUMExtendedAction("SearchDataProviderIssueQuery",this.$20_3,null,(new Date).getTime(),0);this.$26_3=false;this.set_messages([]);var a=this.get_events().getHandler(Srch.EventType.toString(2));!Srch.U.n(a)&&a(this,b)},add_resultReady:function(a){this.get_events().addHandler(Srch.EventType.toString(4),a)},remove_resultReady:function(a){this.get_events().removeHandler(Srch.EventType.toString(4),a)},raiseResultReadyEvent:function(a){var c=!Srch.U.n(a)&&!Srch.U.n(a.result)?a.result["QueryId"]:null,b=new SP.CScope("DataProvider.RaiseResultReadyEvent");b.start();this.$1_2("RaiseResultReadyEvent","Result is ready");LogRUMExtendedAction("SearchDataProviderRaiseResultReady",this.$20_3,c,(new Date).getTime(),0);this.$2u_3=a;!Srch.U.n(a)&&this.$4b_3(a.result);if(this.$5f_3()){b.stop();return}this.$4c_3(this.$2u_3);b.stop();LogRUMExtendedAction("SearchDataProviderDoneRaisingResultReady",this.$20_3,c,(new Date).getTime(),0)},$4c_3:function(b){var a=this.get_events().getHandler(Srch.EventType.toString(4));!Srch.U.n(a)&&a(this,b);this.$Q_3=0},$2u_3:null,add_queryStateChanged:function(a){this.get_events().addHandler(Srch.EventType.toString(6),a)},remove_queryStateChanged:function(a){this.get_events().removeHandler(Srch.EventType.toString(6),a)},raiseQueryStateChangedEvent:function(b){this.$1_2("RaiseQueryStateChangedEvent","");var a=this.get_events().getHandler(Srch.EventType.toString(6));!Srch.U.n(a)&&a(this,b)},$5f_3:function(){this.$1_2("LoadTemplateScripts","Trying to load template scripts...");return this.loadRenderTemplateScripts(this.$2E_3,this.$$d_$66_3,this.$$d_$66_3,-1,true)},$66_3:function(){this.$1_2("TemplateScriptsCallback","TemplateScriptsCallback");this.$2E_3=[];this.$4c_3(this.$2u_3)},$4b_3:function(j){var c=new SP.CScope("DataProvider.ProcessResult");c.start();this.$8_3=0;this.$M_3=0;this.$n_3=null;this.$U_3=null;this.$21_3++;if(Srch.U.n(j)){c.stop();return}if(!this.$Q_3)this.$1F_3=Srch.U.getTableProperty(j,"piPageImpression");var f=0,d=j["ResultTables"];if(!Srch.U.n(d)&&d.length>0)for(var g=0;g<d.length;g++){var a=d[g];if(!Srch.U.n(a))if(Srch.U.isTableTypeof(a,Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.refinementResults))this.$5r_3(a);else{var b=0;if(Srch.U.isSubstrateTable(a)){if(this.$8_3<1){b=a["TotalRows"];if(!Srch.U.n(b))this.$8_3=b}b=a["RowCount"];if(!Srch.U.n(b))f+=b}if(this.$3T_3){var k=Srch.U.getTableProperty(a,"RenderTemplateId");Srch.U.appendScriptsToLoad(this.$2E_3,k)}if(this.$3U_3){var e=a["ResultRows"];if(!Srch.U.n(e)&&e.length>0)for(var h=0;h<e.length;h++){var i=e[h];if(!Srch.U.n(i)){var l=i["RenderTemplateId"];Srch.U.appendScriptsToLoad(this.$2E_3,l);i["ParentTableReference"]=a}}}}}this.$M_3=f;if(this.$8_3<1||this.$M_3<0){this.$3_2("ProcessResult","No result. totalRows: {0}, relevantRowCount: {1}",this.$8_3,f);c.stop();return}c.stop()},$5r_3:function(h){if(!Srch.U.n(h)){var c=h["ResultRows"];if(!Srch.U.n(c)&&c.length>0){var e=null,g=null,d=null;this.$U_3={};this.$n_3={};for(var f=0;f<c.length;f++){var b=c[f];if(!Srch.U.n(b)){var a=b["RefinerName"];if(!Srch.U.e(a)){if(e!==a){e=a;g=Srch.ValueInfo.getIntervalLabelsDictionary(e,b["Type"]);d=[];this.$U_3[a]={};this.$n_3[a]=d}if(Srch.ValueInfo.isKnownEntityPropertyName(a))this.$5h_3(b,a,d);else{var i=this.$5p_3(b,a,g);Srch.U.appendArray(d,i)}}}}}}},$5t_3:function(c){if(!Srch.U.w(c)&&!Srch.U.n(this.$O_3))for(var a=0;a<this.$O_3.length;a++){var b=this.$O_3[a];if(!Srch.U.w(b)&&b.startsWith(c))return b}return ""},$5p_3:function(a,b,f){var d=Srch.ValueInfo.ValueTypeHandler.$13(b,Srch.U.getStringFieldOnObject(a,"Type"),"baseHandlerId"),e=Srch.ValueInfo.$d(b);if(d==="Boolean"||"OWSBOOL"===e){var c=new Srch.ValueInfo(Srch.U.getStringFieldOnObject(a,"RefinementName"),b,false);if(!Srch.U.n(c)&&!Srch.U.w(c.toString())){Srch.U.setFieldOnObject(a,"OriginalRefinmentName",Srch.U.getStringFieldOnObject(a,"RefinementName"));Srch.U.setFieldOnObject(a,"RefinementName",c.toString())}return a}else return this.$5q_3(a,b,f)},$5q_3:function(d,f,e){var a=d,q=false;try{var g=d["RefinementToken"];if(Srch.U.w(g))g="";var b=Srch.U.parseTypedRangeToken(g,d),h="",c=Srch.U.getOrCreateFieldOnObject(e,"IntervalBoundaryCount",-1);if(!Srch.U.n(b)&&b.length>2){var i=b[1],j=b[2],r=i.startsWith("min"),s=j.startsWith("max"),k=this.$5t_3(f);if(!Srch.U.w(k)&&k.indexOf("discretize")>-1){var z=new RegExp("/","g"),v=k.match(z),A=0;if(!Srch.U.n(v))A=v.length;c++;var m="-1",n="-1";if(r)n="0";else if(s)m=(c-1).toString();else{m=(c-1).toString();n=c.toString()}var w=e[m],x=e[n];if(!Srch.U.w(w))i=w;if(!Srch.U.w(x))j=x;Srch.U.setFieldOnObject(e,"IntervalBoundaryCount",c)}var t=new Srch.ValueInfo(i,f,false),u=new Srch.ValueInfo(j,f,false),o,p,l=(p=Srch.ValueInfo.$5R(t,u,f,e,o={val:h}),h=o.val,p);if(!Srch.U.w(l)){q=true;this.$3_2("ProcessFilterRowForRangeLocalization","Adjusting discrete range[{1}] refiner row changing text from '{0}' to '{2}'",a["RefinementName"],a["RefinementToken"],l);a=Srch.U.copyDictionary(d);a["RefinementRangeOriginalRow"]=d;a["RefinementName"]=l;a["RefinementRangeValue1"]=t;a["RefinementRangeValue2"]=u;a["RefinementRangeRawValue1"]=b[1];a["RefinementRangeRawValue2"]=b[2];a["RefinementRangeBoundaryIndex"]=c;a["RefinementRangeIntervalLabels"]=e;a["RefinementRangeIntervalLabelFormat"]=h;if(r&&s)a["RefinementRangeAnyValue"]=true}}}catch(y){this.$3_2("ProcessFilterRowForRangeLocalization","Error adjusting discrete range[{1}] refiner label '{0}': '{2}'",a["RefinementName"],a["RefinementToken"],y.toString())}if(!q)a=d;return a},$5h_3:function(c,i,r){if(Srch.U.n(this.$U_3)||Srch.U.n(this.$U_3[i]))return;var k=this.$U_3[i],g=Srch.ValueInfo.getValueOrValuesArray(c["RefinementValue"],i,false),d=null;if(g.isValuesArray)d=g.value;else{d=[];Srch.U.appendArray(d,g)}for(var h={},j=d,q=j.length,f=0;f<q;++f){var a=j[f];if(a.isEmpty)continue;var l=k[a.entityId];if(a.isEntity&&!Srch.U.n(l)){var e=l,m=e["RefinementCount"],n=c["RefinementCount"],o=m+n;if(!(a.entityId in h)){h[a.entityId]=e;e["RefinementCount"]=o;this.$3_2("MergeEntityRefinementRows","Merging refiner row for {0} and combining result counts: {1} + {2} = {3}",a.getFilterToken(),m,n,o)}Srch.U.appendArray(e["MergedRows"],c)}else{var b=c;if(a.isEntity&&!Srch.U.w(a.entityLabel)){b=Srch.U.copyDictionary(c);h[a.entityId]=b;var p=[];Srch.U.appendArray(p,c);b["MergedRows"]=p;b["RefinementName"]=a.entityLabel;b["RefinementEntityId"]=a.entityId;b["RefinementEntityType"]=a.entityType;b["RefinementValueInfo"]=a;if(Srch.U.n(b["RefinementToken"]))b["RefinementToken"]=a.getFilterToken();k[a.entityId]=b}Srch.U.appendArray(r,b)}}},displayControl_QueryReady:function(d,c){this.$1_2("DisplayControl_QueryReady","");var a=c;if(!Srch.U.n(a)){this.$Q_3=a.userAction;var b=a.queryState;if(!Srch.U.n(b)){this.$37_3(b,Srch.DataProvider.$4K(a,2));this.$3_2("DisplayControl_QueryReady","Query is '{0}'",this.$2_3.k);this.issueQuery()}}},searchBox_QueryReady:function(d,c){this.$1_2("SearchBox_QueryReady","");var a=c;if(!Srch.U.n(a)){this.$Q_3=a.userAction;var b=a.queryState;if(!Srch.U.n(b)){this.$37_3(b,Srch.DataProvider.$4K(a,1));this.$3_2("SearchBox_QueryReady","Query is '{0}'",this.$2_3.k);if(this.$u_3){this.$1_2("SearchBox_QueryReady","Batching mode");Srch.U.appendArray(a.batchDataProviders,this)}else{this.$1_2("SearchBox_QueryReady","Non batching mode");this.issueQuery()}}}},clearResults:function(){var a=new Srch.QueryEventArgs(this.$2_3);a.result={};a.skipSearch=true;this.$2o_3("ClearResults",a)},searchBox_BatchQueryIssuing:function(e,d){this.$1_2("SearchBox_BatchQueryIssuing","");if(this.$u_3){this.$3_2("SearchBox_BatchQueryIssuing","Passing batched event along for query group '{0}'",this.$5_3);var a=new Srch.QueryEventArgs(this.$2_3);this.raiseQueryIssuingEvent(a);var b=a.result;if(!Srch.U.n(b)||a.skipSearch){var c=d;Srch.U.removeArray(c.batchDataProviders,this);this.$2o_3("SearchBox_BatchQueryIssuing",a)}}},searchBox_BatchResultReady:function(c,b){this.$1_2("SearchBox_BatchResultReady","");if(this.$u_3&&!this.$26_3){var a=b;if(!Srch.U.n(a)){this.$3_2("SearchBox_BatchResultReady","Passing batched event along for query group '{0}'",this.$5_3);this.$4d_3(a.results)}}},$5S_3:function(){var a=null;this.$3_2("GetNavigateQueryState","Getting hash value with key '{0}'...",this.$5_3);var b=ajaxNavigate.getParam(this.$5_3);if(Srch.U.e(b)){this.$3_2("GetNavigateQueryState","Getting hash value with key '{0}'...","__");b=ajaxNavigate.getParam("__")}if(Srch.U.e(b)){this.$1_2("GetNavigateQueryState","Did not find query group hash value");a=Srch.QueryState.$5F()}else{this.$3_2("GetNavigateQueryState","Found hash value with key '{0}'...",this.$5_3);a=new Srch.QueryState;a.copyFrom(this.$2_3,0);var c=null;try{c=Srch.ParseJSONUtil.parseObjectFromJsonString(b)}catch(d){this.$3_2("GetNavigateQueryState","Could not deserialize json string: {0} error: {1}",b,d.message);return a}if(Srch.U.n(c)){this.$1_2("GetNavigateQueryState","Did not find valid navigation state.");return a}else{this.$1_2("GetNavigateQueryState","Found valid navigation state.");a.copyFrom(c,0)}}return a},$51_3:function(c){if(Srch.U.n(c))this.$1_2("Update","load");else{this.$1_2("Update","ajaxNav");if(!this.$2I_3){this.$1_2("Update","Ajax navigate ignored");return}}var a=this.$5S_3();if(!Srch.U.n(a)){if(!Srch.U.isPageInMdsMode()){var b=Srch.U.getParentElementByName(this.get_element(),"FORM");if(!Srch.U.n(b)){this.$3_2("Update","Changing form action from '{0}' to '{1}'...",b.action,window.location.href);b.action=window.location.href}}if(!this.$2_3.equalsTo(a)){this.$1_2("Update","Change current state to navigate state");this.$37_3(a,0);this.issueQuery();return}else this.$1_2("Update","State did not change")}else{this.$1_2("Update","Display initial result");this.processInitial()}},processInitial:function(){this.$1_2("ProcessInitial","ProcessInitial");if(this.$2_3.equalsTo(this.get_initialQueryState())){this.$1_2("ProcessInitial","Already at initial state.");return}this.$37_3(this.get_initialQueryState(),0);var a=this.get_initialResultObject();if(!Srch.U.n(a)){var b=new Srch.QueryEventArgs(this.$2_3);this.raiseQueryIssuingEvent(b);var f=b.result;if(!Srch.U.n(f)||b.skipSearch){this.$2o_3("ProcessInitial",b);return}var c=Srch.ControlMessage.getIfControlMessage(a);if(c){this.$3_2("ProcessInitial","Server query failed: {0}",c.toString());this.$2n_3(c)}else{var e=a["QueryErrors"];if(!Srch.U.n(e)){this.$3_2("ProcessInitial","Looking for query error with key '{0}'",this.$5_3);var d=Srch.ControlMessage.getIfControlMessage(e[this.$5_3]);if(!Srch.U.n(d)){this.$3_2("ProcessInitial","Server query failed: {0}",d.toString());this.$2n_3(d);return}}this.$1_2("ProcessInitial","Show initial result");var g=new Srch.ResultEventArgs(a);this.raiseResultReadyEvent(g)}}else{this.$1_2("ProcessInitial","Execute initial query");this.issueQuery()}},$37_3:function(b,c){this.$2_3.copyFrom(b,c);var a=new Srch.QueryEventArgs(this.$2_3);this.raiseQueryStateChangedEvent(a)},issueQuery:function(){var b=new SP.CScope("DataProvider.IssueQuery");b.start();Srch.U.ensureNotNullOrUndefined(this.$2_3,this,"IssueQuery","this.CurrentQueryState");this.$1_2("IssueQuery",null);var a=new Srch.QueryEventArgs(this.$2_3);this.raiseQueryIssuingEvent(a);var c=a.result;if(!Srch.U.n(c)||a.skipSearch){this.$2o_3("IssueQuery",a);return}EnsureScript("sp.search.js",TypeofFullName("Microsoft.SharePoint.Client.Search.Query.KeywordQuery"),this.$$d_$5a_3);b.stop()},$5a_3:function(){var a=Srch.ScriptApplicationManager.get_clientRuntimeContext(),j=[],k=[],d=Microsoft.SharePoint.Client.Search.Query.KeywordQuery.newObject(a);this.$1_2("IssueQueryHelper","*****Building query*****");Srch.U.fillKeywordQuery(d,this);Srch.U.appendArray(j,d);Srch.U.appendArray(k,this.get_$4Y_3());a.set_requestTimeout(6e5);var l=Microsoft.SharePoint.Client.Search.Query.SearchExecutor.newObject(a),b=new SP.ExceptionHandlingScope(a),e=null,f=null,g=null,h=null;try{e=b.startScope();try{f=b.startTry();h=l.executeQueries(k,j,true)}finally{!Srch.U.n(f)&&f.dispose()}try{g=b.startCatch()}finally{!Srch.U.n(g)&&g.dispose()}}finally{!Srch.U.n(e)&&e.dispose()}this.$1_2("IssueQueryHelper","*****Connecting to server*****");var c=this,i=this;a.executeQueryAsync(function(){if(b.get_hasException()){c.$1_2("IssueQueryHelper","*****failure*****");var a=Srch.ControlMessage.getFromExceptionHandlingScope(b);c.$4y_3(d,a)}else{c.$1_2("IssueQueryHelper","*****Success*****");!Srch.U.n(h)&&c.$4d_3(h.get_value())}},function(c,a){i.$1_2("IssueQueryHelper","*****failure*****");if(!Srch.U.n(a)){var b=Srch.ControlMessage.getFromClientRequestFailedEventArgs(a);i.$4y_3(d,b)}})},$2o_3:function(c,a){if(a.skipSearch){if(Srch.U.n(a.result))a.result={};this.$1_2(c,"Handler requested to skip the search.")}else this.$1_2(c,"Result provided by handler.");this.$26_3=true;var b=new Srch.ResultEventArgs(a.result);b.searchSkipped=a.skipSearch;this.raiseResultReadyEvent(b)},$4y_3:function(d,a){if(!Srch.U.n(d)&&!Srch.U.n(a)){var b="";try{b=d.get_queryText()}catch(c){this.$3_2("TraceIssueQueryFailureAndProcessErrorResult","Could not retrieve query text for logging the error due to '{0}'",c.toString())}this.$3_2("TraceIssueQueryFailureAndProcessErrorResult","Executing query '{0}' failed: {1}",b,a.toString());this.$2n_3(a)}},$4d_3:function(h){this.$3_2("RaiseResultReadyEventIfNeeded","Looking for result with request ID '{0}' for query group '{1}'",this.get_$25_3(),this.$5_3);if(!Srch.U.n(h)){var f=SP.Guid.get_empty().toString().length,d=h;for(var e in d){var a={key:e,value:d[e]};if(!Srch.U.w(a.key)){this.$3_2("RaiseResultReadyEventIfNeeded","examining result with request ID '{0}'",a.key);if(a.key==="__"||a.key===this.get_$25_3()){var g=a.value;if(!Srch.U.n(g)){var c=g["QueryErrors"];if(!Srch.U.n(c)){this.$3_2("RaiseResultReadyEventIfNeeded","Looking for query error with key '{0}'",this.get_$25_3());var b=Srch.ControlMessage.getIfControlMessage(c[this.get_$25_3()]);if(Srch.U.n(b)){this.$3_2("RaiseResultReadyEventIfNeeded","Looking for query error with key '{0}'","__");b=Srch.ControlMessage.getIfControlMessage(c["__"])}if(!Srch.U.n(b)){this.$1_2("RaiseResultReadyEventIfNeeded","Found query error");this.$2n_3(b);return}}this.$1_2("RaiseResultReadyEventIfNeeded","Found result");var i=new Srch.ResultEventArgs(a.value);this.raiseResultReadyEvent(i);return}}else if(a.key.length>=f){var j=a.key.substr(f);if(j===this.$5_3){this.$1_2("RaiseResultReadyEventIfNeeded","Found stale result");return}}}}}this.$1_2("RaiseResultReadyEventIfNeeded","No result found");this.raiseEmptyResultReadyEvent()},$2n_3:function(a){if(!this.$26_3){Srch.U.appendArray(this.get_messages(),a);this.raiseEmptyResultReadyEvent()}},displayControlMessages:function(){},raiseEmptyResultReadyEvent:function(){this.$1_2("RaiseEmptyResultReadyEvent","Empty result is ready");var a=new Srch.ResultEventArgs({});this.raiseResultReadyEvent(a)},getSortRankName:function(){if(!Srch.U.n(this.$2_3.m)&&Srch.U.n(this.$2_3.o))if(this.$2_3.m===Srch.DataProvider.$1x||this.$2_3.m===Srch.DataProvider.$1k||this.$2_3.m===Srch.DataProvider.$2f)return Srch.Res.rs_SocialDistanceSort;return this.getSortName()},getSortName:function(){if(!Srch.U.n(this.$2_3.o)&&!Srch.U.n(this.$S_3))for(var f=0;f<this.$S_3.length;f++){var a=this.$S_3[f];if(!Srch.U.n(a)&&!Srch.U.n(a.sorts))if(this.$2_3.o.length===a.sorts.length){for(var b=true,c=0;c<a.sorts.length;c++){var d=this.$2_3.o[c],e=a.sorts[c];if(!d&&!e)b=true;else if(!d||!e){b=false;break}else if(d.p!==e.p||d.d!==e.d){b=false;break}}if(b)return a.name}}return null}};Srch.DisplayControl=function(a){this.$$d_dataProvider_ResultReady=Function.createDelegate(this,this.dataProvider_ResultReady);this.$$d_dataProvider_QueryIssuing=Function.createDelegate(this,this.dataProvider_QueryIssuing);this.$1D_3=[];Srch.DisplayControl.initializeBase(this,[a])};Srch.DisplayControl.prototype={get_queryGroupName:function(){return this.$5_3},set_queryGroupName:function(a){this.$5_3=a;return a},$5_3:"",get_dataProvider:function(){if(Srch.U.n(this.$2P_3)){var a=Srch.ScriptApplicationManager.get_current().queryGroups[this.$5_3];if(!Srch.U.n(a))this.$2P_3=a.dataProvider}return this.$2P_3},$2P_3:null,get_renderedResult:function(){return this.$G_3},set_renderedResult:function(a){this.$G_3=a;return a},$G_3:false,get_shouldShowNoResultMessage:function(){return !this.$G_3},get_currentResultTableCollection:function(){return this.$A_3},set_currentResultTableCollection:function(a){this.$A_3=a;return a},$A_3:null,get_emptyMessage:function(){return this.$3F_3},set_emptyMessage:function(a){this.$3F_3=a;return a},$3F_3:"",get_searchSkipped:function(){return this.$3k_3},$3k_3:false,scriptApplication_PreLoad:function(c,d){this.$1_2("ScriptApplication_PreLoad","DisplayControl");var a=this.get_dataProvider();if(!Srch.U.n(a)){var b=this.$$d_dataProvider_QueryIssuing;a.add_queryIssuing(b);Srch.U.appendArray(this.listenedEvents,new Srch.ListenedEvent(a,2,b));b=this.$$d_dataProvider_ResultReady;a.add_resultReady(b);Srch.U.appendArray(this.listenedEvents,new Srch.ListenedEvent(a,4,b))}else!Srch.U.n(this.get_messages())&&this.get_messages().length>0&&this.displayControlMessages();Srch.ClientControl.prototype.scriptApplication_PreLoad.call(this,c,d)},scriptApplication_PostLoad:function(a,b){this.$1_2("ScriptApplication_PostLoad","DisplayControl");this.loadServerTemplateScripts();Srch.ClientControl.prototype.scriptApplication_PostLoad.call(this,a,b)},serverTemplateScriptsCallback:function(){Srch.ClientControl.prototype.serverTemplateScriptsCallback.call(this);if(!Srch.U.n(this.$A_3)){this.$1_2("ServerTemplateScriptsCallback","Delay load control render");this.render()}},add_queryReady:function(a){this.get_events().addHandler(Srch.EventType.toString(1),a)},remove_queryReady:function(a){this.get_events().removeHandler(Srch.EventType.toString(1),a)},raiseQueryReadyEvent:function(b){this.$1_2("RaiseQueryReadyEvent","");var a=this.get_events().getHandler(Srch.EventType.toString(1));!Srch.U.n(a)&&a(this,b);Srch.ScriptApplicationManager.get_current().$41_1()},add_resultRendered:function(a){this.get_events().addHandler(Srch.EventType.toString(7),a)},remove_resultRendered:function(a){this.get_events().removeHandler(Srch.EventType.toString(7),a)},raiseResultRenderedEvent:function(b){this.$1_2("RaiseResultRenderedEvent","");var a=this.get_events().getHandler(Srch.EventType.toString(7));!SP.ScriptUtility.isNullOrUndefined(a)&&a(this,b);this.raiseOneTimeResultRenderedEvent(b)},add_oneTimeResultRendered:function(a){this.get_events().addHandler("OneTimeResultRendered",a);Srch.U.appendArray(this.$1D_3,a)},remove_oneTimeResultRendered:function(a){this.get_events().removeHandler(Srch.EventType.toString(7),a)},raiseOneTimeResultRenderedEvent:function(d){this.$1_2("RaiseOneTimeResultRendered","");var b=this.get_events().getHandler("OneTimeResultRendered");!SP.ScriptUtility.isNullOrUndefined(b)&&b(this,d);if(!Srch.U.n(this.$1D_3))for(var a=0;a<this.$1D_3.length;a++){var c=this.$1D_3[a];this.get_events().removeHandler("OneTimeResultRendered",c)}this.$1D_3=[]},clearAllRefiners:function(){var a=new Srch.QueryState;a.r=new Array(0);a.s=1;var b=new Srch.QueryEventArgs(a);b.userAction=3;this.raiseQueryReadyEvent(b)},refresh:function(b){if(!Srch.U.n(b)){var a=new Srch.QueryEventArgs(b);a.userAction=0;this.raiseQueryReadyEvent(a)}},dataProvider_QueryIssuing:function(c,b){this.$1_2("DataProvider_QueryIssuing","");var a=b;!Srch.U.n(a)&&this.processQueryIssuing(a.queryState)},dataProvider_ResultReady:function(c,b){this.$1_2("DataProvider_ResultReady","");var a=b;this.$3k_3=a.searchSkipped;!Srch.U.n(a)&&this.processResultReady(a.result)},processQueryIssuing:function(){this.$A_3=null},processResultReady:function(a){this.$A_3=a;if(Srch.U.n(this.serverTemplateScriptsToLoad)||this.serverTemplateScriptsToLoad.length<1){this.$1_2("ProcessResultReady","Inline control render");this.render()}},render:function(){this.$G_3=false;this.renderControl(this.$A_3,this.get_dataProvider())}};Srch.Refinement=function(a){this.$$d_$55_4=Function.createDelegate(this,this.$55_4);this.$3a_4={};Srch.Refinement.initializeBase(this,[a])};Srch.Refinement.$1q=function(d,a){if(!Srch.U.n(d))if(!Srch.U.n(a)&&a.length>0)for(var b=0;b<a.length;b++){var c=a[b];if(!Srch.U.n(c)&&d===c.n)return c}return null};Srch.Refinement.createRefinementTextbox=function(d){var b=document.createElement("div"),a=document.createElement("input");a.type="text";a.name=d+"_txtGroup";a.className="ms-ref-refineritem";b.appendChild(a);var c=$get(d+"_SpecifiedValue"),e=c.parentNode;e.insertBefore(b,c);return a};Srch.Refinement.submitMultiRefinement=function(e,g,f,h){var d=g,a,b,c,i=(c=Srch.Refinement.$4I(e,d,f,b={val:a}),a=b.val,c);d.updateRefinementFilters(e,i,"OR",h,a)};Srch.Refinement.$4I=function(i,n,d,j){Srch.U.ensureNotNullOrUndefined(n,null,"SubmitMultiRefinement","control");var c=document.getElementsByName(i+"_ChkGroup"),k=document.getElementsByName(i+"_txtGroup"),e=[];j.val={};var f=null,l=n.getCurrentRefinementCategory(i);if(!Srch.U.n(l))f=l.m;for(var a=0;a<c.length;a++)if(c[a].checked){var g=c[a].value,o=c[a].getAttribute("data-displayValue");Srch.U.appendArray(e,g);var p=!Srch.U.n(f)&&!Srch.U.e(f[g]);j.val[g]=o}for(var h=0;h<k.length;h++){var b=k[h].value;if(!Srch.U.w(b)){var m=!Srch.U.n(d)&&d?Srch.Refinement.ensureUserSpecifiedRefinerValueHasWhiteSpaceQuotes(b):Srch.RefinementUtil.stringValueToEqualsToken(b);Srch.U.appendArray(e,m);j.val[m]=!Srch.U.n(d)&&d?Srch.Refinement.ensureUserSpecifiedRefinerValueHasWhiteSpaceQuotes(b):b}}return e};Srch.Refinement.ensureUserSpecifiedRefinerValueHasWhiteSpaceQuotes=function(a){if(!Srch.U.w(a)){var b=a.match(Srch.Refinement.$53),c=Srch.U.isArray(b)&&b.length>0&&b[0]===a;if(!c)return String.format('"{0}"',Srch.RefinementUtil.escapeTokenStringValue(a))}return a};Srch.Refinement.getRefinementLocalizedTitle=function(a){return Srch.U.$B("rf_RefinementTitle_"+a,false)};Srch.Refinement.getRefinementTitle=function(b){var a="";if(!Srch.U.n(b)&&!Srch.U.e(b.propertyName)){var c=b.propertyName;a=b.overrideDisplayName;if(Srch.U.e(a))a=Srch.Refinement.getRefinementLocalizedTitle(c);if(Srch.U.e(a))a=c}return a};Srch.Refinement.getExpanded=function(f){var e="refinementExpandCookieName_"+f,a=document.cookie;if(!Srch.U.e(a)){var b=a.indexOf(e+"=");if(b!==-1){b=b+e.length+1;var d=a.indexOf(";",b);if(d===-1)d=a.length;var c=a.substring(b,d);if(!Srch.U.n(c))c=unescape(c);return c}}return "true"};Srch.Refinement.setExpanded=function(c,b){if(!Srch.U.n(b)){var d="refinementExpandCookieName_"+c,a=new Date;a.setDate(a.getDate()+30);document.cookie=d+"="+escape(b)+";expires="+a.toUTCString()}};Srch.Refinement.multiRefinerSpecifyOtherFilterValue=function(a,c,d,e){var b=Srch.Refinement.createRefinementTextbox(a);Srch.U.addHandler(b,"keypress",function(b){Srch.U.isEnterKey(String.fromCharCode(b.charCode))&&Srch.Refinement.submitMultiRefinement(a,c,d,e)});b.focus()};Srch.Refinement.prototype={get_selectedRefinementControls:function(){return this.$7_4},set_selectedRefinementControls:function(a){this.$7_4=a;return a},$7_4:null,get_hideApplyForMultiValueFilter:function(){return this.$2c_4},set_hideApplyForMultiValueFilter:function(a){this.$2c_4=a;return a},$2c_4:false,get_useManagedNavigationRefiners:function(){return this.$3w_4},set_useManagedNavigationRefiners:function(a){this.$3w_4=a;return a},$3w_4:false,get_emptyRefinementMessageId:function(){if(Srch.U.e(this.$1d_4))this.$1d_4=this.get_nextUniqueId()+"EmptyRefinement";return this.$1d_4},set_emptyRefinementMessageId:function(a){this.$1d_4=a;return a},$1d_4:"",addRefinementProperty:function(d,c,b,e){var a=new Srch.Refinement.RefinerOptions;a.useKql=c;a.useContains=b;a.op=e;this.$3a_4[d]=a},$55_4:function(){},$5K_4:function(){if(Srch.U.n(this.alternateRenderer)){var b=false;if(!Srch.U.n(this.$7_4))for(var a=0;a<this.$7_4.length;a++)if(!Srch.U.n(this.$7_4[a])&&!Srch.U.n(this.$7_4[a].alternateRenderer)){b=true;break}if(b)this.alternateRenderer=this.$$d_$55_4}},scriptApplication_PreLoad:function(d,e){this.$1_2("ScriptApplication_PreLoad","Refinement");if(!Srch.U.n(this.$7_4)&&this.$7_4.length>0)for(var c=0;c<this.$7_4.length;c++){var b=this.$7_4[c];if(!Srch.U.n(b)){var a=Srch.ValueInfo.ValueTypeHandler.$4C(b.propertyName);a=Srch.U.w(a)?b.renderTemplateId:a;(this.$10_2||a!==b.renderTemplateId)&&Srch.U.appendScriptsToLoad(this.serverTemplateScriptsToLoad,a)}}Srch.DisplayControl.prototype.scriptApplication_PreLoad.call(this,d,e)},render:function(){this.$5K_4();Srch.DisplayControl.prototype.render.call(this);if(!Srch.U.n(this.$7_4))for(var b=0;b<this.$7_4.length;b++)this.$5v_4(this.$7_4[b]);var a=$get(this.get_emptyRefinementMessageId());if(!Srch.U.n(a))if(this.get_shouldShowNoResultMessage())Srch.U.ensureCSSClassNameNotExist(a,"ms-hide");else Srch.U.ensureCSSClassNameExist(a,"ms-hide");this.updateDisplayControlWithNewMessages();this.raiseResultRenderedEvent(new Srch.ResultEventArgs(this.$A_3))},$5v_4:function(a){var d=new SP.CScope("Refinement.RenderRefinementControl");d.start();if(!Srch.U.n(a)){var c=null,e=a.containerId;if(Srch.U.n(e)||Srch.U.w(e)){this.$3_2("RenderRefinementControl","Missing refinement container ID for: ({0})",a.propertyName);d.stop();return}var f=$get(a.containerId);if(Srch.U.n(f)){this.$3_2("RenderRefinementControl","Missing refinement container DOM element for: {0}({1})",e,a.propertyName);d.stop();return}if(Srch.U.n(a.alternateRenderContext))a.alternateRenderContext={};if(!Srch.U.n(this.get_dataProvider().$n_3))c=this.get_dataProvider().$n_3[a.propertyName];if(!Srch.U.n(c)&&c.length>0||this.hasRefinementCategory(a.propertyName))this.$G_3=true;var b={};if(!Srch.U.n(a.alternateRenderer)){b=a.alternateRenderContext;a.alternateRenderContext["ListData"]=c;a.alternateRenderContext["ClientControl"]=this;a.alternateRenderContext["RefinementControl"]=a;a.alternateRenderContext["DataProvider"]=this.get_dataProvider();a.alternateRenderContext["ScriptApplicationManager"]=Srch.ScriptApplicationManager.get_current();this.invokeAlternateRender(a.alternateRenderer,f,a.alternateRenderContext)}else{b["ResolveTemplate"]=Srch.U.resolveRenderTemplate;b["ListData"]=c;b["ClientControl"]=this;b["RefinementControl"]=a;b["DataProvider"]=this.get_dataProvider();b["ScriptApplicationManager"]=Srch.ScriptApplicationManager.get_current();this.invokeClientRenderer(f,b)}this.processRenderingErrorMessages(b)}d.stop()},addRefinementFilter:function(d,c){var a={},b=[];Srch.U.appendArray(b,c);a[d]=b;this.addRefinementFilters(a)},addRefinementFiltersJSON:function(a){this.addRefinementFilters(Srch.ParseJSONUtil.parseObjectFromJsonString(a))},addRefinementFiltersJSONWithOr:function(a){this.addRefinementFiltersWithOp(Srch.ParseJSONUtil.parseObjectFromJsonString(a),"or")},addRefinementFilters:function(a){this.addRefinementFiltersWithOp(a,null)},addRefinementFiltersWithOp:function(g,l){if(Srch.U.n(g)||Srch.U.n(this.get_dataProvider()))return;var a=new Srch.QueryState;a.r=this.$3N_4(null);var f=g;for(var h in f){var j={key:h,value:f[h]},c=j.key,b=j.value;if(Srch.U.e(c))continue;var k=Srch.Refinement.$1q(c,a.r);if(!Srch.U.n(k)){if(!Srch.U.n(b))for(var d=0;d<b.length;d++)k.addToken(b[d])}else{var e=new Srch.RefinementCategory(c);e.t=b;if(!Srch.U.e(l))e.o=l;Srch.U.appendArray(a.r,e)}}a.s=1;var i=new Srch.QueryEventArgs(a);i.userAction=3;this.raiseQueryReadyEvent(i)},removeRefinementFilter:function(d,c){var a={},b=[];Srch.U.appendArray(b,c);a[d]=b;this.removeRefinementFilters(a)},removeRefinementFiltersJSON:function(a){this.removeRefinementFilters(Srch.ParseJSONUtil.parseObjectFromJsonString(a))},removeRefinementFilters:function(g){if(Srch.U.n(g)||Srch.U.n(this.get_dataProvider()))return;var a=new Srch.QueryState;a.r=this.$3N_4(null);var f=g;for(var h in f){var j={key:h,value:f[h]},b=j.key,c=j.value;if(Srch.U.e(b))continue;var d=Srch.Refinement.$1q(b,a.r);if(!Srch.U.n(d)&&!Srch.U.n(c))for(var e=0;e<c.length;e++){d.removeToken(c[e]);if(!d.get_tokenCount()){a.r=this.removeRefinementCategory(a.r,b);break}}}a.s=1;var i=new Srch.QueryEventArgs(a);i.userAction=3;this.raiseQueryReadyEvent(i)},updateRefinementFilters:function(d,c,f,e,b){var a={};a[d]=c;this.updateRefiners(a,f,e,b)},updateRefinersJSON:function(a){this.updateRefiners(Srch.ParseJSONUtil.parseObjectFromJsonString(a),null,false,null)},updateRefiners:function(b,f,e,d){if(Srch.U.n(b)||Srch.U.n(this.get_dataProvider()))return;var a=new Srch.QueryState;a.r=this.$3N_4(null);this.$52_4(a,b,f,e,d);a.s=1;var c=new Srch.QueryEventArgs(a);c.userAction=3;this.raiseQueryReadyEvent(c)},$52_4:function(d,k,h,i,j){var e=k;for(var f in e){var g={key:f,value:e[f]},b=g.key,c=g.value;if(Srch.U.e(b))continue;d.r=this.removeRefinementCategory(d.r,b);if(!Srch.U.n(c)&&c.length>0){var a=new Srch.RefinementCategory(b);a.t=c;if(!Srch.U.e(h))a.o=h;if(!Srch.U.n(i))a.k=i;if(!Srch.U.n(j))a.m=j;Srch.U.appendArray(d.r,a)}}},removeRefinementCategory:function(b,d){var c=new Array(0);if(!Srch.U.n(b))for(var a=0;a<b.length;a++)if(b[a].n!==d)c[c.length]=b[a];return c},replaceRefinementFilter:function(){},hasRefinementFilter:function(b,a){if(!Srch.U.e(b)&&!Srch.U.e(a)&&!Srch.U.n(this.get_dataProvider())){var c=Srch.Refinement.$1q(b,this.get_dataProvider().$2_3.r);if(!Srch.U.n(c))return c.hasToken(a);else return false}return false},hasAllRefinementFilters:function(c,a){if(Srch.U.n(a))return false;for(var b=0;b<a.length;b++)if(!this.hasRefinementFilter(c,a[b]))return false;return true},hasRefinementCategory:function(a){if(!Srch.U.e(a)&&!Srch.U.n(this.get_dataProvider())){var b=Srch.Refinement.$1q(a,this.get_dataProvider().$2_3.r);if(!Srch.U.n(b))return true;else return false}return false},getCurrentRefinementCategory:function(a){if(!Srch.U.e(a)&&!Srch.U.n(this.get_dataProvider())){var b=Srch.Refinement.$1q(a,this.get_dataProvider().$2_3.r);if(!Srch.U.n(b))return b;else return null}return null},$3N_4:function(e){var d=[];if(!Srch.U.n(this.get_dataProvider())){var a=this.get_dataProvider().$2_3.r;if(!Srch.U.n(a)&&a.length>0)for(var b=0;b<a.length;b++){var c=a[b];!Srch.U.n(c)&&e!==c.n&&Srch.U.appendArray(d,c)}}return d},getRefinementControl:function(c){if(!Srch.U.n(this.$7_4)&&this.$7_4.length>0&&!Srch.U.e(c))for(var a=0;a<this.$7_4.length;a++){var b=this.$7_4[a];if(!Srch.U.n(b)&&b.propertyName===c)return b}return null},hasRefiner:function(a){return !Srch.U.n(this.getRefinementControl(a))},processQueryIssuing:function(k){Srch.DisplayControl.prototype.processQueryIssuing.call(this,k);if(!this.$2c_4||this.get_dataProvider().$Q_3===3)return;var c=this.$3a_4;for(var d in c){var g={key:d,value:c[d]},h=g.key,a=g.value,b,e,f,j=(f=Srch.Refinement.$4I(h,this,a.useContains,e={val:b}),b=e.val,f),i={};i[h]=j;this.$52_4(this.get_dataProvider().$2_3,i,a.op,a.useKql,b)}},updateRefinementControls:function(b){this.$7_4=b;var c=new Srch.QueryState,a=new Srch.QueryEventArgs(c);a.userAction=3;this.raiseQueryReadyEvent(a)}};Srch.Refinement.RefinerOptions=function(){};Srch.Refinement.RefinerOptions.prototype={useKql:false,useContains:false,op:null};Srch.Result=function(a){this.$$d_$5o_4=Function.createDelegate(this,this.$5o_4);this.$$d_$5c_4=Function.createDelegate(this,this.$5c_4);this.$2l_4=[];Srch.Result.initializeBase(this,[a])};Srch.Result.parsePropertyMappingWithSlotDisplayNames=function(a){if(!Srch.U.e(a))return Srch.Result.$4Z(a);else return {}};Srch.Result.parsePropertyMappingsString=function(a){if(!Srch.U.e(a)){var b=new RegExp("{[^}]+}","g");a=a.replace(b,"");return Srch.Result.$4Z(a)}else return {}};Srch.Result.$4Z=function(b){var d={};if(!Srch.U.e(b)){var l=new RegExp("&quot;","g"),m=new RegExp('"',"g"),n=new RegExp("'","g");b=b.replace(l,"");b=b.replace(m,"");b=b.replace(n,"");for(var g=b.split(","),o=g.length,e=0;e<o;e++){var p=g[e],a=p.split(":");if(a.length===2||a.length===3){var h=a[0];if(a.length===3)h+=":"+a[1];for(var q=a[a.length-1].split(";"),i=new Array(0),f=q,k=f.length,c=0;c<k;++c){var j=f[c];!Srch.U.w(j)&&Srch.U.appendArray(i,j)}d[h]=i}else if(a.length===1&&!Srch.U.w(a[0]))d[a[0]]=null}}return d};Srch.Result.getSelectedPropertiesFromMappingDictionary=function(h){var b=new Array(0),d=h;for(var f in d){var c={key:f,value:d[f]};if(null===c.value)Srch.U.appendArray(b,c.key);else for(var j=c.value,e=j,i=e.length,a=0;a<i;++a){var g=e[a];!Srch.U.w(g)&&Srch.U.appendArray(b,g)}}return b};Srch.Result.prototype={get_itemTemplateId:function(){return this.$h_4},set_itemTemplateId:function(a){this.$h_4=a;return a},$h_4:"",get_groupTemplateId:function(){return this.$e_4},set_groupTemplateId:function(a){this.$e_4=a;return a},$e_4:"",get_itemBodyTemplateId:function(){return this.$1t_4},set_itemBodyTemplateId:function(a){this.$1t_4=a;return a},$1t_4:"",get_maxPagesBeforeCurrent:function(){return this.$19_4},set_maxPagesBeforeCurrent:function(a){this.$19_4=a;return a},$19_4:4,get_maxPagesAfterCurrent:function(){return this.$Y_4},set_maxPagesAfterCurrent:function(a){this.$Y_4=a;return a},$Y_4:1,get_currentPageNumber:function(){return this.$y_4},set_currentPageNumber:function(a){this.$y_4=a;return a},$y_4:0,get_showSortOptions:function(){return this.$3r_4},set_showSortOptions:function(a){this.$3r_4=a;return a},$3r_4:false,get_showLanguageOptions:function(){return this.$3n_4},set_showLanguageOptions:function(a){this.$3n_4=a;return a},$3n_4:true,get_showXGeoOptions:function(){return this.$3u_4},set_showXGeoOptions:function(a){this.$3u_4=a;return a},$3u_4:false,get_contentSetting:function(){return this.$3D_4},set_contentSetting:function(a){this.$3D_4=a;return a},$3D_4:0,get_isXGeo3SForwardingFlighted:function(){return this.$3R_4},set_isXGeo3SForwardingFlighted:function(a){this.$3R_4=a;return a},$3R_4:false,get_isXGeoFlighted:function(){return this.$3S_4},set_isXGeoFlighted:function(a){this.$3S_4=a;return a},$3S_4:false,get_searchCenterXGeoLocations:function(){return this.$3j_4},set_searchCenterXGeoLocations:function(a){this.$3j_4=a;return a},$3j_4:"",get_xGeoTenantsInfo:function(){return this.$3z_4},set_xGeoTenantsInfo:function(a){this.$3z_4=a;return a},$3z_4:"",get_repositionLanguageDropDown:function(){return this.$3g_4},set_repositionLanguageDropDown:function(a){this.$3g_4=a;return a},$3g_4:false,get_showPaging:function(){return this.$3p_4},set_showPaging:function(a){this.$3p_4=a;return a},$3p_4:true,get_showResults:function(){return this.$2B_4},set_showResults:function(a){this.$2B_4=a;return a},$2B_4:true,get_showBestBets:function(){return this.$28_4},set_showBestBets:function(a){this.$28_4=a;return a},$28_4:true,get_showPersonalFavorites:function(){return this.$2A_4},set_showPersonalFavorites:function(a){this.$2A_4=a;return a},$2A_4:true,get_showDefinitions:function(){return this.$29_4},set_showDefinitions:function(a){this.$29_4=a;return a},$29_4:true,get_showDidYouMean:function(){return this.$3m_4},set_showDidYouMean:function(a){this.$3m_4=a;return a},$3m_4:true,get_showAdvancedLink:function(){return this.$1O_4},set_showAdvancedLink:function(a){this.$1O_4=a;return a},$1O_4:true,get_showPreferencesLink:function(){return this.$1P_4},set_showPreferencesLink:function(a){this.$1P_4=a;return a},$1P_4:true,get_showResultCount:function(){return this.$3q_4},set_showResultCount:function(a){this.$3q_4=a;return a},$3q_4:true,get_showAlertMe:function(){return this.$3l_4},set_showAlertMe:function(a){this.$3l_4=a;return a},$3l_4:true,get_showViewDuplicates:function(){return this.$3t_4},set_showViewDuplicates:function(a){this.$3t_4=a;return a},$3t_4:false,get_pagingInfo:function(){return this.$F_4},$F_4:null,get_shouldShowNoResultMessage:function(){if(!this.$28_4&&!this.$29_4&&!this.$2B_4&&!this.$2A_4)return false;return Srch.DisplayControl.prototype.get_shouldShowNoResultMessage.call(this)},get_advancedUrl:function(){return this.$r_4},set_advancedUrl:function(a){this.$r_4=a;return a},$r_4:"advanced.aspx",get_showUpScopeMessage:function(){return this.$3s_4},set_showUpScopeMessage:function(a){this.$3s_4=a;return a},$3s_4:false,get_scrollToTopOnRedraw:function(){return this.$2x_4},set_scrollToTopOnRedraw:function(a){this.$2x_4=a;return a},$2x_4:false,get_useSimplifiedQueryBuilder:function(){return this.$3x_4},set_useSimplifiedQueryBuilder:function(a){this.$3x_4=a;return a},$3x_4:false,get_preloadedItemTemplateIds:function(){return this.$j_4},set_preloadedItemTemplateIds:function(a){this.$j_4=a;return a},$j_4:null,processResultReady:function(a){this.$4b_4(a);Srch.DisplayControl.prototype.processResultReady.call(this,a)},render:function(){Srch.DisplayControl.prototype.render.call(this);if(!OffSwitch.IsActive("042c26a6-41d5-42c6-a079-0459caa217e3")){var a=this.get_element().querySelector("#Groups");if(a){a.focus();var b=Srch.U.getWorkspace(window.document.body);if(!Srch.U.n(b))b.scrollTop=0}}this.raiseResultRenderedEvent(new Srch.ResultEventArgs(this.$A_3))},scriptApplication_PreLoad:function(b,d){this.$1_2("ScriptApplication_PreLoad","Result");if(this.$10_2){if(!Srch.U.n(this.$j_4)&&this.$j_4.length>0)for(var a=0;a<this.$j_4.length;a++){var c=this.$j_4[a];Srch.U.appendScriptsToLoad(this.$2l_4,c)}this.$1_2("ScriptApplication_PreLoad","Yield loading preloaded item templates.");window.setTimeout(this.$$d_$5c_4,0);Srch.U.appendScriptsToLoad(this.serverTemplateScriptsToLoad,this.$1t_4);Srch.U.appendScriptsToLoad(this.serverTemplateScriptsToLoad,this.$h_4);Srch.U.appendScriptsToLoad(this.serverTemplateScriptsToLoad,this.$e_4)}Srch.DisplayControl.prototype.scriptApplication_PreLoad.call(this,b,d)},$5c_4:function(){this.$1_2("LoadPreloadedItemTemplateScripts","Trying to load preloaded item template scripts...");this.loadRenderTemplateScripts(this.$2l_4,this.$$d_$5o_4,this.$$d_$5o_4,-1,true)},$5o_4:function(){this.$1_2("PreloadedItemTemplateScriptsLoaded","All preloaded item template scripts loaded");this.$2l_4=[]},sortOrRank:function(c){if(Srch.U.e(c))return;var a=this.get_dataProvider();if(c===Srch.Res.rs_SocialDistanceSort){if(Srch.U.n(a))return;var b=new Srch.QueryState;if(a.$2_3.m===Srch.DataProvider.$3X||a.$2_3.m===Srch.DataProvider.$1x)b.m=Srch.DataProvider.$1x;else if(a.$2_3.m===Srch.DataProvider.$3H||a.$2_3.m===Srch.DataProvider.$1k)b.m=Srch.DataProvider.$1k;else b.m=Srch.DataProvider.$2f;a.$2_3.o=null;b.s=1;var d=new Srch.QueryEventArgs(b);d.userAction=4;this.raiseQueryReadyEvent(d)}else this.$4u_4(c,true);return},sort:function(a){this.$4u_4(a,false)},$4u_4:function(g,h){if(Srch.U.e(g))return;var b=this.get_dataProvider();if(Srch.U.n(b))return;var c=b.$S_3;if(!Srch.U.n(c)&&c.length>0)for(var d=0;d<c.length;d++){var e=c[d];if(!Srch.U.n(e)&&e.name===g){var a=new Srch.QueryState;a.o=e.sorts;if(h)if(b.$2_3.m===Srch.DataProvider.$1x)a.m=Srch.DataProvider.$3X;else if(b.$2_3.m===Srch.DataProvider.$1k)a.m=Srch.DataProvider.$3H;else if(b.$2_3.m===Srch.DataProvider.$2f)a.m=Srch.DataProvider.$4W;a.s=1;var f=new Srch.QueryEventArgs(a);f.userAction=4;this.raiseQueryReadyEvent(f);return}}},changeQueryLanguage:function(b){if(b>0){var a=new Srch.QueryState;a.l=b;a.s=1;var c=new Srch.QueryEventArgs(a);c.userAction=5;this.raiseQueryReadyEvent(c)}},page:function(a){if(a>0){var c=new Srch.QueryState;c.s=a;var d=new Srch.QueryEventArgs(c),b=this.get_dataProvider();if(!Srch.U.n(b)&&!Srch.U.n(b.$2_3))d.userAction=a>b.$2_3.s?1:2;this.raiseQueryReadyEvent(d)}},changeQueryTerm:function(b){if(!Srch.U.e(b)){var a=new Srch.QueryState;a.k=b;a.s=1;var c=new Srch.QueryEventArgs(a);c.userAction=0;this.raiseQueryReadyEvent(c)}},viewDuplicates:function(b){if(b!==-1){var a=new Srch.QueryState;a.d=b;a.s=1;var c=new Srch.QueryEventArgs(a);c.userAction=0;this.raiseQueryReadyEvent(c)}},shouldShowTable:function(a){if(!Srch.U.n(a)){var b=a["RowCount"];if(!Srch.U.n(b)&&b>0)if(this.$2B_4&&Srch.U.isTableTypeof(a,Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.relevantResults)){this.$G_3=true;return true}else if(this.$28_4&&Srch.U.isTableTypeof(a,Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.specialTermResults)){this.$G_3=true;return true}else if(this.$29_4&&Srch.U.isTableTypeof(a,Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.definitionResults)){this.$G_3=true;return true}else if(this.$2A_4&&Srch.U.isTableTypeof(a,Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.personalFavoriteResults)){this.$G_3=true;return true}}return false},$4b_4:function(k){this.$F_4=null;if(Srch.U.n(k))return;var a=this.get_dataProvider();if(Srch.U.n(a))return;if(a.$8_3<1||a.$M_3<0){this.$3_2("ProcessResult","No result. totalRows: {0}, rowCount: {1}",a.$8_3,a.$M_3);return}var c=a.$p_3,d=a.$2_3.s;if(d<1)d=1;var f=0;this.$y_4=Math.ceil(d/c);var b=this.$y_4>this.$19_4?this.$y_4-this.$19_4:1,h=Srch.Res.rs_MoveToPage;this.$F_4=[];if(d>1){var g=d>c?d-c:1;Srch.U.appendArray(this.$F_4,new Srch.PagingLink(Srch.Res.rs_MoveToPrevPage,"ms-srch-pagingPrev",g,-1));g=(b-1)*c+1;while(f<this.$19_4&&g<d){f++;Srch.U.appendArray(this.$F_4,new Srch.PagingLink(String.format(h,b),"",g,b));g=g+c;b++}}if(f>0){f++;Srch.U.appendArray(this.$F_4,new Srch.PagingLink("","",-1,b));b++}var j=a.$M_3>c?c:a.$M_3;if(a.$8_3>d+j-1){if(!f&&a.$8_3>c){f++;Srch.U.appendArray(this.$F_4,new Srch.PagingLink("","",-1,b));b++}var e=(b-1)*c+1,i=0;while(i<this.$Y_4&&e<=a.$8_3){i++;Srch.U.appendArray(this.$F_4,new Srch.PagingLink(String.format(h,b),"",e,b));e=e+c;b++}e=d+c;e<=a.$8_3&&Srch.U.appendArray(this.$F_4,new Srch.PagingLink(Srch.Res.rs_MoveToNextPage,"ms-srch-pagingNext",e,-2))}}};Srch.SearchBox=function(a){this.$$d_$5E_3=Function.createDelegate(this,this.$5E_3);this.$$d_$5D_3=Function.createDelegate(this,this.$5D_3);this.$$d_$62_3=Function.createDelegate(this,this.$62_3);this.$$d_$64_3=Function.createDelegate(this,this.$64_3);this.$$d_dataProvider_ResultReady=Function.createDelegate(this,this.dataProvider_ResultReady);this.$$d_dataProvider_QueryIssuing=Function.createDelegate(this,this.dataProvider_QueryIssuing);this.$$d_dataProvider_QueryStateChanged=Function.createDelegate(this,this.dataProvider_QueryStateChanged);this.$2p_3=-1;this.$v_3={};Srch.SearchBox.initializeBase(this,[a])};Srch.SearchBox.prototype={get_$z_3:function(){if(Srch.U.n(this.$1a_3)){this.$1a_3=[];if(!Srch.U.n(this.$L_3))for(var a=0;a<this.$L_3.length;a++){var b=Srch.ScriptApplicationManager.get_current().queryGroups[this.$L_3[a]];if(!Srch.U.n(b)){var c=b.dataProvider;!Srch.U.n(c)&&Srch.U.appendArray(this.$1a_3,c)}}}return this.$1a_3},$1a_3:null,get_currentTerm:function(){return this.$T_3},set_currentTerm:function(a){this.$T_3=a;return a},$T_3:null,get_queryGroupNames:function(){return this.$L_3},set_queryGroupNames:function(a){this.$L_3=a;return a},$L_3:null,get_resultsPageAddress:function(){return this.$2v_3},set_resultsPageAddress:function(a){this.$2v_3=a;return a},$2v_3:"",get_showAdvancedLink:function(){return this.$1O_3},set_showAdvancedLink:function(a){this.$1O_3=a;return a},$1O_3:false,get_showQuerySuggestions:function(){return this.$33_3},set_showQuerySuggestions:function(a){this.$33_3=a;return a},$33_3:true,get_showNavigation:function(){return this.$3o_3&&!Srch.U.n(this.$1C_3)&&this.$1C_3.length>1},set_showNavigation:function(a){this.$3o_3=a;return a},$3o_3:false,get_showPeopleNameSuggestions:function(){return this.$32_3},set_showPeopleNameSuggestions:function(a){this.$32_3=a;return a},$32_3:false,get_querySuggestionCompletionInterval:function(){return this.$2q_3},set_querySuggestionCompletionInterval:function(a){this.$2q_3=a;return a},$2q_3:250,get_querySuggestionMinimumPrefixLength:function(){return this.$2s_3},set_querySuggestionMinimumPrefixLength:function(a){this.$2s_3=a;return a},$2s_3:2,get_querySuggestionCount:function(){return this.$2r_3},set_querySuggestionCount:function(a){this.$2r_3=a;return a},$2r_3:5,get_personalResultCount:function(){return this.$2k_3},set_personalResultCount:function(a){this.$2k_3=a;return a},$2k_3:3,get_advancedSearchPageAddress:function(){return this.$r_3},set_advancedSearchPageAddress:function(a){this.$r_3=a;return a},$r_3:"advanced.aspx",get_showPreferencesLink:function(){return this.$1P_3},set_showPreferencesLink:function(a){this.$1P_3=a;return a},$1P_3:false,get_serverInitialRender:function(){return this.$2z_3},set_serverInitialRender:function(a){this.$2z_3=a;return a},$2z_3:false,get_setFocusOnPageLoad:function(){return this.$30_3},set_setFocusOnPageLoad:function(a){this.$30_3=a;return a},$30_3:false,get_allowEmptySearch:function(){return this.$2K_3},set_allowEmptySearch:function(a){this.$2K_3=a;return a},$2K_3:false,get_updatePageTitle:function(){return this.$38_3},set_updatePageTitle:function(a){this.$38_3=a;return a},$38_3:true,get_pageTitlePrefix:function(){return this.$1z_3},set_pageTitlePrefix:function(a){this.$1z_3=a;return a},$1z_3:"",get_currentPrompt:function(){return this.$2O_3},set_currentPrompt:function(a){var b=this.get_searchBoxInputElement();if(Srch.U.n(b))return a;if(b.value===this.$2O_3)b.value=a;this.$2O_3=a;return a},$2O_3:null,get_initialPrompt:function(){return this.$3P_3},set_initialPrompt:function(a){this.$3P_3=a;return a},$3P_3:null,get_promptCssClass:function(){return this.$1J_3},set_promptCssClass:function(a){this.$1J_3=a;return a},$1J_3:"ms-srch-sb-prompt ms-helperText",get_tryInplaceQuery:function(){return this.$34_3},set_tryInplaceQuery:function(a){this.$34_3=a;return a},$34_3:true,get_searchBoxInputId:function(){return this.$N_3},set_searchBoxInputId:function(a){this.$N_3=a;return a},$N_3:null,get_searchBoxContainerId:function(){return this.$a_3},set_searchBoxContainerId:function(a){this.$a_3=a;return a},$a_3:null,get_navigationButtonId:function(){return this.$1y_3},set_navigationButtonId:function(a){this.$1y_3=a;return a},$1y_3:null,get_suggestionsListId:function(){return this.$H_3},set_suggestionsListId:function(a){this.$H_3=a;return a},$H_3:null,get_navigationListId:function(){return this.$E_3},set_navigationListId:function(a){this.$E_3=a;return a},$E_3:null,get_searchBoxInputElement:function(){if(Srch.U.w(this.$N_3))return null;return $get(this.$N_3)},get_searchBoxProgressClass:function(){return this.$1N_3},set_searchBoxProgressClass:function(a){this.$1N_3=a;return a},$1N_3:"ms-srch-sbprogressLarge",get_searchBoxContainerElement:function(){if(Srch.U.w(this.$a_3))return null;return $get(this.$a_3)},get_searchBoxLinkId:function(){return this.$1M_3},set_searchBoxLinkId:function(a){this.$1M_3=a;return a},$1M_3:null,get_searchBoxLinkElement:function(){if(Srch.U.n(this.$1M_3))return null;return $get(this.$1M_3)},get_navigationNodes:function(){return this.$1C_3},set_navigationNodes:function(a){this.$1C_3=a;return a},$1C_3:null,get_msBeforeShowingProgress:function(){return this.$2h_3},set_msBeforeShowingProgress:function(a){this.$2h_3=a;return a},$2h_3:500,get_maintainQueryState:function(){return this.$2g_3},set_maintainQueryState:function(a){this.$2g_3=a;return a},$2g_3:false,get_querySuggestionsSourceID:function(){if(!Srch.U.e(this.$2t_3))return this.$2t_3;else if(!Srch.U.n(this.get_$z_3())&&!Srch.U.n(this.get_$z_3()[0]))return this.get_$z_3()[0].$1Q_3;else return null},set_querySuggestionsSourceID:function(a){this.$2t_3=a;return a},$2t_3:null,scriptApplication_PreLoad:function(d,e){this.$1_2("ScriptApplication_PreLoad","SearchBox");if(!Srch.U.n(this.get_$z_3()))for(var a=null,c=0;c<this.get_$z_3().length;c++){var b=this.get_$z_3()[c];if(!Srch.U.n(b)){a=this.$$d_dataProvider_QueryStateChanged;b.add_queryStateChanged(a);Srch.U.appendArray(this.listenedEvents,new Srch.ListenedEvent(b,6,a));a=this.$$d_dataProvider_QueryIssuing;b.add_queryIssuing(a);Srch.U.appendArray(this.listenedEvents,new Srch.ListenedEvent(b,2,a));a=this.$$d_dataProvider_ResultReady;b.add_resultReady(a);Srch.U.appendArray(this.listenedEvents,new Srch.ListenedEvent(b,4,a))}}Srch.ClientControl.prototype.scriptApplication_PreLoad.call(this,d,e)},scriptApplication_PostLoad:function(a,b){this.$1_2("ScriptApplication_PostLoad","SearchBox");if(this.$2z_3)this.$1_2("ScriptApplication_PostLoad","Skipping render control during load.");else if(!this.loadServerTemplateScripts()){this.$1_2("ScriptApplication_PostLoad","Inline control render during PostLoad");this.$3f_3()}Srch.ClientControl.prototype.scriptApplication_PostLoad.call(this,a,b)},serverTemplateScriptsCallback:function(){Srch.ClientControl.prototype.serverTemplateScriptsCallback.call(this);this.$1_2("ServerTemplateScriptsCallback","Delay load control render");this.$3f_3()},add_queryReady:function(a){this.get_events().addHandler(Srch.EventType.toString(1),a)},remove_queryReady:function(a){this.get_events().removeHandler(Srch.EventType.toString(1),a)},raiseQueryReadyEvent:function(b){this.$1_2("RaiseQueryReadyEvent","");var a=this.get_events().getHandler(Srch.EventType.toString(1));!Srch.U.n(a)&&a(this,b)},add_batchQueryIssuing:function(a){this.get_events().addHandler(Srch.EventType.toString(3),a)},remove_batchQueryIssuing:function(a){this.get_events().removeHandler(Srch.EventType.toString(3),a)},raiseBatchQueryIssuingEvent:function(b){this.$1_2("RaiseBatchQueryIssuingEvent","");var a=this.get_events().getHandler(Srch.EventType.toString(3));!Srch.U.n(a)&&a(this,b)},add_batchResultReady:function(a){this.get_events().addHandler(Srch.EventType.toString(5),a)},remove_batchResultReady:function(a){this.get_events().removeHandler(Srch.EventType.toString(5),a)},raiseBatchResultReadyEvent:function(b){this.$1_2("RaiseBatchResultReadyEvent","Batch result is ready");var a=this.get_events().getHandler(Srch.EventType.toString(5));!Srch.U.n(a)&&a(this,b)},dataProvider_QueryStateChanged:function(e,d){this.$1_2("DataProvider_QueryStateChanged","");var b=d;if(!Srch.U.n(b)){var a=b.queryState;if(!Srch.U.n(a)){this.$3_2("DataProvider_QueryStateChanged","Query is '{0}'",a.k);this.$3_2("DataProvider_QueryStateChanged","CurrentTerm is '{0}'",this.$T_3);if(this.$T_3!==a.k){this.$1_2("DataProvider_QueryStateChanged","Rerender control with new term");this.$T_3=a.k;if(!this.loaded){this.$1_2("DataProvider_QueryStateChanged","Rely on load to render control.");return}if(!this.loadServerTemplateScripts()){this.$1_2("DataProvider_QueryStateChanged","Inline control render during QueryStateChanged");this.$3f_3()}}else this.$1_2("DataProvider_QueryStateChanged","Term did not change");if(this.$38_3){var c=Srch.U.e(this.$1z_3)?Srch.Res.sb_ResultsPageTitle:this.$1z_3;document.title=String.format(c,a.k)}}}},setBorder:function(a){var b=this.get_searchBoxContainerElement(),c=this.get_searchBoxInputElement();if(!Srch.U.n(b)&&!Srch.U.n(c)){a=!!(a|(!Srch.U.e(c.value)&&c.value!==this.get_currentPrompt()));var d=a?Srch.SearchBox.searchBoxFocusedBorderClassName:Srch.SearchBox.searchBoxBorderClassName,e=a?Srch.SearchBox.searchBoxBorderClassName:Srch.SearchBox.searchBoxFocusedBorderClassName;Srch.U.ensureCSSClassNameNotExist(b,e);Srch.U.ensureCSSClassNameExist(b,d)}},dataProvider_QueryIssuing:function(){this.$1_2("DataProvider_QueryIssuing","");this.$4O_3();this.$2p_3=window.setTimeout(this.$$d_$64_3,this.$2h_3);this.$1I_3=true},dataProvider_ResultReady:function(){this.$1_2("DataProvider_ResultsReady","");this.$4O_3()},$1I_3:false,$1E_3:null,$64_3:function(){if(!this.$1I_3)return;window.clearTimeout(this.$2p_3);this.$1I_3=false;var a=this.get_searchBoxLinkElement();if(!Srch.U.n(a)){var b=" "+this.$1N_3;a.className=a.className.replace(new RegExp(b,"gi"),"");a.className+=b;if(Srch.U.n(this.$1E_3))this.$1E_3=a.title;var c=$get("searchImg");!Srch.U.n(c)&&Srch.U.ensureCSSClassNameExist(c,"ms-hide");a.title=Srch.Res.sb_SearchInProgress}},$4O_3:function(){if(this.$1I_3){window.clearTimeout(this.$2p_3);this.$1I_3=false}var a=this.get_searchBoxLinkElement();if(!Srch.U.n(a)){a.className=a.className.replace(new RegExp(" "+this.$1N_3,"gi"),"");if(!Srch.U.n(this.$1E_3)){a.title=this.$1E_3;this.$1E_3=null}var b=$get("searchImg");!Srch.U.n(b)&&Srch.U.ensureCSSClassNameNotExist(b,"ms-hide")}},search:function(a){var b=new SP.CScope("SearchBox.Search");b.start();if(Srch.U.n(a))a="";else a=a.trim();if(a===this.get_currentPrompt())a="";if(Srch.U.e(a)&&!this.$2K_3){b.stop();return}SP.SOD.executeFunc("sp.core.js","GetSimpleLogger",function(){var a=GetSimpleLogger();if(a){var b={PageUrl:"<PII String(document.URL)>"};a.WriteLog("QueryBoxUsage",b)}});var e=window._spPageContextInfo,f=e.webTemplate;"21"===f&&SP.QoS.WriteUserEngagement("OneDriveSearchEverything");var d=(new URI(_spPageContextInfo.serverRequestPath)).getLastPathSegment();if(Boolean(d)&&d.toLowerCase()=="sites.aspx"){typeof MyRecs!=="undefined"&&typeof MyRecs.DisposeMonitors==="function"&&MyRecs.DisposeMonitors();SP.QoS.WriteUserEngagement("SitesPageSearch",{Filter:"<PII this.get_resultsPageAddress()>"});SP.DebugLogger.Write("SitesPage_Navigation",SP.DebugLogger.LoggingLevel.Interesting,"")}var g=this.get_events().getHandler(Srch.EventType.toString(1));if(!this.$34_3||Srch.U.n(g)){var c=Srch.U.getResultsPageUrl(this.$2v_3,a);if(!Srch.U.e(c)){this.$3_2("Search","Redirecting to url '{0}'...",c);SP.Utilities.HttpUtility.navigateTo(c);b.stop();return}}this.$T_3=a;EnsureScript("sp.search.js",TypeofFullName("Microsoft.SharePoint.Client.Search.Query.KeywordQuery"),this.$$d_$62_3);Srch.ScriptApplicationManager.get_current().$41_1()},$62_3:function(){var d=new SP.CScope("SearchBox.SearchHelper");d.start();var m=new Srch.QueryState;m.k=this.$T_3;var a=new Srch.QueryEventArgs(m);if(this.$2g_3){a.queryStateUpdateOption=2;if(!Srch.U.n(a.queryState)&&Srch.U.e(a.queryState.k))a.queryState.k=null}a.userAction=0;this.raiseQueryReadyEvent(a);if(a.batchDataProviders.length>0){this.raiseBatchQueryIssuingEvent(a);for(var e=Srch.ScriptApplicationManager.get_clientRuntimeContext(),n=[],o=[],l=0;l<a.batchDataProviders.length;l++){var f=a.batchDataProviders[l];if(!Srch.U.n(f)){this.$3_2("Search","*****Building query for query group '{0}'*****",f.$5_3);var p=Microsoft.SharePoint.Client.Search.Query.KeywordQuery.newObject(e);Srch.U.fillKeywordQuery(p,f);Srch.U.appendArray(n,p);Srch.U.appendArray(o,f.get_$4Y_3())}}var q=Microsoft.SharePoint.Client.Search.Query.SearchExecutor.newObject(e),c=new SP.ExceptionHandlingScope(e),h=null,i=null,j=null,k=null;try{h=c.startScope();try{i=c.startTry();k=q.executeQueries(o,n,true)}finally{!Srch.U.n(i)&&i.dispose()}try{j=c.startCatch()}finally{!Srch.U.n(j)&&j.dispose()}}finally{!Srch.U.n(h)&&h.dispose()}this.$1_2("Search","*****Batch connecting to server*****");var b=this,g=this;e.executeQueryAsync(function(){d.stop();if(c.get_hasException()){b.$1_2("Search","*****failure*****");var e=Srch.ControlMessage.getFromExceptionHandlingScope(c),f=new Srch.BatchResultEventArgs(b.$46_3(e));b.raiseBatchResultReadyEvent(f)}else{b.$1_2("Search","*****Success*****");if(!Srch.U.n(k)){var a=k.get_value();if(!Srch.U.n(a)){var g=new Srch.BatchResultEventArgs(a);b.raiseBatchResultReadyEvent(g)}}}},function(e,a){g.$1_2("Search","*****Failure*****");d.stop();if(!Srch.U.n(a)){var b=Srch.ControlMessage.getFromClientRequestFailedEventArgs(a),c=new Srch.BatchResultEventArgs(g.$46_3(b));g.raiseBatchResultReadyEvent(c)}})}else d.stop()},hidePrompt:function(){var a=this.get_searchBoxInputElement();if(Srch.U.n(a)||Srch.U.e(this.get_currentPrompt()))return;if(a.value===this.get_currentPrompt()){a.value="";Srch.U.ensureCSSClassNameNotExist(a,this.$1J_3)}},showPrompt:function(){var a=this.get_searchBoxInputElement();if(Srch.U.n(a)||Srch.U.e(this.get_currentPrompt()))return;if(a.value===""){a.value=this.get_currentPrompt();Srch.U.ensureCSSClassNameExist(a,this.$1J_3)}},focus:function(){this.$1_2("Focus","");if(!Srch.U.n(this.get_searchBoxInputElement())){this.$1_2("Focus","Setting focus...");this.get_searchBoxInputElement().focus()}},activate:function(i,g,b,d,e,f,h,a,c){this.$N_3=g;this.$a_3=b;this.$1y_3=d;this.$H_3=e;this.$E_3=f;this.$1M_3=h;this.$1N_3=a;this.set_currentPrompt(i);this.$1J_3=c;this.showPrompt()},activateDefaultNavigationBehavior:function(){this.get_showNavigation()&&EnsureScriptFunc("ajaxtoolkit.js","AjaxControlToolkit.DropdownListBehavior",this.$$d_$5D_3)},activateDefaultQuerySuggestionBehavior:function(){this.$33_3&&EnsureScriptFunc("ajaxtoolkit.js","AjaxControlToolkit.AutoCompleteBehavior",this.$$d_$5E_3)},$5D_3:function(){if(Srch.U.n(this.$v_3[this.$E_3])){var a={};a["id"]=this.$E_3;a["listElementID"]=this.$E_3;a["parentElementID"]=this.$a_3;a["listCssClass"]="ms-qSuggest-list";a["listItemCssClass"]="ms-qSuggest-listItem";a["highlightedItemCssClass"]="ms-qSuggest-hListItem";a["hrCSSClass"]="ms-qSuggest-listSeparator";a["offsetWidth"]=-2;a["overlappingElementID"]=this.$H_3;a["listItems"]=this.$1C_3;a["textBoxControl"]=this;a["dropdownInitVisible"]=true;a["buttonOpenCssClass"]="ms-srch-sb-navLink-menuOpen";a["containerOpenCssClass"]="ms-srch-sb-borderFocused";Srch.U.createBehavior(this.$E_3,AjaxControlToolkit.DropdownListBehavior,a,this.$1y_3);this.$v_3[this.$E_3]=true}},$5E_3:function(){if(Srch.U.n(this.$v_3[this.$H_3])){var a={};a["id"]=this.$H_3;a["completionInterval"]=this.$2q_3;a["completionListElementID"]=this.$H_3;a["parentElementID"]=this.$a_3;a["completionListCssClass"]="ms-qSuggest-list";a["completionListItemCssClass"]="ms-qSuggest-listItem";a["personalResultTitleCssClass"]="ms-qSuggest-personalResultTitle";a["hrCSSClass"]="ms-qSuggest-listSeparator";a["enterKeyDownScript"]="$find('"+SP.Utilities.HttpUtility.ecmaScriptStringLiteralEncode(this.get_id())+"').search($get('"+SP.Utilities.HttpUtility.ecmaScriptStringLiteralEncode(this.$N_3)+"').value)";a["highlightedItemCssClass"]="ms-qSuggest-hListItem";a["minimumPrefixLength"]=this.$2s_3;a["offsetWidth"]=-2;a["queryCount"]=this.$2r_3;a["personalResultCount"]=this.$2k_3;a["showPeopleNameSuggestions"]=this.$32_3;a["personalResultTitleSingular"]=Srch.Res.qs_PersonalResultTitleSingular;a["personalResultTitlePlural"]=Srch.Res.qs_PersonalResultTitlePlural;a["overlappingElementID"]=this.$E_3;a["sourceId"]=this.get_querySuggestionsSourceID();a["searchBoxElementID"]=this.$N_3;Srch.U.createBehavior(this.$H_3,AjaxControlToolkit.AutoCompleteBehavior,a,this.$N_3);this.$v_3[this.$H_3]=true}},$46_3:function(d){var a={};a["__"]=d;var b={};b["QueryErrors"]=a;var c={};c["__"]=b;return c},$3f_3:function(){this.$v_3={};var e=SP.PageContextInfo.get_siteAbsoluteUrl(),a=window._spPageContextInfo,b=a.webTemplate,f="1",c="50";if(Flighting.VariantConfiguration.IsExpFeatureClientEnabled(39)&&b===c&&ajaxNavigate.get_href().indexOf("results.aspx")<0){queryBoxControl=new MS.QueryBox.QueryBoxControl(this.get_element());queryBoxControl.registerPlugins([new MS.QueryBox.MyPropertiesPlugin,new MS.QueryBox.AccessibilityPlugin,new MS.QueryBox.ProgressPlugin,new MS.QueryBox.AutocompletePlugin,new MS.QueryBox.PeopleSearchPlugin,new MS.QueryBox.DocumentPlugin,new MS.QueryBox.NoResultPlugin,new MS.QueryBox.FeedbackPlugin]);var d=this;queryBoxControl.search().subscribe(function(c){var b=c.currentTarget.querySelector(".ms-querybox-input").value,a=MS.QueryBox.Utils.getFragmentParams();a["ms-querybox-query"]=b;MS.QueryBox.Utils.setFragmentParams(a);d.search(b);return Srch.U.cancelEvent(c)})}else this.renderControl(null,null);this.$30_3&&this.focus()}};Srch.U=function(){};Srch.U.e=function(a){return SP.ScriptUtility.isNullOrEmptyString(a)};Srch.U.w=function(a){if(SP.ScriptUtility.isNullOrUndefined(a))return true;else return SP.ScriptUtility.isNullOrEmptyString(a.trim())};Srch.U.n=function(a){return SP.ScriptUtility.isNullOrUndefined(a)};Srch.U.isRealWord=function(a){return a.endsWith(".docx")||a.endsWith(".doc")||a.endsWith(".docm")||a.endsWith(".dot")||a.endsWith(".dotm")};Srch.U.isRealExcel=function(a){return a.endsWith(".xls")||a.endsWith(".xlsx")||a.endsWith(".xlsm")||a.endsWith(".xlsb")||a.endsWith(".xltm")||a.endsWith(".xltx")||a.endsWith(".xlam")};Srch.U.isRealPowerPoint=function(a){return a.endsWith(".ppt")||a.endsWith(".pptx")||a.endsWith(".pptm")};Srch.U.isBasicSearchCenter=function(){var a=window._spPageContextInfo,b=a.webTemplate;return "90"===b};Srch.U.isPageInEditMode=function(){if(Srch.U.e(Srch.U.$1X)){var a=$get("MSOSPWebPartManager_DisplayModeName");if(!Srch.U.n(a))Srch.U.$1X=a.value}if(Srch.U.$1X==="Edit"||Srch.U.$1X==="Design")return true;else return false};Srch.U.isPageInMdsMode=function(){return window.location.pathname.toLowerCase().endsWith("/_layouts/15/start.aspx")};Srch.U.isPagePartialLoad=function(a){if(Srch.U.isPageInMdsMode())return false;else return a.get_isPartialLoad()};Srch.U.isRTL=function(){return document.documentElement.dir==="rtl"};Srch.U.ensureNotNullOrUndefined=function(e,d,b,c){var a="";if(!Srch.U.n(d))a=Object.getType(d).getName()+".";if(!e)Srch.U.$2F(Error.argumentNull(a+b+"."+c));else typeof e==="undefined"&&Srch.U.$2F(Error.argumentUndefined(a+b+"."+c))};Srch.U.ensureNotNullOrEmptyString=function(d,e,b,c){var a="";if(!Srch.U.n(e))a=Object.getType(e).getName()+".";if(!d)Srch.U.$2F(Error.argumentNull(a+b+"."+c));else if(typeof d==="undefined")Srch.U.$2F(Error.argumentUndefined(a+b+"."+c));else d.length<1&&Srch.U.$2F(Error.argumentOutOfRange(a+b+"."+c))};Srch.U.encodeUrlForHtmlAttributes=function(a){if(Srch.U.e(a))return "";var b=[new RegExp("&","g"),new RegExp("<","g"),new RegExp(">","g"),new RegExp('"',"g"),new RegExp("'","g")];a=a.replace(b[0],"&amp;");a=a.replace(b[1],"&lt;");a=a.replace(b[2],"&gt;");a=a.replace(b[3],"&quot;");return a.replace(b[4],"&#39;")};Srch.U.htmlEncodeNonBase64ImageUrl=function(a){if(!Srch.U.n(a)){var b=a,c=a.toLowerCase().indexOf("data:");if(c===-1)b=Srch.U.encodeUrlForHtmlAttributes(Srch.U.ensureAllowedProtocol(a));return b}return a};Srch.U.$2F=function(a){alert(a.message);throw a};Srch.U.$5C=function(b,g){if(Srch.U.isPrimitive(b))return b;var f=b,e=new g(null),c=f;for(var d in c){var a={key:d,value:c[d]};if("function"!==typeof a.value)e[a.key]=a.value}return e};Srch.U.$5b=function(a,f){if(Srch.U.isPrimitive(a)||Srch.U.n(a)||Srch.U.n(f))return;var e=a;if(Srch.U.n(e))return;var c=e;for(var d in c){var b={key:d,value:c[d]};"function"!==typeof b.value&&f(a,b.key,b.value)}return};Srch.U.$47=function(b,a){Srch.U.$5b(b,function(c,d,b){a(c,d,b);!Srch.U.n(b)&&"object"===typeof b&&Srch.U.$47(b,a)})};Srch.U.$2R=function(a,d){if(!Srch.U.n(a)){for(var c=[],b=0;b<a.length;b++)Srch.U.appendArray(c,Srch.U.$5C(a[b],d));return c}return a};Srch.U.copyDictionary=function(e){var c={},a=e;for(var b in a){var d={key:b,value:a[b]};c[d.key]=d.value}return c};Srch.U.isPrimitive=function(a){return Srch.U.n(a)||"function"!==typeof a&&"object"!==typeof a};Srch.U.isArray=function(a){return IsArray(a)};Srch.U.appendArray=function(a,b){!Srch.U.n(a)&&a.push(b)};Srch.U.setFieldOnObject=function(a,c,b){if(!Srch.U.n(a)&&!Srch.U.n(b)&&!Srch.U.w(c)){a[c]=b;return true}return false};Srch.U.getFieldOnObject=function(a,b){return Srch.U.n(a)||Srch.U.w(b)?null:a[b]};Srch.U.getOrCreateFieldOnObject=function(c,d,b){var a=Srch.U.getFieldOnObject(c,d);if(Srch.U.n(a)){Srch.U.setFieldOnObject(c,d,b);a=b}return a};Srch.U.getStringFieldOnObject=function(a,b){return Srch.U.n(Srch.U.getFieldOnObject(a,b))?"":a[b]};Srch.U.isInArray=function(b,c){if(Srch.U.n(b))return false;for(var a=0;a<b.length;a++)if(c===b[a])return true;return false};Srch.U.removeArray=function(b,c){if(!Srch.U.n(b))for(var a=0;a<b.length;a++)if(c===b[a])return b.splice(a,1);return null};Srch.U.trimExtraSpaces=function(a){if(!Srch.U.n(a)){a=a.replace(new RegExp("\\s+","gi")," ");a=a.trim();if(Srch.U.w(a))a=""}return a};Srch.U.ensureCSSClassNameExist=function(b,a){!Srch.U.n(b)&&!Srch.U.n(a)&&Sys.UI.DomElement.addCssClass(b,Srch.U.trimExtraSpaces(a))};Srch.U.ensureCSSClassNameNotExist=function(b,a){!Srch.U.n(b)&&!Srch.U.n(a)&&Sys.UI.DomElement.removeCssClass(b,Srch.U.trimExtraSpaces(a))};Srch.U.setCookie=function(e,d,b,c,f,g){if(!Srch.U.w(e)&&!Srch.U.n(d)){var a=Srch.U.encodeCookieString(e)+"="+Srch.U.encodeCookieString(d);if(!Srch.U.n(b))a+="; expires="+b.toUTCString();if(!Srch.U.n(c))a+="; domain="+Srch.U.encodeCookieString(c);if(!Srch.U.n(f))a+="; path="+Srch.U.encodeCookieString(f);if(g)a+="; secure";document.cookie=a}};Srch.U.getCookie=function(h){if(!Srch.U.w(h)){var e=document.cookie;if(!Srch.U.w(e)){var a=e.trim().split(";");if(!Srch.U.n(a)&&a.length>0)for(var d=0;d<a.length;d++){var f=a[d];if(!Srch.U.w(f)){var b=f.trim().split("=");if(!Srch.U.n(b)&&b.length===2){var c=b[0],g=b[1];if(!Srch.U.n(c)&&!Srch.U.n(g)){c=Srch.U.decodeCookieString(c);if(c===h)return Srch.U.decodeCookieString(g)}}}}}}return null};Srch.U.encodeCookieString=function(a){return encodeURIComponent(a.trim())};Srch.U.decodeCookieString=function(a){return decodeURIComponent(a.trim())};Srch.U.isSameHost=function(c,a){if(Srch.U.w(c)||Srch.U.w(a))return false;var b=document.createElement("a");b.href=c;var d=b.hostname;return d.toLowerCase()===a.toLowerCase()};Srch.U.getHostName=function(){var a="";if(!Srch.U.n(window.self.location))a=window.self.location.hostname;return a};Srch.U.trace=function(c,d,a){if(Srch.U.get_$4t()){Srch.U.$2a++;if(Srch.U.n(c))a="["+Srch.U.$2a+"]["+d+"]["+a+"]";else{var b=c.get_id();if(Srch.U.e(b))b="No_ID";a="["+Srch.U.$2a+"]["+b+":"+Object.getType(c).getName()+"]["+d+"]["+a+"]"}Srch.U.$59(a)}};Srch.U.traceFormatted=function(e,d,c){for(var b=[],a=3;a<arguments.length;++a)b[a-3]=arguments[a];Srch.U.get_$4t()&&Srch.U.trace(e,d,String.format.apply(null,[c].concat(b)))};Srch.U.get_$4t=function(){return Srch.U.isPageInEditMode()||Srch.ScriptApplicationManager.get_current().states["shipTrace"]};Srch.U.$59=function(a){Sys.Debug.trace(a)};Srch.U.addHandler=function(b,a,c){!Srch.U.n(b)&&!Srch.U.e(a)&&!Srch.U.n(c)&&$addHandler(b,a,c)};Srch.U.removeHandler=function(b,a,c){!Srch.U.n(b)&&!Srch.U.e(a)&&!Srch.U.n(c)&&$removeHandler(b,a,c)};Srch.U.isDescendant=function(a,b){if(Srch.U.n(b)||Srch.U.n(a))return false;while(!Srch.U.n(a)&&a!==b)a=a.parentNode;return a===b};Srch.U.getParentElementByName=function(a,b){if(Srch.U.n(a)||a.nodeType!==1||Srch.U.w(b))return null;if(a.tagName===b)return a;return Srch.U.getParentElementByName(a.parentNode,b)};Srch.U.getWorkspace=function(b){var a=$get("s4-workspace");if(Srch.U.n(a))return b;return a};Srch.U.getResultsPageUrl=function(f,h){var a=Srch.U.replaceUrlTokens(f);if(!Srch.U.e(a)&&Srch.U.isProtocolAllowed(a,true)){a=Srch.U.appendUrlParameter(a,"k="+SP.Utilities.HttpUtility.urlKeyValueEncode(h));var b=ajaxNavigate.get_href();if(!Srch.U.w(b)&&(b.indexOf("?st=1")!==-1||b.indexOf("&st=1")!==-1))a=Srch.U.appendUrlParameter(a,"st=1");var d=Srch.ScriptApplicationManager.get_current().states["QueryDateTimeCulture"],e=Srch.ScriptApplicationManager.get_current().states["browserLanguage"];if(!Srch.U.n(d)&&!Srch.U.n(e)){var c=d,g=e;if(c>0&&g!==c)a=Srch.U.appendUrlParameter(a,"ql="+c)}return a}else{Srch.U.traceFormatted(null,"GetResultsPageUrl","Url '{0}' is not valid.",a);return null}};Srch.U.getParentAttributeByName=function(a,b){if(Srch.U.n(a)||a.nodeType!==1||Srch.U.w(b))return null;var c=a.getAttribute(b);if(!Srch.U.n(c))return c;return Srch.U.getParentAttributeByName(a.parentNode,b)};Srch.U.getClientComponent=function(b){var a=null;if(!Srch.U.n(b)){a=b.component;if(Srch.U.n(a)){var c=Srch.U.getParentAttributeByName(b,"componentid");if(!Srch.U.e(c))a=$find(c);if(!Srch.U.n(a))b.component=a}}return a};Srch.U.getResultObject=function(a){return Srch.ScriptApplicationManager.get_current().$3i_1[a]};Srch.U.setResultObject=function(b,a){Srch.ScriptApplicationManager.get_current().$3i_1[b]=a;a["csr_id"]=b};Srch.U.findResultObjectFromDOM=function(a,c){var b=null;if(!Srch.U.n(a)){var d=a.nodeType===1?a.getAttribute("name"):null;if(c===d)b=Srch.U.getResultObject(a.id);else b=Srch.U.findResultObjectFromDOM(a.parentNode,c)}return b};Srch.U.appendUrlParameter=function(a,b){if(!Srch.U.w(a)&&!Srch.U.w(b)){var c="&";if(a.indexOf("?")===-1)c="?";a+=c+b}return a};Srch.U.removeQueryParameters=function(a){if(!Srch.U.w(a)){var b=a.indexOf("?");a=b===-1?a:a.substring(0,b)}return a};Srch.U.removeCachingParameters=function(a){if(!Srch.U.w(a))return RemoveQueryParameterFromUrl(RemoveQueryParameterFromUrl(a,"rev"),"ctag");return a};Srch.U.ensureAllowedProtocol=function(a){if(Srch.U.isProtocolAllowed(a,true))return a;return ""};Srch.U.isProtocolAllowed=function(b,a){return Srch.U.$4Q(b,a,Srch.U.$44)};Srch.U.$4Q=function(a,c,d){if(Srch.U.e(a))if(c)return true;else return false;if(Srch.U.isUrlRelative(a))if(c)return true;else return false;a=a.toLowerCase().trimStart();for(var b=0;b<d.length;b++)if(a.startsWith(d[b]))return true;return false};Srch.U.isUrlRelative=function(a){if(!Srch.U.e(a)){a=a.split("?")[0];var b=a.indexOf(":");return b===-1}return true};Srch.U.isUrlServerRelative=function(a){if(!Srch.U.e(a)){a=a.trimStart();return a.startsWith("/")}return false};Srch.U.isUrlPagelRelative=function(a){return Srch.U.isUrlRelative(a)&&!Srch.U.isUrlServerRelative(a)};Srch.U.isCloudVideoContentId=function(a){if(SP.ScriptUtility.isNullOrEmptyString(a))return false;return a.startsWith(Srch.U.cloudVideoContentTypeId)};Srch.U.getVideoServiceUrl=function(){var a=new URI(SP.PageContextInfo.get_webAbsoluteUrl());a.setFragment("");a.setQuery("");a.setPath("/portals/hub/_api/VideoService");return a.getString()};Srch.U.getCloudVideoPlayerPageUrl=function(a){if(SP.ScriptUtility.isNullOrEmptyString(a))return "";var e=window._spPageContextInfo,f=e.layoutsUrl,g=SP.Utilities.HttpUtility.urlKeyValueEncode(a.replace(new RegExp("\\+","g"),"%2B")),c=SP.PageContextInfo.get_webAbsoluteUrl(),d=a.toLowerCase().indexOf("/portals/");if(d>0)c=a.substring(0,d);var b=new URI(c);b.setFragment("");b.setPath("/portals/hub/"+f+"/videoplayer.aspx");b.setQuery("v="+g);return b.getString()};Srch.U.logClick=function(c,a){var d=Srch.U.getClientComponent(c);if(!Srch.U.n(d)&&Srch.DisplayControl.isInstanceOfType(d)){var e=d,f=e.get_dataProvider();if(!Srch.U.n(f)){var b={},g=Srch.U.getTableProperty(e.$A_3,"piPageImpression");if(!Srch.U.e(g))b["piPageImpression"]=g;var h=Srch.U.getTableProperty(e.$A_3,"SourceId");if(!Srch.U.n(h))b["SourceId"]=h;b["piClickType"]=a;var i=Srch.U.findResultObjectFromDOM(c,"Group");if(!Srch.U.n(i)){var j=Srch.U.getTableProperty(i,"piPageImpressionBlockType");if(!Srch.U.n(j))b["piPageImpressionBlockType"]=j}if(a==="Result"||a==="DeepLink"||a==="Hover"||a==="HoverWithWAC"||a==="HoverSection"||a==="ActionFollow"||a==="ActionViewLibrary"||a==="ActionEdit"||a==="ActionSend"||a==="ActionViewDupes"){var k=Srch.U.findResultObjectFromDOM(c,"Item");if(!Srch.U.n(k)){b["piSearchResult"]=k;if(a==="DeepLink")if(!Srch.U.n(c)&&c.nodeType===1){var l=c.getAttribute("linkIndex");if(!Srch.U.n(l))b["piSearchSubResultIndex"]=parseInt(l)+1}}}b["piUserQuery"]=f.$2_3.k;Srch.ClickRecorder.recordPageClick(b)}}};Srch.U.fillKeywordQuery=function(b,a){Srch.U.ensureNotNullOrUndefined(b,null,"FillKeywordQuery","query");Srch.U.ensureNotNullOrUndefined(a,null,"FillKeywordQuery","dp");var c=Srch.ScriptApplicationManager.get_current().states["defaultQueryProperties"];Srch.U.ensureNotNullOrUndefined(c,null,"FillKeywordQuery","defaultQueryProperties");if(a.$Q_3&&!Srch.U.e(a.$1F_3)){b.set_impressionID(a.$1F_3);Srch.U.traceFormatted(null,"FillKeywordQuery","ImpressionID is '{0}'",b.get_impressionID())}if(!Srch.U.n(a.$2G_3)){b.set_timeZoneId(a.$2G_3);Srch.U.traceFormatted(null,"FillKeywordQuery","TimeZoneId is '{0}'",b.get_timeZoneId())}if(!Srch.U.e(a.$2_3.k)){b.set_queryText(a.$2_3.k);Srch.U.traceFormatted(null,"FillKeywordQuery","QueryText is '{0}'",b.get_queryText())}if(!Srch.U.e(a.$l_3)){b.set_queryTemplate(a.$l_3);Srch.U.traceFormatted(null,"FillKeywordQuery","QueryTemplate is '{0}'",b.get_queryTemplate())}var f=a.get_$5J_3();if(!Srch.U.n(f)&&f.length>0)for(var m=0;m<f.length;m++){var e=f[m];if(!Srch.U.n(e)){Srch.U.traceFormatted(null,"FillKeywordQuery","Adding Sort '{0}' {1}",e.p,e.d);b.get_sortList().add(e.p,e.d)}}var j=0;if(a.$2_3.s>0){j=a.$2_3.s-1;b.set_startRow(j);Srch.U.traceFormatted(null,"FillKeywordQuery","StartRow is '{0}'",b.get_startRow())}if(!Srch.U.n(a.$2_3.r)&&a.$2_3.r.length>0)for(var n=0;n<a.$2_3.r.length;n++){var o=a.$2_3.r[n];if(!Srch.U.n(o)){Srch.U.traceFormatted(null,"FillKeywordQuery","Adding RefinementFilter '{0}'",o.toString());b.get_refinementFilters().add(o.toString())}}else if(!Srch.U.n(a.get_fallbackRefinementFilters())&&a.get_fallbackRefinementFilters().length>0)for(var p=0;p<a.get_fallbackRefinementFilters().length;p++){var q=a.get_fallbackRefinementFilters()[p];if(!Srch.U.n(q)){Srch.U.traceFormatted(null,"FillKeywordQuery","Adding RefinementFilter '{0}'",q.toString());b.get_refinementFilters().add(q.toString())}}if(!Srch.U.e(a.$1V_3)){var u="";u+=' site:"'+a.$1V_3+'"';b.set_hiddenConstraints(u);Srch.U.traceFormatted(null,"FillKeywordQuery","HiddenConstraints is '{0}'",b.get_hiddenConstraints())}b.set_culture(a.get_effectiveQueryLanguage());Srch.U.traceFormatted(null,"FillKeywordQuery","Culture is '{0}'",b.get_culture());if(a.$p_3>0){b.set_rowsPerPage(a.$p_3);b.set_rowLimit(a.$p_3);b.set_totalRowsExactMinimum(j+1+b.get_rowsPerPage()*a.$Y_3);Srch.U.traceFormatted(null,"FillKeywordQuery","RowsPerPage is '{0}'",b.get_rowsPerPage());Srch.U.traceFormatted(null,"FillKeywordQuery","RowLimit is '{0}'",b.get_rowLimit());Srch.U.traceFormatted(null,"FillKeywordQuery","TotalRowsExactMinimum is '{0}'",b.get_totalRowsExactMinimum())}if(!Srch.U.w(a.$1Q_3)){b.set_sourceId(new SP.Guid(a.$1Q_3));Srch.U.traceFormatted(null,"FillKeywordQuery","SourceId is '{0}'",b.get_sourceId())}else Srch.U.traceFormatted(null,"FillKeywordQuery","SourceId is null");if(!Srch.U.w(a.$1S_3)&&!Srch.U.w(a.$1R_3)){b.get_properties().set_item("SourceName",a.$1S_3);b.get_properties().set_item("SourceLevel",a.$1R_3);Srch.U.traceFormatted(null,"FillKeywordQuery","SourceName is '{0}' and SourceLevel is '{1}'",a.$1S_3,a.$1R_3)}else Srch.U.trace(null,"FillKeywordQuery","SourceName or SourceLevel is null or empty");if(!Srch.U.n(a.$O_3)&&a.$O_3.length>0){b.set_refiners(a.$O_3.join(","));Srch.U.traceFormatted(null,"FillKeywordQuery","Refiners is '{0}'",b.get_refiners())}if(!Srch.U.n(a.$b_3)&&a.$b_3.length>0)for(var g=0;g<a.$b_3.length;g++){Srch.U.traceFormatted(null,"FillKeywordQuery","Adding SelectProperty '{0}'",a.$b_3[g]);b.get_selectProperties().add(a.$b_3[g])}if(!Srch.U.n(a.$X_3)&&a.$X_3.length>0)for(var h=0;h<a.$X_3.length;h++){Srch.U.traceFormatted(null,"FillKeywordQuery","Adding HitHighlightedProperty '{0}'",a.$X_3[h]);b.get_hitHighlightedProperties().add(a.$X_3[h])}if(!Srch.U.e(a.$2_3.m)){b.set_rankingModelId(a.$2_3.m);Srch.U.traceFormatted(null,"FillKeywordQuery","RankingModelId is '{0}'",b.get_rankingModelId())}else if(!Srch.U.e(a.$1m_3)){b.set_rankingModelId(a.$1m_3);Srch.U.traceFormatted(null,"FillKeywordQuery","RankingModelId is '{0}'",b.get_rankingModelId())}if(c.enableStemming!==a.$1j_3){b.set_enableStemming(a.$1j_3);Srch.U.traceFormatted(null,"FillKeywordQuery","EnableStemming is '{0}'",b.get_enableStemming())}if(c.enablePhonetic!==a.$1h_3){b.set_enablePhonetic(a.$1h_3);Srch.U.traceFormatted(null,"FillKeywordQuery","EnablePhonetic is '{0}'",b.get_enablePhonetic())}if(c.enableNicknames!==a.$1f_3){b.set_enableNicknames(a.$1f_3);Srch.U.traceFormatted(null,"Refiners","EnableNicknames is '{0}'",b.get_enableNicknames())}if(c.trimDuplicates!==a.$2H_3){b.set_trimDuplicates(a.$2H_3);Srch.U.traceFormatted(null,"FillKeywordQuery","TrimDuplicates is '{0}'",b.get_trimDuplicates())}var s=a.get_properties();for(var t in s){var i={key:t,value:s[t]};Srch.U.traceFormatted(null,"FillKeywordQuery","Adding Property '{0}':'{1}'",i.key,i.value);b.get_properties().set_item(i.key,i.value)}if(a.$2j_3&&!Srch.U.n(Srch.ScriptApplicationManager.get_current().states["currentUserProfileId"])){var v=Srch.ScriptApplicationManager.get_current().states["currentUserProfileId"];b.set_personalizationData(Microsoft.SharePoint.Client.Search.Query.QueryPersonalizationData.newObject(Srch.ScriptApplicationManager.get_clientRuntimeContext(),v));Srch.U.traceFormatted(null,"FillKeywordQuery","PrifleID is '{0}'",v)}b.set_resultsUrl(a.get_resultsUrl());Srch.U.traceFormatted(null,"FillKeywordQuery","ResultsUrl is '{0}'",b.get_resultsUrl());if(c.bypassResultTypes!==a.bypassResultTypes){b.set_bypassResultTypes(a.bypassResultTypes);Srch.U.traceFormatted(null,"FillKeywordQuery","BypassResultTypes is '{0}'",b.get_bypassResultTypes())}if(a.$2_3.d>0){b.set_trimDuplicatesIncludeId(a.$2_3.d);Srch.U.traceFormatted(null,"FillKeywordQuery","TrimDuplicatesIncludeId is '{0}'",b.get_trimDuplicatesIncludeId())}var k=a.$2M_3;if(Srch.U.w(k))if(!Srch.U.e(a.$l_3)&&!Srch.U.n(a.$l_3.match(new RegExp("\\{searchboxquery\\}|\\[searchboxquery\\]","gi"))))k="UI";b.set_clientType(k);Srch.U.traceFormatted(null,"FillKeywordQuery","ClientType is '{0}'",b.get_clientType());var l=a.$2L_3;if(!Srch.U.w(l)){b.get_properties().set_item("ClientFunction",l);Srch.U.traceFormatted(null,"FillKeywordQuery","ClientFunction is '{0}'",l)}if(!Srch.U.n(a.$m_3)&&a.$m_3.length>0)for(var r=0;r<a.$m_3.length;r++){var d=a.$m_3[r];if(!Srch.U.n(d)){Srch.U.traceFormatted(null,"FillKeywordQuery","Adding rank rule '{0}' '{1}' {2}",d.matchType,d.matchValue,d.boost);b.get_reorderingRules().add(d.matchType,d.matchValue,d.boost)}}if(c.enableInterleaving!==a.$1e_3){b.set_enableInterleaving(a.$1e_3);Srch.U.traceFormatted(null,"FillKeywordQuery","EnableInterleaving is '{0}'",b.get_enableInterleaving())}if(a.$2_3.e>0){b.set_enableQueryRules(false);Srch.U.traceFormatted(null,"FillKeywordQuery","EnableQueryRules is '{0}'",b.get_enableQueryRules())}else if(c.enableQueryRules!==a.$1i_3){b.set_enableQueryRules(a.$1i_3);Srch.U.traceFormatted(null,"FillKeywordQuery","EnableQueryRules is '{0}'",b.get_enableQueryRules())}if(c.processBestBets!==a.processBestBets){b.set_processBestBets(a.processBestBets);Srch.U.traceFormatted(null,"FillKeywordQuery","ProcessBestBets is '{0}'",b.get_processBestBets())}if(c.uiLanguage!==SP.PageContextInfo.get_currentLanguage()){b.set_uiLanguage(SP.PageContextInfo.get_currentLanguage());Srch.U.traceFormatted(null,"FillKeywordQuery","UILanguage is '{0}'",b.get_uiLanguage())}if(c.summaryLength!==a.$2D_3){b.set_summaryLength(a.$2D_3);Srch.U.traceFormatted(null,"FillKeywordQuery","SummaryLength is '{0}'",b.get_summaryLength())}if(c.desiredSnippetLength!==a.$1c_3){b.set_desiredSnippetLength(a.$1c_3);Srch.U.traceFormatted(null,"FillKeywordQuery","DesiredSnippetLength is '{0}'",b.get_desiredSnippetLength())}b.get_properties().set_item("QuerySession",Srch.ScriptApplicationManager.get_current().get_searchSessionID());Srch.U.traceFormatted(null,"FillKeywordQuery","QuerySession is '{0}'",b.get_properties().get_item("QuerySession"));if(!Srch.U.e(a.$1U_3)){b.set_collapseSpecification(a.$1U_3);Srch.U.traceFormatted(null,"FillKeywordQuery","CollapseSpecification is '{0}'",b.get_collapseSpecification())}if(c.processPersonalFavorites!==a.$27_3){b.set_processPersonalFavorites(a.$27_3);Srch.U.traceFormatted(null,"FillKeywordQuery","ProcessPersonalFavorites is '{0}'",b.get_processPersonalFavorites())}if(c.enableOrderingHitHighlightedProperty!==a.$1g_3){b.set_enableOrderingHitHighlightedProperty(a.$1g_3);Srch.U.traceFormatted(null,"FillKeywordQuery","EnableOrderingHitHighlightedProperty is '{0}'",b.get_enableOrderingHitHighlightedProperty())}if(c.hitHighlightedMultivaluePropertyLimit!==a.$1s_3){b.set_hitHighlightedMultivaluePropertyLimit(a.$1s_3);Srch.U.traceFormatted(null,"FillKeywordQuery","HitHighlightedMultivaluePropertyLimit is '{0}'",b.get_hitHighlightedMultivaluePropertyLimit())}if(!SP.ScriptUtility.isNullOrEmptyString(a.$22_3)){b.set_safeQueryPropertiesTemplateUrl(a.$22_3);b.set_ignoreSafeQueryPropertiesTemplateUrl(false);Srch.U.traceFormatted(null,"FillKeywordQuery","QueryPropertiesTemplateUrl is '{0}'",b.get_safeQueryPropertiesTemplateUrl())}if(Srch.ScriptApplicationManager.get_current().states["shipTrace"]){b.get_properties().set_item("DebugMode",true);Srch.U.traceFormatted(null,"FillKeywordQuery","DebugMode is 'true'")}b.get_properties().set_item("QueryDateTimeCulture",a.get_queryDateTimeCulture())};Srch.U.getUsernameFromAuthorField=function(b){var a=Srch.U.$4H(b,2).trim();if(a.indexOf(" ")>=0)a=a.substring(a.indexOf(" ")+1,a.length);return a.trim()};Srch.U.getDisplayNameFromAuthorField=function(a){return Srch.U.$4H(a,1).trim()};Srch.U.$4H=function(c,b){if(Srch.U.w(c)||b<0||b>2)return "";var a=c.split(" | ");if(Srch.U.n(a)||a.length!==3||Srch.U.w(a[b]))return "";return a[b]};Srch.U.getArray=function(a){if(Srch.U.e(a))return a;if(a.indexOf(",#")>=0)return a.split(",#");else if(a.indexOf(" | ")>=0)return Srch.ValueInfo.Renderers.parseUserFieldValue(a).split(",");return a.split(";")};Srch.U.getFriendlyNameForFileExtension=function(a){if(!Srch.U.w(a)){a=a.toLowerCase();if(a==="css")return "file_CSS";else if(a==="hlp")return "file_Help";else if(a==="msi"||a==="msp")return "file_Installer";else if(a==="js"||a==="jse")return "file_JavaScript";else if(a==="log")return "file_Log";else if(a==="eml"||a==="msg")return "file_Mail";else if(a==="accdb"||a==="accdt"||a==="accdc"||a==="accde"||a==="accdr")return "file_Access";else if(a==="odc"||a==="xls"||a==="xlsb"||a==="xlsm"||a==="xlsx"||a==="xlt"||a==="xltb"||a==="xltm"||a==="xltx")return "file_Excel";else if(a==="xsn")return "file_InfoPath";else if(a==="one"||a==="onepkg"||a==="onetoc2")return "file_OneNote";else if(a==="pot"||a==="potm"||a==="potx"||a==="pps"||a==="ppsm"||a==="ppsx"||a==="ppt"||a==="pptm"||a==="pptx")return "file_PowerPoint";else if(a==="mpp"||a==="mpt")return "file_Project";else if(a==="pub")return "file_Publisher";else if(a==="ascx"||a==="master")return "file_SPDesigner";else if(a==="vdw"||a==="vdx"||a==="vsd"||a==="vsl"||a==="vss"||a==="vst"||a==="vsu"||a==="vsw"||a==="vsx"||a==="vtx")return "file_Visio";else if(a==="doc"||a==="docm"||a==="docx"||a==="dot"||a==="dotm"||a==="dotx"||a==="mht"||a==="mhtml")return "file_Word";else if(a==="xps")return "file_XPS";else if(a==="wm"||a==="wma"||a==="wmd"||a==="wmp"||a==="wms"||a==="wmv"||a==="wmx"||a==="wmz")return "file_Audio";else if(a==="rtf")return "file_RTF";else if(a==="txt")return "file_Text";else if(Srch.U.isWebPage(a))return "file_WebPage";else if(a==="xml")return "file_XML";else if(a==="xsl"||a==="xslt")return "file_XSL";else if(a==="zip")return "file_Zip";else if(a==="pdf")return "file_PDF"}return "file_Document"};Srch.U.isWebPage=function(a){if(Srch.U.w(a))return false;a=a.toLowerCase();return a==="ascx"||a==="asp"||a==="aspx"||a==="htm"||a==="html"||a==="jhtml"||a==="js"||a==="mht"||a==="mhtml"||a==="mspx"||a==="php"};Srch.U.truncateEnd=function(b,a){return Srch.U.getTrimmedString(b,a)};Srch.U.isDefaultSiteLogo=function(b){var a=false;if(b.indexOf("/_layouts/images/titlegraphic.gif")!==-1)a=true;else if(b.indexOf("/_layouts/images/siteicon.png")!==-1)a=true;else if(b.indexOf("/_layouts/15/images/siteIcon.png")!==-1)a=true;return a};Srch.U.toFormattedDate=function(b,a){if(Srch.U.n(b)||!Date.isInstanceOfType(b))return "";if(Srch.U.w(a))a="LongDatePattern";return b.localeFormat(Sys.CultureInfo.CurrentCulture.dateTimeFormat[a])};Srch.U.toFormattedNumber=function(a,b){if(Srch.U.n(a))return "";else if(!Number.isInstanceOfType(a)){a=parseFloat(a.toString());if(Srch.U.n(a)||isNaN(a))return ""}if(Srch.U.n(b))b=2;var c=Math.floor(a),d=a,e=c.localeFormat("N0");if(c!==d)e=d.localeFormat("N"+b);return e};Srch.U.toFriendlyNumber=function(a){if(a<1e3)return a.toString();if(a<1e5){var b=Math.floor(a/1e3);return b.toString()+",000+"}else return "100,000+"};Srch.U.toFileSizeDisplay=function(a,d){if(Srch.U.n(d))d=true;var c="",b=a,f=1073741824,g=1048576,h=1024;if(a>f){c=Srch.U.loadResource("cc_ValueRenderer_FileSizeGigabyte");b=a/f}else if(a>g){c=Srch.U.loadResource("cc_ValueRenderer_FileSizeMegabyte");b=a/g}else if(a>h){c=Srch.U.loadResource("cc_ValueRenderer_FileSizeKilobyte");b=a/h}var e=Srch.U.toFormattedNumber(b,0),i=Math.round(b),j=Math.round(b*10-i*10);if(d&&j>0)e=Srch.U.toFormattedNumber(b,1);if(!Srch.U.w(c))e+=" "+c;return e};Srch.U.getVideoImageWithFallbackSource=function(b,d,c){var a=Srch.U.getImageSourceWithRendition(b,d,c);return String.format('<img class="ms-srch-video-results-centered ms-hide" src="{0}" onload="(event.srcElement ? event.srcElement : event.target).style.display = \'\';" onerror="(event.srcElement ? event.srcElement : event.target).src = \'{1}\'"/>',SP.Utilities.HttpUtility.urlPathEncode(Srch.U.e(a)?"none":decodeURIComponent(a)),SP.Utilities.HttpUtility.ecmaScriptStringLiteralEncode(SP.Utilities.VersionUtility.getImageUrl("256_icvidset.gif")))};Srch.U.getImageSourceWithRendition=function(b,d,c){var a="";if(!Srch.U.n(b)&&!b.isEmpty){a=STSHtmlDecode(Srch.ValueInfo.Renderers.imageSourceRendering(b));var e=!Srch.U.n(d)&&!isNaN(d);if(e)a=SP.Utilities.UrlBuilder.replaceOrAddQueryString(a,"width",d.toString());var f=!Srch.U.n(c)&&!isNaN(c);if(f)a=SP.Utilities.UrlBuilder.replaceOrAddQueryString(a,"height",c.toString())}return SP.Utilities.HttpUtility.htmlEncode(Srch.U.ensureAllowedProtocol(a))};Srch.U.parseTypedRangeToken=function(b,c){var d=new RegExp("range\\([ ]*([^ ,]*)[^,]*,[ ]*([^ ,)]*[)]*)[^)]*\\)","g");if(Srch.U.w(b))b="";var a=d.exec(b);if(!Srch.U.n(a)&&a.length>2){a[1]=Srch.U.$2i(a[1],c);a[2]=Srch.U.$2i(a[2],c)}return a};Srch.U.$2i=function(b,d){var c=new RegExp("([^(]*)\\(([^)]*)\\)"),a=c.exec(b);if(!Srch.U.n(a)&&a.length===3){Srch.U.setFieldOnObject(d,"filterTokenType",a[1]);return a[2]}else return b};Srch.U.modifyMediaDurationRefinementName=function(g){if(Srch.U.n(g))return;var a=g["RefinementToken"];if(Srch.U.e(a))return;if(a.indexOf("range(")===-1)return;var h=a.indexOf("("),d=a.indexOf(","),e=a.lastIndexOf(",");if(e<=d)e=a.lastIndexOf(")");var k=h!==-1&&d!==-1&&e!==-1&&h<d&&d<e;if(!k)return;var i=a.substring(h+1,d).trim();i=Srch.U.$2i(i,null);var j=a.substring(d+1,e).trim();j=Srch.U.$2i(j,null);var b=parseInt(i),c=parseInt(j),l=isNaN(b)&&isNaN(c)||!isNaN(b)&&b<0||!isNaN(c)&&c<0||!isNaN(b)&&!isNaN(c)&&c<b;if(l)return;var f="";if(isNaN(b))f=String.format(Srch.U.loadResource("rf_DefaultMinutesLabels_min"),Srch.U.$2X(c));else if(isNaN(c))f=String.format(Srch.U.loadResource("rf_DefaultMinutesLabels_max"),Srch.U.$2X(b));else f=String.format(Srch.U.loadResource("rf_DefaultMinutesLabels_range"),Srch.U.$2X(b),Srch.U.$2X(c));if(!Srch.U.e(f))g["RefinementName"]=f};Srch.U.$2X=function(a){if(!isNaN(a)&&a>=0)return Math.floor(a/60);return 0};Srch.U.getDeepLinks=function(i,f){var j=2,k=2,l="%20",m=" ";if(!f)return "";var a="",c=i.split(" ");if(c.length>=k*2){for(var g=0,e=0,d=true,b=0;b<c.length-1;b=b+2){e++;if(d){g++;a+="<ul>";d=false}var h=SP.Utilities.HttpUtility.htmlEncode(c[b+1].replace(new RegExp(l,"g"),m)),n="<li class='ms-srch-ellipsis'><a clicktype='DeepLink' linkIndex='"+(e-1).toString()+"' href='"+SP.Utilities.HttpUtility.htmlEncode(Srch.U.ensureAllowedProtocol(c[b]))+"' title='"+h+"'>"+h+"</a></li>";a+=n;if(!(e%j)){a+="</ul>";d=true;if(g>=f)break}}if(!d)a+="</ul>"}return a};Srch.U.truncateUrl=function(a,j){if(!a||!a.length)return a;var o=a.indexOf("//"),d="/",k="\u2026";if(o!==-1)a=a.substr(o+2);if(a.substring(a.length-1,1)===d)a=a.substring(0,a.length-1);var p=a.length;if(p<=j)return a;var f=a.split("/"),g=0,b=f[g],i=k+d,q=k;if(f.length===2)i="";else if(f.length===1)return Srch.U.truncateEnd(b,j);b=Srch.U.truncateEnd(b,j-(d.length+i.length+q.length))+d;var h=f.length-1,e=f[h],c=j-b.length;e=Srch.U.truncateEnd(e,c-i.length);g++;h--;c=c-e.length;while(h>=g){var l=false,m=f[g];if(m.length<=c-i.length){b=b+m+d;c=c-(m.length+d.length);g++;l=true}if(g>h)return b+e;var n=f[h];if(n.length<=c-i.length){e=n+d+e;c=c-(n.length+d.length);h--;l=true}if(!l)break;if(g>h)return b+e}var r=b+i+e;return r.replace(new RegExp(k,"g"),"...")};Srch.U.truncateHighlightedUrl=function(c,n){if(!c||!c.length)return c;var s=c.indexOf("//"),l="/",o="\u2026";if(s!==-1)c=c.substr(s+2);if(c.substring(c.length-1,1)===l)c=c.substring(0,c.length-1);var z=c.length;if(z<=n)return c;var i=Srch.U.hitHighlightingOpenTag,e=Srch.U.hitHighlightingCloseTag;c=c.replace(new RegExp(e,"g"),"<~strong>");for(var f=c.split("/"),d=new Array(f.length),k=0;k<f.length;k++){f[k]=f[k].replace(new RegExp("<~strong>","g"),e);d[k]=0;var t=f[k].split(i);if(t.length>1)d[k]+=(t.length-1)*i.length;var u=f[k].split(e);if(u.length>1)d[k]+=(u.length-1)*e.length}var g=0,b=f[g],m=o+l,A=o;if(f.length===2)m="";else if(f.length===1)return Srch.U.getTrimmedProcessedHHXMLString(b,n);var B=b.length;b=Srch.U.getTrimmedProcessedHHXMLString(b,n-(l.length+m.length+A.length))+l;if(b.length<B){d[g]=0;var v=b.split(i);if(v.length>1)d[g]+=(v.length-1)*i.length;var w=b.split(e);if(w.length>1)d[g]+=(w.length-1)*e.length}var h=f.length-1,a=f[h],j=n-(b.length-d[g]),C=a.length;a=Srch.U.getTrimmedProcessedHHXMLString(a,j-m.length);if(a.length<C){d[h]=0;var x=a.split(i);if(x.length>1)d[h]+=(x.length-1)*i.length;var y=a.split(e);if(y.length>1)d[h]+=(y.length-1)*e.length}j=j-(a.length-d[h]);g++;h--;while(h>=g){var p=false,q=f[g];if(q.length-d[g]<=j-m.length){b=b+q+l;j=j-(q.length+l.length-d[g]);g++;p=true}if(g>h)return b+a;var r=f[h];if(r.length-d[h]<=j-m.length){a=r+l+a;j=j-(r.length+l.length-d[h]);h--;p=true}if(!p)break;if(g>h)return b+a}if(b.lastIndexOf(i)>b.lastIndexOf(e))if(a.indexOf(e)>=a.indexOf(i))b+=e;if(a.lastIndexOf(i)>a.lastIndexOf(e))a+=e;var D=b+m+a;return D.replace(new RegExp(o,"g"),"...")};Srch.U.copyLink=function(a){window.clipboardData&&window.clipboardData.setData("Text",a)};Srch.U.registerRenderTemplateByName=function(a,b){if(Srch.U.e(a)||Srch.U.n(b))Srch.U.traceFormatted(null,"RegisterRenderTemplateByName","Failed to register template due to missing template or name: {0}.",a);else{Srch.U.traceFormatted(null,"RegisterRenderTemplateByName","Registered template for name: {0}.",a);Srch.ScriptApplicationManager.get_current().$1K_1[a.toLowerCase()]=b}};Srch.U.getRenderTemplateCollection=function(){return Srch.ScriptApplicationManager.get_current().$1K_1};Srch.U.getRenderTemplateByName=function(a,f){if(Srch.U.w(a))return "";if(a.toLowerCase().startsWith(SP.PageContextInfo.get_siteServerRelativeUrl().toLowerCase()))a=a.toLowerCase().replace(SP.PageContextInfo.get_siteServerRelativeUrl().toLowerCase(),"~sitecollection"+(SP.PageContextInfo.get_siteServerRelativeUrl()==="/"?"/":""));var b=Srch.ScriptApplicationManager.get_current().$1K_1[a.toLowerCase()];if(!Srch.U.e(b))return b;var c=GetUrlKeyValue("templateshortname",false,a.toLowerCase());if(!Srch.U.e(c)){Srch.U.traceFormatted(null,"GetRenderTemplateByName","Looking up render template using short name '{0}'...",c);b=Srch.ScriptApplicationManager.get_current().$1K_1[c];if(!Srch.U.e(b))return b}if(a==="DefaultDataProvider")return "<div class='ms-srch-dataProvider' id='DataProvider' name='Control'></div>";if(!OffSwitch.IsActive("BDFB227C-6B80-42DB-92FD-E1463B8DE52A")){var e=Srch.ScriptApplicationManager.get_current().$1K_1["~sitecollection/_catalogs/masterpage/Display Templates/Search/Item_Default.js".toLowerCase()];if(!Srch.U.e(e))return e}var d=String.format(Srch.Res.cc_err_TemplateNotFoundMessage,SP.Utilities.HttpUtility.htmlEncode(a));Srch.U.trace(null,"GetRenderTemplateByName",d);Srch.U.logRenderingErrorMessageToContext(f,d,Srch.U.$4U);return d};Srch.U.addRenderContextCallback=function(d,c,a,b,e){if(!Srch.U.n(d)&&!Srch.U.w(c)&&!Srch.U.n(a)){Srch.U.$42(a,e);AddRenderCallback(d,c,a,Srch.U.n(b)?false:b)}};Srch.U.setItemRenderWrapper=function(b,a,c){if(!Srch.U.n(b)&&!Srch.U.n(a)){Srch.U.$42(a,c);b[Srch.U.$4R]=a}};Srch.U.logRenderingErrorMessageToContext=function(a,d,c){if(Srch.U.n(a))return;var e=Srch.U.createErrorObjectWithExecContext(d,c,a),b=a["Errors"];if(Srch.U.n(b)){b=[];a["Errors"]=b}Srch.U.appendArray(b,e)};Srch.U.$42=function(a,b){return Srch.U.setFieldOnObject(a,Srch.U.$1T,b)};Srch.U.$54=function(b,c,d){var a={};a[Srch.U.$3C]=c;a[Srch.U.$1T]=d;return Srch.U.setFieldOnObject(b,Srch.U.$3B,a)};Srch.U.getTemplateUrlFromFunctionOrRenderCtx=function(a){var b=Srch.U.getFieldOnObject(a,Srch.U.$2S);return Srch.U.getStringFieldOnObject(b,Srch.U.$4A)};Srch.U.createErrorObjectWithExecContext=function(f,e,c){var a={};a["message"]=f;var b=c;if(typeof b!=="function"){var d={};d[Srch.U.$2S]=Srch.U.getFieldOnObject(c,Srch.U.$2S);b=d}Srch.U.$54(a,e,b);return a};Srch.U.getFormattedTimeFromSeconds=function(d){var b=parseInt(d);if(!isNaN(b)){var a=Math.floor(b/3600),c=Math.floor((b-a*3600)/60),e=b-(a*3600+c*60);return String.format("{0}{1}{2}:{3}{4}",a<1?"":String.format("{0}:",a.toString()),c<10&&a>0?"0":"",c.toString(),e<10?"0":"",e.toString())}return d};Srch.U.resolveRenderTemplate=function(a,d,c){if(Srch.U.n(a)||Srch.U.e(c)){Srch.U.traceFormatted(null,"ResolveRenderTemplate","Empty template returned for level '{0}' because render context or level is empty.",c);return ""}var b=a["ClientControl"];if(Srch.U.n(b)){Srch.U.traceFormatted(null,"ResolveRenderTemplate","Empty template returned for level '{0}' because client control is empty.",c);return ""}if(c==="Item"){if(Srch.Result.isInstanceOfType(b)&&!Srch.U.e(b.$h_4))return Srch.U.getRenderTemplateByName(b.$h_4,a);else if(!Srch.U.n(d))return Srch.U.getRenderTemplateByName(d["RenderTemplateId"],a)}else if(c==="Group"){if(Srch.Result.isInstanceOfType(b)&&!Srch.U.e(b.$e_4))return Srch.U.getRenderTemplateByName(b.$e_4,a);else if(!Srch.U.n(d))return Srch.U.getRenderTemplateByName(Srch.U.getTableProperty(d,"RenderTemplateId"),a)}else if(c==="View"){if(Srch.Refinement.isInstanceOfType(b)){var f=a["RefinementControl"];if(!Srch.U.n(f)){var e=Srch.ValueInfo.ValueTypeHandler.$4C(f.propertyName);e=Srch.U.w(e)?f.renderTemplateId:e;return Srch.U.getRenderTemplateByName(e,a)}}return Srch.U.getRenderTemplateByName(b.$24_2,a)}else if(c==="Body"){var g=a["DisplayTemplateData"]["BodyTemplateId"];if(Srch.U.e(g))if(Srch.Result.isInstanceOfType(b))g=b.$1t_4;return Srch.U.getRenderTemplateByName(g,a)}Srch.U.traceFormatted(null,"ResolveRenderTemplate","Empty template returned for level '{0}'",c);return ""};Srch.U.isEnterKey=function(a){return !Srch.U.e(a)&&(a==="\r"||a==="\n")};Srch.U.cancelEvent=function(a){return Srch.U.cancelEventEx(a,true,true)};Srch.U.cancelEventEx=function(a,c,b){if(!Srch.U.n(a)){if(c)if(a.preventDefault)a.preventDefault();else a.returnValue=false;if(b)if(a.stopPropagation)a.stopPropagation();else a.cancelBubble=true}return false};Srch.U.getTableProperty=function(a,c){if(!Srch.U.n(a)){var b=a["Properties"];if(!Srch.U.n(b))return b[c]}return null};Srch.U.concatUrl=function(b,a){if(Srch.U.e(b))b="";if(Srch.U.e(a))a="";if(b.endsWith("/")){if(a.startsWith("/"))a=a.substr(1);return b+a}else if(a.startsWith("/"))return b+a;else return b+"/"+a};Srch.U.getIconUrl=function(){return SP.Utilities.VersionUtility.getImageUrl("html16.png")};Srch.U.getFolderIconUrl=function(){return SP.Utilities.VersionUtility.getImageUrl("folder.gif")};Srch.U.getIconUrlByFileExtension=function(b,c){if(b&&!Srch.U.n(b["FileExtension"])){var a=Srch.U.getFriendlyNameForFileExtension(b["FileExtension"].toString());if(a==="file_Word")return SP.Utilities.VersionUtility.getImageUrl("icdocx.png");else if(a==="file_PowerPoint")return SP.Utilities.VersionUtility.getImageUrl("icpptx.png");else if(a==="file_Excel")return SP.Utilities.VersionUtility.getImageUrl("icxlsx.png");else if(a==="file_OneNote")return SP.Utilities.VersionUtility.getImageUrl("icone.png");else if(a==="file_Visio")return SP.Utilities.VersionUtility.getImageUrl("icvisiogeneric.png");else if(a==="file_InfoPath")return SP.Utilities.VersionUtility.getImageUrl("icinfopathgeneric.png");else if(a==="file_Access")return SP.Utilities.VersionUtility.getImageUrl("icaccdb.png");else if(a==="file_Publisher")return SP.Utilities.VersionUtility.getImageUrl("icpub.png");else if(a==="file_PDF")return SP.Utilities.VersionUtility.getImageUrl("icpdf.png")}if(!Srch.U.e(c))return c;return SP.Utilities.VersionUtility.getImageUrl("html16.png")};Srch.U.getShowHoverPanelCallbackWide=function(c,a,b){return "EnsureScriptParams('SearchUI.js', 'HP.Show', '"+SP.Utilities.HttpUtility.ecmaScriptStringLiteralEncode(c)+"', '"+SP.Utilities.HttpUtility.ecmaScriptStringLiteralEncode(a)+"', '"+SP.Utilities.HttpUtility.ecmaScriptStringLiteralEncode(b)+"', true);"};Srch.U.getShowHoverPanelCallback=function(c,a,b){return "EnsureScriptParams('SearchUI.js', 'HP.Show', '"+SP.Utilities.HttpUtility.ecmaScriptStringLiteralEncode(c)+"', '"+SP.Utilities.HttpUtility.ecmaScriptStringLiteralEncode(a)+"', '"+SP.Utilities.HttpUtility.ecmaScriptStringLiteralEncode(b)+"', false);"};Srch.U.getHideHoverPanelCallback=function(){return "EnsureScriptParams('SearchUI.js', 'HP.Hide');"};Srch.U.getHighlightedProperty=function(b,e,a){var c=null;if(!Srch.U.e(b)){if(!(b in Srch.ScriptApplicationManager.get_current().$2d_1))Srch.ScriptApplicationManager.get_current().$2d_1[b]=Srch.U.$5n(e["HitHighlightedProperties"]);var d=Srch.ScriptApplicationManager.get_current().$2d_1[b];if(!Srch.U.n(d)){if(a==="Title")a="HHTitle";else if(a==="Path")a="HHUrl";else a=a.toLowerCase();c=d[a]}}return c};Srch.U.$5n=function(d){var a=null;if(!Srch.U.e(d)){d="<"+Srch.U.$2b+">"+d+"</"+Srch.U.$2b+">";var h=Srch.U.createXMLDocument(d);if(!Srch.U.n(h)){var c=h.getElementsByTagName(Srch.U.$2b);if(!Srch.U.n(c)&&!Srch.U.n(c[0])&&!Srch.U.n(c[0].childNodes)){a={};for(var i=c[0].childNodes,e=0;e<i.length;e++){var b=i[e],f=Srch.U.$3Z(b);if(b.nodeName in a)if(Srch.U.isArray(a[b.nodeName]))Srch.U.appendArray(a[b.nodeName],f);else{var g=[];Srch.U.appendArray(g,a[b.nodeName]);Srch.U.appendArray(g,f);a[b.nodeName]=g}else a[b.nodeName]=f}}}}return a};Srch.U.processHHXML=function(b){var a="";if(!Srch.U.e(b)){a=b.replace(new RegExp("<ddd/>","g"),"&#8230;");a=a.replace(new RegExp("<c0>","g"),Srch.U.hitHighlightingOpenTag);a=a.replace(new RegExp("</c0>","g"),Srch.U.hitHighlightingCloseTag)}return a};Srch.U.createXMLDocument=function(c){var d=window.self.ActiveXObject,e=window.self.DOMParser;if(!Srch.U.n(e))try{if(Srch.U.n(Srch.U.$2T))Srch.U.$2T=new DOMParser;Srch.U.trace(null,"CreateXMLDocument","Loading XML using DOMParser...");return Srch.U.$2T.parseFromString(c,"text/xml")}catch(a){Srch.U.traceFormatted(null,"CreateXMLDocument","Loading XML using DOMParser failed: {0}",a.message)}if(!Srch.U.n(d))try{if(Srch.U.n(Srch.U.$1B))Srch.U.$1B=new ActiveXObject("MSXML.DomDocument");Srch.U.$1B.preserveWhiteSpace=true;Srch.U.$1B.loadXML(c);Srch.U.trace(null,"CreateXMLDocument","Loading XML using MSXML.DomDocument...");return Srch.U.$1B}catch(b){Srch.U.traceFormatted(null,"CreateXMLDocument","Loading XML using MSXML.DomDocument failed: {0}",b.message)}return null};Srch.U.getUnEncodedMultiValuedResults=function(e,g,d){if(Srch.U.e(e))return e;if(Srch.U.e(d))d="  |  ";var f=" ",a=e.split(";");if(a&&a.length>0){var b=a.length>g?g:a.length;if(Srch.U.e(a[b-1]))b=b-1;for(var c=0;c<b;c++)if(!Srch.U.e(a[c])){f+=a[c];if(c<b-1)f+=d}}return f.trim()};Srch.U.getTrimmedString=function(b,c){if(Srch.U.e(b))return b;var d="...",a=b,e=a.length;if(e>c){a=a.substring(0,c);a+=d}return a};Srch.U.trimTitle=function(d,e,i){var f=false,g="&#8230;",a=d;if(!Srch.U.e(d)){var b=d.split("<t0/>");if(!Srch.U.n(b)){a="";for(var h=0,c=0;c<b.length&&h<i;c++)if(!Srch.U.e(b[c])){h++;a+=b[c]}if(c<b.length){f=true;e-=3;g=""}}}var j=a.lastIndexOf(Srch.U.hitHighlightingOpenTag),k=a.lastIndexOf(Srch.U.hitHighlightingCloseTag);if(k<j)a+=Srch.U.hitHighlightingCloseTag;a=Srch.U.$4z(a,Srch.U.hitHighlightingOpenTag,Srch.U.hitHighlightingCloseTag,g,e);if(f)a+="&#8230;";return a};Srch.U.extractReplyTitleFromSummary=function(b,c){b=Srch.U.processHHXML(b);var a=b.split(Srch.U.hitHighlightedDelimiterHtml);if(!a||a.length<1||Srch.U.e(a[0]))return "";var d=a[0];return Srch.U.getTrimmedProcessedHHXMLString(d,c)};Srch.U.getTrimmedProcessedHHXMLString=function(b,a){return Srch.U.$4z(b,Srch.U.hitHighlightingOpenTag,Srch.U.hitHighlightingCloseTag,"&#8230;",a)};Srch.U.$5T=function(b,c,d){var a=0;if(!Srch.U.e(b)){a=b.length;if(!Srch.U.e(c)){var e=b.split(c);if(!Srch.U.n(e))a-=c.length*(e.length-1)}if(!Srch.U.e(d)){var f=b.split(d);if(!Srch.U.n(f))a-=d.length*(f.length-1)}}return a};Srch.U.$4z=function(c,g,h,j,e){var k=Srch.U.$5T(c,g,h);if(Srch.U.e(c)||k<=e)return c;var f="",d=0,b=0,a=0;while(d<e&&b<c.length){a=c.indexOf(g,b);var i=a!==-1;if(a-b+d>e||!i)a=Math.min(b+(e-d),c.length);f+=c.substring(b,a);d+=a-b;if(d>=e)break;if(i){f+=g;b=a+g.length;a=c.indexOf(h,b);var l=a!==-1;if(a-b+d>e||!l)a=Math.min(b+(e-d),c.length);f+=c.substring(b,a)+h;d+=a-b;b=a+h.length}else b=a}if(!f.endsWith(j))f+=j;return f};Srch.U.getMultipleHHXMLNodeValues=function(g,e,f,c){var d="";if(Srch.U.e(c))c="  |  ";if(!Srch.U.n(g)&&!Srch.U.e(e)){var a=g.getElementsByTagName(e);if(!Srch.U.n(a)&&a.length>0)for(var h=a.length>f?f:a.length,b=0;b<h;b++){var i=Srch.U.$3Z(a[b]);if(!Srch.U.e(i)){d+=i;if(b<h-1)d+=c}}}return d};Srch.U.getSingleHHXMLNodeValue=function(c,b){var d="";if(!Srch.U.n(c)&&!Srch.U.e(b)){var a=c.getElementsByTagName(b);if(!Srch.U.n(a)&&a.length>0)d=Srch.U.$3Z(a[0])}return d};Srch.U.$3Z=function(e){var b="";if(!Srch.U.n(e)){var c=e.childNodes;if(!Srch.U.n(c)&&c.length>0)for(var d=0;d<c.length;d++){var a=c[d];if(!Srch.U.n(a))if(a.nodeType===3)b+=Srch.U.$4M(a);else if(a.nodeType===1)if(a.nodeName==="c0")b+=Srch.U.hitHighlightingOpenTag+Srch.U.$4M(a)+Srch.U.hitHighlightingCloseTag;else if(a.nodeName==="t0")b+="<t0/>";else if(a.nodeName==="ddd")b+="&#8230;"}}return b};Srch.U.$4M=function(b){var a="";if(!Srch.U.n(b)){a=b.nodeValue;if(Srch.U.e(a))a=b.text;if(Srch.U.e(a))a=b.textContent}return SP.Utilities.HttpUtility.htmlEncode(a)};Srch.U.isTableTypeof=function(b,a){if(!Srch.U.n(b)){var c=b["TableType"];if(!Srch.U.e(c)&&!Srch.U.e(a))if(a===c)return true}return false};Srch.U.isSubstrateTable=function(a){if(!Srch.U.n(a))if(Srch.U.isTableTypeof(a,Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.relevantResults)){var b=a["QueryRuleId"];if(Srch.U.n(b)||b==="00000000-0000-0000-0000-000000000000")return true}return false};Srch.U.getTableOfType=function(d,e){if(!Srch.U.n(d)&&!Srch.U.e(e)){var a=d["ResultTables"];if(!Srch.U.n(a)&&a.length>0)for(var b=0;b<a.length;b++){var c=a[b];if(!Srch.U.n(c)){var f=c["TableType"];if(!Srch.U.e(f))if(e===f)return c}}}return null};Srch.U.isFirstPromotedBlock=function(a){var b=false;if(!Srch.U.n(a)){var c=Srch.U.getTableProperty(a,"IsFirstPinnedResultBlock");if(!Srch.U.n(c))b=c}return b};Srch.U.isFirstRankedBlock=function(a){var b=false;if(!Srch.U.n(a)){var c=Srch.U.getTableProperty(a,"IsFirstRankedResultBlock");if(!Srch.U.n(c))b=c}return b};Srch.U.isIntentTable=function(a){if(!Srch.U.n(a))if(Srch.U.isTableTypeof(a,Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.relevantResults)){var b=a["QueryRuleId"];if(!Srch.U.n(b)&&b!=="00000000-0000-0000-0000-000000000000")return true}return false};Srch.U.createBehavior=function(a,e,d,b){if(!Srch.U.w(a)){var c=$find(a);!Srch.U.n(c)&&c.dispose()}if(!Srch.U.w(b)){Srch.U.traceFormatted(null,"CreateBehavior","Creating behavior '{0}'",a);return $create(e,d,null,null,$get(b))}return null};Srch.U.animate=function(a,b,c){Srch.U.ensureNotNullOrUndefined(a,null,"Animate","element");EnsureScript("core.js",TypeofFullName("SPAnimation"),function(){var d=new SPAnimation.State;if(b===2)d.SetAttribute(5,.5);else if(!b)d.SetAttribute(5,1);else if(b===15){if(!SPAnimation.Settings.IsAnimationEnabled()){Srch.U.showElement(a);return}SetOpacity(a,0);a.style.visibility="";d.SetAttribute(5,1)}else if(b===6){if(!SPAnimation.Settings.IsAnimationEnabled()){Srch.U.showElement(a);return}SetOpacity(a,0);Srch.U.positionElement(a,"-100px");d.SetAttribute(5,1);c=function(){Srch.U.resetElement(a)}}else if(b===9){if(!SPAnimation.Settings.IsAnimationEnabled()){Srch.U.showElement(a);return}SetOpacity(a,0);Srch.U.positionElement(a,"100px");d.SetAttribute(5,1);c=function(){Srch.U.resetElement(a)}}var e=new SPAnimation.Object(b,0,a,d,c,null);e.RunAnimation()})};Srch.U.hideElement=function(a){if(a)a.style.visibility="hidden"};Srch.U.showElement=function(a){if(a)a.style.visibility=""};Srch.U.positionElement=function(a,c){var b=a.parentNode;b.style.width=b.clientWidth+"px";b.style.overflow="hidden";a.style.position="relative";if(Srch.U.isRTL())a.style.right=c;else a.style.left=c;a.style.visibility=""};Srch.U.resetElement=function(a){var b=a.parentNode;a.style.position="";a.style.right=a.style.left="";b.style.overflow="";b.style.width=""};Srch.U.shouldAnimate=function(a){return a.$21_3>1};Srch.U.animateResults=function(a){Srch.U.ensureNotNullOrUndefined(a,null,"AnimateResults","result");EnsureScript("core.js",TypeofFullName("SPAnimation"),function(){Srch.U.animate(a.get_element(),15,null)});if(a.$2x_4){var b=Srch.U.getWorkspace(window.document.body);if(!Srch.U.n(b))b.scrollTop=0}};Srch.U.loadScripts=function(e,h,g,c){if(!Srch.U.n(e)){for(var d=[],f=0;f<e.length;f++){var a=e[f];if(!Srch.U.w(a)){a=Srch.U.removeCachingParameters(a.toLowerCase());Srch.U.traceFormatted(null,"LoadScripts","Adding url '{0}' to SOD...",a,a);RegisterSod(a,a);Srch.U.appendArray(d,a)}}if(d.length>0){var b=new Srch.U.LoadScriptsState;b.scriptsToLoad=d;if(c<0)c=Srch.ScriptApplicationManager.scriptLoadTimeout;if(c>0){b.timeoutHandle=window.setTimeout(function(){Srch.U.$5d(g,b)},c);Srch.U.traceFormatted(null,"LoadScripts","Created timeout handle '{0}'.",b.timeoutHandle)}Srch.U.trace(null,"LoadScripts","Loading SOD scripts...");LoadMultipleSods(d,function(){Srch.U.$5e(h,b)},false);return true}}Srch.U.trace(null,"LoadScripts","No script to load, skipping...");return false};Srch.U.$5e=function(b,a){Srch.U.ensureNotNullOrUndefined(a,null,"LoadScriptsSuccess","state");if(!a.progress){Srch.U.trace(null,"LoadScriptsSuccess","Marking load as success...");a.progress=1;if(a.timeoutHandle>0){window.clearTimeout(a.timeoutHandle);Srch.U.traceFormatted(null,"LoadScriptsSuccess","Cleared timeout handle '{0}'.",a.timeoutHandle)}Srch.U.trace(null,"LoadScriptsSuccess","Calling success handler...");b(a.scriptsToLoad)}else Srch.U.traceFormatted(null,"LoadScriptsSuccess","LoadScriptsProgress is '{0}', skipping...",Srch.U.LoadScriptsProgress.toString(a.progress))};Srch.U.$5d=function(e,a){Srch.U.ensureNotNullOrUndefined(a,null,"LoadScriptsFailure","state");if(!a.progress){Srch.U.trace(null,"LoadScriptsFailure","Marking load as failure...");a.progress=2;Srch.U.trace(null,"LoadScriptsFailure","Calling failure handler...");var d=[];if(!Srch.U.n(a.scriptsToLoad))for(var b=0;b<a.scriptsToLoad.length;b++){var c=a.scriptsToLoad[b];!Srch.U.w(c)&&Srch.U.n(Srch.ScriptApplicationManager.get_current().$18_1[c])&&Srch.U.appendArray(d,c)}e(d)}else Srch.U.traceFormatted(null,"LoadScriptsFailure","LoadScriptsProgress is '{0}', skipping...",Srch.U.LoadScriptsProgress.toString(a.progress))};Srch.U.appendScriptsToLoad=function(b,a){if(!Srch.U.w(a)){a=Srch.U.removeQueryParameters(a.trim().toLowerCase());if(!Srch.U.w(a)&&a.endsWith(".js")){a=Srch.U.urlTokenExpansion(a).toLowerCase();if(Srch.U.isInArray(b,a))Srch.U.traceFormatted(null,"AppendScriptsToLoad","Script '{0}' is already added.",a);else if(!Srch.U.n(Srch.ScriptApplicationManager.get_current().$18_1[a]))Srch.U.traceFormatted(null,"AppendScriptsToLoad","Script '{0}' is already loaded.",a);else{Srch.U.traceFormatted(null,"AppendScriptsToLoad","Script '{0}' added.",a);Srch.U.appendArray(b,a)}}}};Srch.U.registerLoadedScripts=function(a){if(!Srch.U.n(a))for(var b=0;b<a.length;b++){var c=a[b];if(!Srch.U.w(c)){Srch.U.traceFormatted(null,"RegisterLoadedScripts","Registering script '{0}' as loaded",c);Srch.ScriptApplicationManager.get_current().$18_1[c]=true}}};Srch.U.collapsibleRefinerTitle=function(d,g,h,f,c,a){var i=!Srch.U.e(c)?c:String.format("EnsureScriptParams('SearchUI.js', 'Srch.SU.toggleRefCategory', this.parentNode, '{0}')",SP.Utilities.HttpUtility.ecmaScriptStringLiteralEncode(d)),b="";if(!Srch.U.e(a)){var e=' aria-expanded="{0}"';if(a==="true")b=String.format(e,"true");else if(a==="false")b=String.format(e,"false")}return String.format('<a class="ms-ref-refinername" href="javascript: {{}}" onclick="{0}" onmouseup="this.blur();" role="button"{4}>\r\n                    <div class="ms-displayInlineBlock" id="{1}">{2}</div>\r\n                    <div class="{3}" id="refinerExpandCollapseArrow"></div>\r\n                  </a>',i,SP.Utilities.HttpUtility.htmlEncode((g||"")+"_RefinerHeading_"+d),SP.Utilities.HttpUtility.htmlEncode(h),SP.Utilities.HttpUtility.htmlEncode(f),b)};Srch.U.$3M=function(e,c){if(Srch.U.e(c))return "";var d=c,h=["http","https"];if(!(Srch.U.$4Q(c,false,h)||c.toLowerCase().startsWith("~site")))if(!Srch.U.e(e)){var f=e.lastIndexOf("/");if(f!==-1){var b=e.substring(0,f),a=c,i=3;while(a.startsWith("../")){a=a.substring(i,a.length);var g=b.lastIndexOf("/");if(g!==-1)b=b.substring(0,g)}if(a.startsWith("/"))d=b+a;else d=b+"/"+a}}return d};Srch.U.isDefaultSiteSearchPage=function(){var a=Srch.ScriptApplicationManager.get_current().get_pagePath();if(!Srch.U.w(a)&&a.toLowerCase().trim().endsWith("osssearchresults.aspx"))return true;return false};Srch.U.replaceUrlTokens=function(a){if(Srch.U.w(a))return a;if(a.toLowerCase().indexOf("{searchcenterurl}")!==-1){var c=Srch.ScriptApplicationManager.get_current().states["searchCenterUrl"];if(Srch.U.w(c)){Srch.U.getSearchCenterUrl(false);c=Srch.ScriptApplicationManager.get_current().states["searchCenterUrl"];if(Srch.U.w(c))return Srch.U.replaceUrlTokens(SP.Utilities.VersionUtility.getLayoutsPageUrl("osssearchresults.aspx?u={contexturl}"))}a=a.replace(new RegExp("\\{searchcenterurl\\}","gi"),c)}var f=Srch.ScriptApplicationManager.get_current().states["contextUrl"];if(!Srch.U.w(f))a=a.replace(new RegExp("\\{contexturl\\}","gi"),SP.Utilities.HttpUtility.urlKeyValueEncode(f));var g=Srch.ScriptApplicationManager.get_current().get_pagePath();if(!Srch.U.w(g))a=a.replace(new RegExp("\\{resultsurl\\}","gi"),g);var h=Srch.ScriptApplicationManager.get_current().states["defaultPagesListName"];if(!Srch.U.w(h))a=a.replace(new RegExp("\\{defaultpageslistname\\}","gi"),h);var b=Srch.U.$2Z();if(!Srch.U.w(b)){var d=Srch.U.$4L();if(!Srch.U.w(d)&&b!==d)b=d;a=a.replace(new RegExp("\\{Locale\\}","gi"),b)}a=SPClientRenderer.ReplaceUrlTokens(a);if(!Srch.U.w(a)&&Srch.U.isUrlPagelRelative(a)){var e=SP.PageContextInfo.get_serverRequestPath();if(!Srch.U.w(e)){var i=e.lastIndexOf("/");if(i!==-1){var j=e.substring(0,i);a=Srch.U.concatUrl(j,a)}}}return a};Srch.U.getSearchCenterUrl=function(c){var b=SP.PageContextInfo.get_webServerRelativeUrl(),d="/_api/search/searchcenterurl",e=b&&b!=="/"?b+d:d,a=new XMLHttpRequest;a.open("GET",e,c);a.setRequestHeader("Accept","application/json;odata=verbose");if(c){a.onreadystatechange=function(){Srch.U.$4s(a)};a.send(null)}else{a.send(null);Srch.U.$4s(a)}};Srch.U.$4s=function(a){if(a.readyState===4){if(a.status===200){var c=Sys.Serialization.JavaScriptSerializer.deserialize(a.responseText),b=c["d"];Srch.U.n(b)&&Srch.U.trace(null,"GetSearchCenterUrl","No data recieved from _api/search/searchcenterurl");var d=b["searchcenterurl"];Srch.ScriptApplicationManager.get_current().states["searchCenterUrl"]=d}Srch.ClientControl.$q=false}};Srch.U.urlTokenExpansion=function(b){if(Srch.U.w(b))return b;var a=b;a=Srch.U.appendUrlParameter(a,"ctag={SiteClientTag}");a=Srch.U.replaceUrlTokens(a);return a};Srch.U.includeCSS=function(b,a){var c=Srch.U.$3M(b,a);Srch.U.$3c(c,false)};Srch.U.includeScript=function(a,b){var c=Srch.U.$3M(a,b);Srch.U.$3c(c,false)};Srch.U.includeLanguageScript=function(a,b){var c=Srch.U.$3M(a,b);Srch.U.$3c(c,true)};Srch.U.$3c=function(b,a){Srch.U.traceFormatted(null,"RegisterCustomScript","scriptLink:'{0}' languageScript:'{1}'",b,a);Srch.ScriptApplicationManager.get_current().$1Z_1[b]=a;if(a){var c=Srch.U.$2Z(),d=Srch.U.$2Y();if(c!==d){var e=Srch.U.$5V(b);Srch.ScriptApplicationManager.get_current().$1Z_1[e]=a}}};Srch.U.isSPFSKU=function(){var a=Srch.ScriptApplicationManager.get_current().states["isSPFSKU"];if(!Srch.U.n(a))return a;return false};Srch.U.loadResource=function(a){return Srch.U.$B(a,true)};Srch.U.loadResourceForTemplate=function(b,a){return Srch.U.$4T(b,true,a)};Srch.U.$4P=function(){var a=Srch.Res;return Srch.U.n(a)?null:a};Srch.U.$B=function(a,b){return Srch.U.$4T(a,b,null)};Srch.U.$4T=function(d,k,l){var a="",f=false,i=Srch.U.$4P(),b=Srch.U.$2Z();if(!Srch.U.w(b))b=b.toLowerCase();var c=Srch.U.$2Y();if(!Srch.U.w(c))c=c.toLowerCase();var e=Srch.ScriptApplicationManager.get_current();if(Srch.U.n(e.$C_1)){Srch.U.trace(null,"LoadResource","language resource custom dictionaries not found in ScriptApplicationManager.Current");e.$C_1={}}else{var g=e.$C_1[b],h=e.$C_1[c];a=Srch.U.$1r(d,g);if(Srch.U.e(a))a=Srch.U.$1r(d,h);f=!Srch.U.n(g)||!Srch.U.n(h)}if(Srch.U.e(a))a=Srch.U.$1r(d,i);if(!Srch.U.e(a))return a;if(k){var j=String.format("Could not find StringID[{0}] FoundCustomDicts[{1}] UiLang[{2}] DefaultWebLang[{3}]",d,f,b,c);Srch.U.trace(null,"LoadResourceInternal",j);Srch.U.$5g(d,f,l)}return ""};Srch.U.$5z=function(){Srch.ScriptApplicationManager.get_current().$C_1["Warnings"]=[]};Srch.U.$3O=function(){var a=Srch.ScriptApplicationManager.get_current().$C_1["Warnings"];if(Srch.U.n(a)){a=[];Srch.ScriptApplicationManager.get_current().$C_1["Warnings"]=a}return a};Srch.U.$2Z=function(){return Srch.ScriptApplicationManager.get_current().states["webUILanguageName"]};Srch.U.$4L=function(){return Srch.ScriptApplicationManager.get_current().states["webUILanguageDirectory"]};Srch.U.$2Y=function(){return Srch.ScriptApplicationManager.get_current().states["webDefaultLanguageName"]};Srch.U.$5g=function(h,i,j){var d=Srch.U.$4P(),a=Srch.U.$2Z();if(!Srch.U.w(a))a=a.toLowerCase();var b=Srch.U.$2Y();if(!Srch.U.w(b))b=b.toLowerCase();var e="Could not locate core string resources from [Srch.Resources.resx]",f=Srch.U.$3O(),c="";if(i)c=Srch.U.$1r("cc_err_CustomLocStringWarningDisplayHeaderFormat",d);else c=Srch.U.$1r("cc_err_NoCustomLoadedLocStringWarningDisplayHeaderFormat",d);if(!Srch.U.e(c))e=String.format(c,a,b,h);var g=Srch.ControlMessage.getForStringLoadFailure(e,j);Srch.U.appendArray(f,g)};Srch.U.$1r=function(b,a){if(!Srch.U.n(a))if(!Srch.U.n(a[b]))return a[b];return ""};Srch.U.registerResourceDictionary=function(e,b){if(!Srch.U.e(e)){var a=e.toLowerCase();if(Srch.U.n(Srch.ScriptApplicationManager.get_current().$C_1[a]))Srch.ScriptApplicationManager.get_current().$C_1[a]=b;else if(!Srch.U.n(b)){var c=b;for(var d in c){var f={key:d,value:c[d]};Srch.ScriptApplicationManager.get_current().$C_1[a][f.key]=f.value}}}};Srch.U.$5V=function(a){if(!Srch.U.n(a)&&!Srch.U.w(Srch.U.$2Y()))return a.replace(new RegExp("\\{Locale\\}","gi"),Srch.U.$4L());else return a};Srch.U.restorePath=function(a,b,c){Srch.U.restoreText(a,b,c)&&Srch.U.ensureCSSClassNameNotExist(a,"ms-srch-item-path-selected")};Srch.U.selectPath=function(b,a){if(!Srch.U.n(a)){a.innerHTML="";Srch.U.ensureCSSClassNameExist(a,"ms-srch-item-path-selected");Srch.U.selectText(b,a);a.focus()}};Srch.U.setPath=function(a,b,e,d){if(!Srch.U.n(b)&&!Srch.U.n(a)){var c=!Srch.U.n(a.keyCode)?a.keyCode:a.which;if(c===13)Srch.U.selectPath(e,b);else c===9&&Srch.U.restorePath(b,d,"")}};Srch.U.restoreText=function(d,e,f){if(Srch.U.n(d))return false;var a=null,g=window.self.getSelection;if(!Srch.U.n(g))a=window.self.getSelection();if(Srch.U.n(a)){var b=document.selection;if(!Srch.U.n(b)){var c=b.createRange();if(!Srch.U.n(c))a=c.text}}if(Srch.U.n(a))return false;var h=a.toString();if(h!==f){d.innerHTML=e;return true}return false};Srch.U.selectText=function(h,a){if(Srch.U.n(a))return;a.innerHTML=SP.Utilities.HttpUtility.htmlEncode(h).replace(new RegExp(" ","g"),"&nbsp;");var e=window.document.createRange,f=window.self.getSelection;if(!Srch.U.n(f)&&!Srch.U.n(e)){var b=window.document.createRange();b.selectNodeContents(a);var c=window.self.getSelection();c.removeAllRanges();c.addRange(b)}else{var g=document.body.createTextRange;if(!Srch.U.n(g)){var d=document.body.createTextRange();d.moveToElementText(a);d.select()}}};Srch.U.renderFriendlyTimeIntervalString=function(c,b,a){EnsureScriptFunc("sp.datetimeutil.js","SP.DateTimeUtil.SPRelativeDateTime",function(){var d=$get(b);if(Srch.U.n(d)){Srch.U.trace(null,"RenderFriendlyTimeIntervalString",String.format("Document.GetElementById returned null for id '{0}'.",b));return}if(Srch.U.n(a))a=Srch.U.getCalendarType();d.innerHTML=SP.Utilities.HttpUtility.htmlEncode(Srch.U.getFriendlyTimeInterval(c,a))})};Srch.U.getFriendlyTimeInterval=function(a,c){var b=new Date;if(a>b)a=b;if(a.getFullYear()===b.getFullYear())return SP.DateTimeUtil.SPRelativeDateTime.getRelativeDateTimeString(a,true,c,true);else{var d=SP.DateTimeUtil.IntlDate.createFromJsLocalDate(a,c);return d.format("D",Sys.CultureInfo.CurrentCulture.name)}};Srch.U.getCalendarType=function(){var a=0;if(!Srch.U.n(_spRegionalSettings.calendarType))a=_spRegionalSettings.calendarType;return a};Srch.U.createFileIconAltText=function(b,a){var c=b?Srch.Res.ct_Folder:a;return String.format(Srch.Res.item_Alt_Icon,c)};Srch.U.PropNames=function(){};Srch.U.Ids=function(){};Srch.U.LoadScriptsState=function(){this.timeoutHandle=-1};Srch.U.LoadScriptsState.prototype={progress:0,scriptsToLoad:null};Srch.U.LoadScriptsProgress=function(){};Srch.U.LoadScriptsProgress.prototype={loading:0,success:1,failure:2};Srch.U.LoadScriptsProgress.registerEnum("Srch.U.LoadScriptsProgress",false);Srch.ListenedEvent=function(c,b,a){this.$I_0=c;this.$P_0=b;this.$D_0=a};Srch.ListenedEvent.prototype={$I_0:null,$P_0:0,$D_0:null,dispose:function(){if(!Srch.U.n(this.$I_0)&&!Srch.U.n(this.$D_0))if(Srch.DisplayControl.isInstanceOfType(this.$I_0)){var c=this.$I_0;this.$P_0===1&&c.remove_queryReady(this.$D_0)}else if(Srch.DataProvider.isInstanceOfType(this.$I_0)){var a=this.$I_0;if(this.$P_0===2)a.remove_queryIssuing(this.$D_0);else if(this.$P_0===4)a.remove_resultReady(this.$D_0);else this.$P_0===6&&a.remove_queryStateChanged(this.$D_0)}else if(Srch.SearchBox.isInstanceOfType(this.$I_0)){var b=this.$I_0;if(this.$P_0===1)b.remove_queryReady(this.$D_0);else if(this.$P_0===3)b.remove_batchQueryIssuing(this.$D_0);else this.$P_0===5&&b.remove_batchResultReady(this.$D_0)}}};Srch.ScriptApplicationManager=function(){this.$$d_$56_1=Function.createDelegate(this,this.$56_1);this.states={};this.queryGroups={};this.$3i_1={};this.$1K_1={};this.$18_1={};this.$1Z_1={};this.$C_1={};this.$2d_1={};Srch.ScriptApplicationManager.initializeBase(this)};Srch.ScriptApplicationManager.get_current=function(){if(Srch.U.n(Srch.ScriptApplicationManager.$1W))Srch.ScriptApplicationManager.$1W=$create(Srch.ScriptApplicationManager);Srch.U.ensureNotNullOrUndefined(Srch.ScriptApplicationManager.$1W,null,"Current","ScriptApplicationManager.current");return Srch.ScriptApplicationManager.$1W};Srch.ScriptApplicationManager.get_clientRuntimeContext=function(){if(Srch.U.n(Srch.ScriptApplicationManager.$w)){Srch.ScriptApplicationManager.$w=new SP.ClientRuntimeContext(SP.PageContextInfo.get_webServerRelativeUrl());Srch.ScriptApplicationManager.$w.set_formDigestHandlingEnabled(true)}Srch.U.ensureNotNullOrUndefined(Srch.ScriptApplicationManager.$w,null,"ClientRuntimeContext","ScriptApplicationManager.clientRuntimeContext");return Srch.ScriptApplicationManager.$w};Srch.ScriptApplicationManager.prototype={$3y_1:null,$16_1:null,$x_1:null,get_preferencesUrl:function(){return SP.Utilities.VersionUtility.getLayoutsPageUrl("EditUserPref.aspx?Source="+SP.Utilities.HttpUtility.urlKeyValueEncode(ajaxNavigate.get_href()))},get_resultTypesUrl:function(){return SP.Utilities.VersionUtility.getLayoutsPageUrl("manageresulttypes.aspx?level=site")},get_displayTemplatesUrl:function(){return SP.Utilities.UrlBuilder.urlCombine(SP.PageContextInfo.get_siteServerRelativeUrl(),SP.Utilities.VersionUtility.get_layoutsLatestVersionRelativeUrl()+"DesignDisplayTemplates.aspx")},get_queryRulesUrl:function(){return SP.Utilities.VersionUtility.getLayoutsPageUrl("listqueryrules.aspx?level=site")},get_resultSourcesUrl:function(){return SP.Utilities.VersionUtility.getLayoutsPageUrl("manageresultsources.aspx?level=site")},get_userAdvancedLanguageSettingsUrl:function(){return this.states["userAdvancedLanguageSettingsUrl"]},get_pagePath:function(){if(Srch.U.n(this.$i_1)){var b=ajaxNavigate.get_href();if(!Srch.U.w(b)){var a=b.split("?");if(!Srch.U.n(a)&&a.length>0){this.$i_1=a[0];if(!Srch.U.w(this.$i_1)){a=this.$i_1.split("#");if(!Srch.U.n(a)&&a.length>0)this.$i_1=a[0]}}}}return this.$i_1},$i_1:null,add_preLoad:function(a){this.get_events().addHandler(Srch.EventType.toString(8),a)},remove_preLoad:function(a){this.get_events().removeHandler(Srch.EventType.toString(8),a)},raisePreLoadEvent:function(){Srch.U.trace(this,"-----RaisePreLoadEvent-----","");var a=this.get_events().getHandler(Srch.EventType.toString(8));!Srch.U.n(a)&&a(this,null)},add_load:function(a){this.get_events().addHandler(Srch.EventType.toString(9),a)},remove_load:function(a){this.get_events().removeHandler(Srch.EventType.toString(9),a)},raiseLoadEvent:function(){Srch.U.trace(this,"-----RaiseLoadEvent-----","");var a=this.get_events().getHandler(Srch.EventType.toString(9));!Srch.U.n(a)&&a(this,null)},add_postLoad:function(a){this.get_events().addHandler(Srch.EventType.toString(10),a)},remove_postLoad:function(a){this.get_events().removeHandler(Srch.EventType.toString(10),a)},raisePostLoadEvent:function(){Srch.U.trace(this,"-----RaisePostLoadEvent-----","");var a=this.get_events().getHandler(Srch.EventType.toString(10));!Srch.U.n(a)&&a(this,null)},initialize:function(){this.$x_1=this.$$d_$56_1;Sys.Application.add_load(this.$x_1);Sys.Component.prototype.initialize.call(this)},dispose:function(){Srch.U.trace(this,"Dispose","");if(!Srch.U.n(this.$x_1)){Sys.Application.remove_load(this.$x_1);this.$x_1=null}Sys.Component.prototype.dispose.call(this)},getUserPreferenceLanguages:function(){return this.states["languages"]},getAllSupportedLanguages:function(){return this.states["supportedLanguages"]},getNavigationNodes:function(){return this.states["navigationNodes"]},getDisplayNameByLanguageID:function(c){var a=null;if(!this.$16_1){a=this.getAllSupportedLanguages();this.$16_1={};for(var d=0;d<a.length;d++){var f=a[d];this.$16_1[f.id.toString()]=f}}var b=this.$16_1[c.toString()];if(!Srch.U.n(b))return b.label;c=c&1023;if(Srch.U.n(a))a=this.getAllSupportedLanguages();for(var e=0;e<a.length;e++){b=a[e];if((b.id&1023)===c){this.$16_1[c.toString()]=b;return b.label}}return null},$56_1:function(b,a){Srch.U.trace(this,"Application_Load","");if(Srch.U.isPagePartialLoad(a)){Srch.U.trace(this,"Application_Load","Skipping load events for partial page load...");return}else{Srch.U.trace(this,"Application_Load","-----Triggering all load events-----");this.raisePreLoadEvent();this.raiseLoadEvent();this.raisePostLoadEvent();Srch.U.trace(this,"Application_Load","-----All load events triggered-----")}},registerClientControl:function(b){if(Srch.U.n(b))return;if(Srch.DisplayControl.isInstanceOfType(b)){var d=b,h=this.$3G_1(d.$5_3);Srch.U.appendArray(h.displays,d);Srch.U.traceFormatted(this,"RegisterClientControl","Adding Display '{0}' to query group '{1}'",d.get_id(),d.$5_3)}else if(Srch.DataProvider.isInstanceOfType(b)){var a=b,f=this.$3G_1(a.$5_3);if(a.$R_3&&Srch.U.n(f.dataProvider)){f.dataProvider=a;Srch.U.traceFormatted(this,"RegisterClientControl","Adding DataProvider '{0}' to query group '{1}'",a.get_id(),a.$5_3)}else{a.$R_3=false;Srch.U.traceFormatted(this,"RegisterClientControl","DataProvider '{0}' not added to to query group '{1}'",a.get_id(),a.$5_3)}}else if(Srch.SearchBox.isInstanceOfType(b)){var c=b;if(!Srch.U.n(c.$L_3))for(var e=0;e<c.$L_3.length;e++){var g=c.$L_3[e],i=this.$3G_1(g);Srch.U.appendArray(i.searchBoxes,c);Srch.U.traceFormatted(this,"RegisterClientControl","Adding SearchBox '{0}' to query group '{1}'",c.get_id(),g)}}},navigateTo:function(k,i){var e=0,c=null,d=null,a={},g=this.queryGroups;for(var h in g){var j={key:h,value:g[h]},b=j.value;if(!Srch.U.n(b)&&!Srch.U.n(b.dataProvider)&&b.dataProvider.$2I_3){e++;var f=b.dataProvider.$2_3.$5u_0();if(e===1&&Srch.QueryState.$5Y(f)){c=b.name;d=f}else{c=null;d=null}a[b.name]=Sys.Serialization.JavaScriptSerializer.serialize(f)}}if(e<1){Srch.U.trace(null,"AddNavigatePoint","Nothing to add.");return}if(!Srch.U.n(c)&&!Srch.U.n(d)){a=d;Srch.QueryState.$45(a,false);a[c]=null}else Srch.QueryState.$45(a,true);a["__"]=null;Srch.U.trace(null,"AddNavigatePoint",Sys.Serialization.JavaScriptSerializer.serialize(a));ajaxNavigate.update(k,a,i)},$41_1:function(){this.navigateTo(null,false)},$3G_1:function(b){Srch.U.ensureNotNullOrEmptyString(b,this,"EnsureQueryGroup","queryGroupName");var a=this.queryGroups[b];if(Srch.U.n(a)){a=new Srch.QueryGroup(b);this.queryGroups[b]=a}Srch.U.ensureNotNullOrUndefined(a,this,"EnsureQueryGroup","qg");return a},get_searchSessionID:function(){var b="SearchSession",a=Srch.U.getCookie(b);if(Srch.U.n(a)){Srch.U.trace(null,"SearchSessionID","Creating new search session cookie...");a=SP.Guid.newGuid().toString();if(!OffSwitch.IsActive(Srch.U.secureCookieKillSwitch))Srch.U.setCookie(b,a,null,null,null,true);else Srch.U.setCookie(b,a,null,null,null,false)}Srch.U.traceFormatted(null,"SearchSessionID","Search session cookie value is '{0}'",a);return a}};Srch.QueryGroup=function(a){this.searchBoxes=[];this.displays=[];this.name=a};Srch.QueryGroup.prototype={name:"",dataProvider:null};Srch.LanguagePreference=function(b,a){this.id=-1;this.id=b;this.label=a};Srch.LanguagePreference.prototype={label:""};Srch.QueryState=function(){this.e=-1};Srch.QueryState.$5Y=function(d){if(Srch.U.n(d))return false;var a=d;for(var b in a){var c={key:b,value:a[b]};if("string"!==typeof c.value&&"number"!==typeof c.value)return false}return true};Srch.QueryState.$45=function(b,f){if(!Srch.U.n(b)){var e=Srch.QueryState.$4,c=e;for(var d in c){var a={key:d,value:c[d]};if("function"!==typeof a.value)if(f||Srch.U.n(b[a.key]))b[a.key]=null}}};Srch.QueryState.$5F=function(){var c=false,f=new Srch.QueryState,g=f,j=Srch.QueryState.$4,d=j;for(var e in d){var a={key:e,value:d[e]},b=ajaxNavigate.getParam(a.key);if(a.key==="k"&&Srch.U.n(b))b=ajaxNavigate.getParam("/"+a.key);if(!Srch.U.n(b))if("string"===typeof a.value){g[a.key]=b;c=true}else if("number"===typeof a.value)try{var h=parseInt(b);if(!isNaN(h)){g[a.key]=h;c=true}}catch(i){Srch.U.traceFormatted(null,"CreateFromStringNumberOnlyValues","Formatting number from string '{0}' failed: {1}",b,i.message)}}if(c){Srch.U.trace(null,"CreateFromStringNumberOnlyValues","Found");return f}else{Srch.U.trace(null,"CreateFromStringNumberOnlyValues","Not found");return null}};Srch.QueryState.$5Q=function(){var a=new Srch.QueryState;a.k=null;return a};Srch.QueryState.prototype={k:"",o:null,s:0,r:null,l:0,m:"",d:0,x:null,copyFrom:function(a,b){if(Srch.U.n(a))return;if(!b||b===1||a.k!==Srch.QueryState.$4.k)if(!Srch.U.n(a.k))this.k=a.k;else this.k=Srch.QueryState.$4.k;if(Srch.U.n(this.k))this.k=Srch.QueryState.$4.k;if(!b||a.o!==Srch.QueryState.$4.o)if(!Srch.U.n(a.o))this.o=Srch.U.$2R(a.o,Srch.ResultSort);else this.o=Srch.QueryState.$4.o;if(!Srch.U.n(this.o)&&this.o.length<1)this.o=Srch.QueryState.$4.o;if(!b||a.x!==Srch.QueryState.$4.x)if(!Srch.U.n(a.x))this.x=Srch.U.$2R(a.x,Srch.RankRule);else this.x=Srch.QueryState.$4.x;if(!Srch.U.n(this.x)&&this.x.length<1)this.x=Srch.QueryState.$4.x;if(!b||b===1||a.s!==Srch.QueryState.$4.s)if(!Srch.U.n(a.s))this.s=a.s;else this.s=Srch.QueryState.$4.s;if(this.s<=1)this.s=Srch.QueryState.$4.s;if(!b||b===1||a.r!==Srch.QueryState.$4.r)if(!Srch.U.n(a.r))this.r=Srch.U.$2R(a.r,Srch.RefinementCategory);else this.r=Srch.QueryState.$4.r;if(!Srch.U.n(this.r)&&this.r.length<1)this.r=Srch.QueryState.$4.r;if(!b||a.l!==Srch.QueryState.$4.l)if(!Srch.U.n(a.l))this.l=a.l;else this.l=Srch.QueryState.$4.l;if(this.l<0)this.l=Srch.QueryState.$4.l;if(!b||b===1||a.m!==Srch.QueryState.$4.m)if(!Srch.U.n(a.m))this.m=a.m;else this.m=Srch.QueryState.$4.m;if(Srch.U.n(this.m))this.m=Srch.QueryState.$4.m;if(!b||b===1||a.d!==Srch.QueryState.$4.d)if(!Srch.U.n(a.d))this.d=a.d;else this.d=Srch.QueryState.$4.d;if(this.d<0)this.d=Srch.QueryState.$4.d;if(!b||b===1||a.e!==Srch.QueryState.$4.e)if(!Srch.U.n(a.e))this.e=a.e;else this.e=Srch.QueryState.$4.e;if(this.e<0)this.e=Srch.QueryState.$4.e},$39_0:function(a,c){if(Srch.U.n(a)&&Srch.U.n(c))return true;if(Srch.U.n(a)||Srch.U.n(c))return false;if(a.length!==c.length)return false;for(var b=0;b<a.length;b++){var d=a[b],e=c[b];if(Srch.U.n(d)!==Srch.U.n(e))return false;if(!Srch.U.n(d))if(!d.equalsTo(e))return false}return true},equalsTo:function(a){if(Srch.U.n(a))return false;if(this.d!==a.d||this.m!==a.m||this.l!==a.l||this.s!==a.s||this.k!==a.k||this.e!==a.e)return false;if(!this.$39_0(this.r,a.r)||!this.$39_0(this.x,a.x)||!this.$39_0(this.o,a.o))return false;return true},$5u_0:function(){var d=Srch.QueryState.$4,e=this,f={},b=d;for(var c in b){var a={key:c,value:b[c]};if("function"!==typeof a.value&&(a.key==="k"||d[a.key]!==e[a.key]))f[a.key]=e[a.key]}return f}};Srch.QueryState.CopyOption=function(){};Srch.QueryState.CopyOption.prototype={undefined:-1,fullOverride:0,partialOverride:1,merge:2};Srch.QueryState.CopyOption.registerEnum("Srch.QueryState.CopyOption",false);Srch.RefinementControl=function(b,c,a){this.propertyName=b;this.spec=c;this.renderTemplateId=a};Srch.RefinementControl.prototype={propertyName:null,spec:null,renderTemplateId:"4",overrideDisplayName:null,useDefaultDateIntervals:false,containerId:null,alternateRenderer:null,alternateRenderContext:null,countDisplay:"Both"};Srch.RefinementCategory=function(a){this.n=a;this.t=[];this.o="and"};Srch.RefinementCategory.prototype={n:null,t:null,o:"and",k:false,m:null,get_tokenCount:function(){return Srch.U.n(this.t)?0:this.t.length},addToken:function(a){!this.hasToken(a)&&Srch.U.appendArray(this.t,a)},removeToken:function(d){if(Srch.U.n(this.t))return;for(var b=[],a=0;a<this.t.length;a++){var c=this.t[a];c!==d&&Srch.U.appendArray(b,c)}this.t=b},hasToken:function(a){return Srch.U.isInArray(this.t,a)},toString:function(){var a="";if(Srch.U.n(this.t)||!this.t.length)return a;if(this.t.length>0)if(this.t.length===1)a=this.n+":"+this.t[0];else{var d=Srch.U.e(this.o)?"and":this.o,e=!Srch.U.n(this.k)&&this.k;if(e){a+="(";for(var b=0;b<this.t.length;b++){a+=this.n+":"+this.t[b];if(b<this.t.length-1)a+=" "+d+" "}a+=")"}else{a=d+"(";for(var c=0;c<this.t.length;c++){a+=this.n+":"+this.t[c];if(c<this.t.length-1)a+=","}a+=")"}}return a},equalsTo:function(a){if(Srch.U.n(a))return false;if(this.n!==a.n||this.o!==a.o)return false;if(Srch.U.n(this.t)!==Srch.U.n(a.t))return false;if(Srch.U.n(this.k)!==Srch.U.n(a.k)||this.k!==a.k)return false;if(!Srch.U.n(this.t)){if(this.t.length!==a.t.length)return false;for(var b=0;b<this.t.length;b++){var c=this.t[b],d=a.t[b];if(c!==d)return false}}return true}};Srch.DefaultQueryProperties=function(){};Srch.DefaultQueryProperties.prototype={culture:0,uiLanguage:0,summaryLength:0,desiredSnippetLength:0,enableStemming:false,enablePhonetic:false,enableNicknames:false,trimDuplicates:false,bypassResultTypes:false,enableInterleaving:false,enableQueryRules:false,processBestBets:false,enableOrderingHitHighlightedProperty:false,hitHighlightedMultivaluePropertyLimit:0,processPersonalFavorites:false};Srch.ResultSort=function(a,b){this.p=a;this.d=b};Srch.ResultSort.prototype={p:null,d:0,equalsTo:function(a){if(Srch.U.n(a))return false;return this.p===a.p&&this.d===a.d}};Srch.RankRule=function(c,a,b){this.matchType=c;this.matchValue=a;this.boost=b};Srch.RankRule.prototype={matchType:0,matchValue:null,boost:0,equalsTo:function(a){if(Srch.U.n(a))return false;return this.matchType===a.matchType&&this.boost===a.boost&&this.matchValue===a.matchValue}};Srch.ComplexResultSort=function(b,a){this.name=b;this.sorts=a};Srch.ComplexResultSort.prototype={name:null,sorts:null};Srch.ControlMessage=function(j,k,l,a,f,c,i,g,e,d,h){this.header=j;this.level=k;this.code=l;this.type=a;this.messageDetails=f;this.messageDetailsForViewers=c;this.stackTrace=i;this.correlationID=g;this.showInEditModeOnly=e;this.showForViewerUsers=d;this.encodeDetails=h;if(a)if(a.indexOf("QueryMalformedException")!==-1){this.header=String.format(Srch.U.loadResource("cc_err_MalformedHeader"),"<a href=\"javascript:HelpWindowKey('WSSEndUser_SearchTips');\">","</a>");if(Srch.U.w(this.header))this.header="We didn't understand your search terms. Make sure they're using proper syntax.";this.messageDetails="";this.messageDetailsForViewers=""}else if(a.indexOf("QueryThrottledException")!==-1){var b=Srch.U.loadResource("cc_err_QueryThrottledDetailsHeader");if(Srch.U.w(b))b="<strong>Query Throttled:</strong> Your query was throttled by the search service.  Throttling occurs when search service has high load and cannot execute the query.  If it's important that your Web Part not be throttled, you can adjust the priority of the query in the Web Part properties.";this.messageDetailsForViewers="";this.messageDetails=b+"<br /><br />"+SP.Utilities.HttpUtility.htmlEncode(this.messageDetails);this.encodeDetails=false}};Srch.ControlMessage.getIfControlMessage=function(b){var a=b;if(!Srch.U.n(a))if(!Srch.U.w(a.serverTypeId)&&a.serverTypeId==="{D3DFEF63-4D44-497D-B936-047135645AD7}")return new Srch.ControlMessage(a.header,a.level,a.code,a.type,a.messageDetails,a.messageDetailsForViewers,a.stackTrace,a.correlationID,a.showInEditModeOnly,a.showForViewerUsers,a.encodeDetails);return null};Srch.ControlMessage.getFromClientRequestFailedEventArgs=function(a){if(!Srch.U.n(a))return new Srch.ControlMessage(null,2,a.get_errorCode(),a.get_errorTypeName(),a.get_message(),"",a.get_stackTrace(),a.get_errorTraceCorrelationId(),false,true,true);return null};Srch.ControlMessage.getFromExceptionHandlingScope=function(a){if(!Srch.U.n(a)){var b=Srch.ScriptApplicationManager.get_clientRuntimeContext();return new Srch.ControlMessage(null,2,a.get_serverErrorCode(),a.get_serverErrorTypeName(),a.get_errorMessage(),"",a.get_serverStackTrace(),b.get_traceCorrelationId(),false,true,true)}return null};Srch.ControlMessage.getFromException=function(a){if(!Srch.U.n(a)){var b=Srch.ControlMessage.$4J(a);return new Srch.ControlMessage(null,2,-1,Srch.ControlMessage.$4f,b,"","",null,false,true,true)}return null};Srch.ControlMessage.getForStringLoadFailure=function(a,b){var c=Srch.U.createErrorObjectWithExecContext(a,Srch.ControlMessage.$4w,b),d=Srch.ControlMessage.$4J(c);return new Srch.ControlMessage(null,2,-1,Srch.ControlMessage.$4V,d,"","",null,false,true,true)};Srch.ControlMessage.$4J=function(b){var a="";if(!Srch.U.n(b)){a=Srch.U.getStringFieldOnObject(b,"message");try{if(Srch.U.w(a))a=b.toString();var d=Srch.U.getFieldOnObject(b,Srch.U.$3B),e=Srch.ControlMessage.$5X(d),f=Srch.U.getStringFieldOnObject(d,Srch.U.$3C),c=Srch.U.$B("cc_err_ExecContextExtraInfoFormat",false);if(Srch.U.w(c))c=Srch.ControlMessage.$4B;if(!Srch.U.w(e)||!Srch.U.w(f))a=String.format(c,a,f,e)}catch(g){}}return a};Srch.ControlMessage.$5X=function(e){var b=Srch.U.getFieldOnObject(e,Srch.U.$1T),a=Srch.U.getTemplateUrlFromFunctionOrRenderCtx(b),d=Srch.U.getFieldOnObject(b,Srch.U.$1T),c=Srch.U.getTemplateUrlFromFunctionOrRenderCtx(d);if(!Srch.U.w(c)){if(!Srch.U.w(a))a+=Srch.ControlMessage.$4x;a+=c}return a};Srch.ControlMessage.prototype={serverTypeId:"{D3DFEF63-4D44-497D-B936-047135645AD7}",header:null,level:0,code:0,type:null,messageDetails:null,messageDetailsForViewers:null,stackTrace:null,correlationID:null,showInEditModeOnly:false,showForViewerUsers:false,encodeDetails:false,toString:function(){return String.format("\nMessage:{0} \nLevel: {1} \nCode: {2} \nType: {3} \nDetails: {4} \nCorrelation ID: {5} \nStack Trace: {6}",this.header,this.level,this.code,this.type,this.messageDetails,this.correlationID,this.stackTrace)}};Srch.PagingLink=function(d,a,c,b){this.startItem=-1;this.pageNumber=-1;this.title=d;this.imageStyleClass=a;this.startItem=c;this.pageNumber=b};Srch.PagingLink.prototype={title:"",imageStyleClass:""};Srch.ResultEventArgs=function(a){Srch.ResultEventArgs.initializeBase(this);this.result=a};Srch.ResultEventArgs.prototype={result:null,searchSkipped:false};Srch.BatchResultEventArgs=function(a){Srch.BatchResultEventArgs.initializeBase(this);this.results=a};Srch.BatchResultEventArgs.prototype={results:null};Srch.QueryEventArgs=function(a){this.batchDataProviders=[];Srch.QueryEventArgs.initializeBase(this);this.queryState=a};Srch.QueryEventArgs.prototype={queryState:null,result:null,userAction:0,queryStateUpdateOption:-1,skipSearch:false};Srch.NavigationNode=function(b,c,a){this.name=b;this.url=c;this.promptString=a};Srch.NavigationNode.prototype={name:null,url:null,promptString:null};Srch.ClickRecorder=function(){};Srch.ClickRecorder.recordPageClick=function(a){Srch.ClickRecorder.$J=a;EnsureScript("sp.search.js",TypeofFullName("Microsoft.SharePoint.Client.Search.Query.SearchExecutor"),Srch.ClickRecorder.$5s)};Srch.ClickRecorder.$5s=function(){Srch.U.trace(null,"ClickRecorder.RecordPageClick","*****Connecting to server*****");var f=Srch.ScriptApplicationManager.get_clientRuntimeContext(),d=Srch.ClickRecorder.$J["piPageImpression"];if(Srch.U.e(d))return;var e=Srch.ClickRecorder.$J["piClickType"];if(Srch.U.e(e))return;var m=Srch.ClickRecorder.$J["piPageImpressionBlockType"],a="",g="",h="",i="",c="",j=0,b=Srch.ClickRecorder.$J["piSearchResult"];if(!Srch.U.n(b)){a=b["piSearchResultId"];if(!Srch.U.e(a)){var k=a.split("_"),o=k.length;if(o>=2&&k[1]==="1"){h=Srch.ClickRecorder.$J["piUserQuery"];g=Srch.ClickRecorder.$J["SourceId"];i=b["Title"];c=b["Path"];if(Srch.U.e(c))c=b["Url"];var l=Srch.ClickRecorder.$J["piSearchSubResultIndex"];if(!Srch.U.n(l))j=l}}}var n=Microsoft.SharePoint.Client.Search.Query.SearchExecutor.newObject(f);n.recordPageClick(d,e,m,a,j,g,h,i,c);f.executeQueryAsync(function(){Srch.U.trace(null,"RecordPageClick","Success")},function(f,b){Srch.U.trace(null,"RecordPageClick","failure");if(!Srch.U.n(b)){var c=Srch.ControlMessage.getFromClientRequestFailedEventArgs(b);c&&Srch.U.traceFormatted(null,"RecordPageClick","Failed to record click for {0}, click type {1}, result {2}. Error: {3}.",d,e,a,c.toString())}})};Srch.RefinementUtil=function(){};Srch.RefinementUtil.peoplePickerApplyIdPrefix=function(a){return a.containerId+"_"+a.propertyName};Srch.RefinementUtil.peoplePickerPrep=function(a,b,c){a+="_TopSpan";Srch.RefinementUtil.searchRefinementControls[a]=b;Srch.RefinementUtil.searchRefinementClientControls[b.propertyName]=c};Srch.RefinementUtil.refineByAuthor=function(d,c){var a=Srch.RefinementUtil.searchRefinementControls[d];if(Srch.U.n(a)||!a.propertyName)return;var b=Srch.RefinementUtil.searchRefinementClientControls[a.propertyName];if(Srch.U.n(b))return;b.addRefinementFilter(a.propertyName,Srch.RefinementUtil.stringValueToEqualsToken(c))};Srch.RefinementUtil.authorRefinerResolved=function(d,a){if(Srch.U.n(a)||a.length<=0)return;var b=a[0],c=b.DisplayText;if(Srch.U.n(b)||!b.IsResolved||Srch.U.w(c))return;Srch.RefinementUtil.refineByAuthor(d,c)};Srch.RefinementUtil.escapeTokenStringValue=function(b){var a=b;if(!Srch.U.n(a)){var c=new RegExp('"',"g"),d=new RegExp("\\\\","g");a=a.replace(d,"\\\\");a=a.replace(c,'\\"')}return a};Srch.RefinementUtil.stringValueToToken=function(a,b){return String.format('{0}("{1}")',a,Srch.RefinementUtil.escapeTokenStringValue(b))};Srch.RefinementUtil.stringValueToEqualsToken=function(a){return Srch.RefinementUtil.stringValueToToken("equals",a)};Srch.ValueInfo=function(a,b,c){this.inputValue=a;this.value=a;this.managedPropertyName=b;this.isNull=Srch.U.n(a);this.isEmpty=this.isNull||Srch.U.w(a.toString());this.isAllDayEvent=c;this.$67_0()};Srch.ValueInfo.$$cctor=function(){Srch.ValueInfo.$3b=new RegExp("\\\\","g")};Srch.ValueInfo.$d=function(a){var b="";if(!Srch.U.w(a))if(a.toUpperCase().startsWith("OWSTAXID"))b="OWSTAXID";else if(a.length>7&&"OWS"===a.substr(a.length-7,3).toUpperCase())b=a.substr(a.length-7,7).toUpperCase();return b};Srch.ValueInfo.isKnownEntityPropertyName=function(a){if(Srch.U.e(a))return false;else{var b=Srch.ValueInfo.ValueTypeHandler.$13(a,null,"baseHandlerId"),c=Srch.ValueInfo.$d(a);return b==="ManagedMetadata"||"OWSTAXID"===c||b==="LinkHrefUrl"||"OWSURLH"===c||b==="User"||"OWSUSER"===c}};Srch.ValueInfo.isHtmlPropertyName=function(a){if(!Srch.U.w(a)){var b=Srch.ValueInfo.ValueTypeHandler.$13(a,null,"baseHandlerId"),c=Srch.ValueInfo.$d(a);return b==="RichHtml"||"OWSHTML"===c}return false};Srch.ValueInfo.isAutoCreatedPropertyName=function(a){if(Srch.U.w(a))return false;if(a.startsWith("owstaxId"))return true;else if(a.length>7){var b=a.length-7,c=a.length-4;return a.substring(b,c).toUpperCase()==="OWS"}return false};Srch.ValueInfo.isUserProperty=function(a){if(!Srch.U.w(a)){var b=Srch.ValueInfo.ValueTypeHandler.$13(a,null,"baseHandlerId"),c=Srch.ValueInfo.$d(a);return b==="User"||"OWSUSER"===c}return false};Srch.ValueInfo.isManagedMetadataProperty=function(a){if(!Srch.U.w(a)){var b=Srch.ValueInfo.ValueTypeHandler.$13(a,null,"baseHandlerId"),c=Srch.ValueInfo.$d(a);return b==="ManagedMetadata"||"OWSTAXID"===c}return false};Srch.ValueInfo.getIntervalLabelsDictionary=function(d,j){var a=Srch.ValueInfo.ValueTypeHandler.$13(d,j,"intervalLabels");if(Srch.U.n(a))a=Srch.ValueInfo.ValueTypeHandler.get_$3E();var b={},e=a;for(var f in e){var g={key:f,value:e[f]};b[g.key]=Srch.U.loadResource(g.value)}for(var k=false,c=0;c<Srch.ValueInfo.$3Q.length;c++){var h=Srch.ValueInfo.$3Q[c],l=String.format("rf_IntervalLabels{0}_{1}",d,h),i=Srch.U.$B(l,false);if(!Srch.U.w(i)){k=true;b[h]=i}}return b};Srch.ValueInfo.$5R=function(b,c,j,d,a){var e="";a.val="";if(Srch.U.n(b)&&Srch.U.n(c))return "";var h=Srch.U.n(b.inputValue)?"":b.inputValue,i=Srch.U.n(c.inputValue)?"":c.inputValue,f=h.startsWith("min"),g=i.startsWith("max");if(f&&g)a.val=Srch.U.$B("rf_RangeBoundariesAnyValue",false);else if(f){a.val=d["min"];b=c}else if(g)a.val=d["max"];else a.val=d["range"];if(!Srch.U.w(a.val))e=String.format(a.val,b.toString(),c.toString());return e};Srch.ValueInfo.getValueOrValuesArray=function(b,a,e){if(Srch.U.isArray(b)||Srch.ValueInfo.isKnownEntityPropertyName(a)){var f=b,d=b;if(!Srch.U.n(b)&&!Srch.U.isArray(b)&&!Srch.U.w(f))if("owsmetadatafacetinfo"===a)d=f.split(";#");else if("owstaxidmetadataalltagsinfo"===a||"Tags"===a||!Srch.U.w(a)&&a.startsWith("owstaxId")){d=f.split(";");if(Srch.U.isArray(d)&&d.length===1)d=b}var c=new Srch.ValueInfo(b,"",e);c.managedPropertyName=a;c.isEntity=false;c.entityLabel="";c.entityType="";c.isValuesArray=true;var g=Srch.ValueInfo.getValuesCollection(d,a,e);c.value=g;c.isEmpty=0===g.length;return c}else return new Srch.ValueInfo(b,a,e)};Srch.ValueInfo.getValuesCollection=function(a,g,h){var c=[];if(Srch.U.n(a)||Srch.U.w(a.toString()))return c;var e=a;if(!Srch.U.isArray(a))e=a.toString().split("   ");for(var d=e,i=d.length,b=0;b<i;++b){var f=d[b];if(Srch.U.w(f))continue;var j=new Srch.ValueInfo(f.trim(),g,h);Srch.U.appendArray(c,j)}return c};Srch.ValueInfo.getCachedCtxItemValue=function(c,b){var a=null;if(!Srch.U.n(c)){var d=Srch.U.getOrCreateFieldOnObject(c,"ItemValues",{});a=d[b+".ValueObject"];if(Srch.U.n(a)){a=Srch.ValueInfo.getCtxItemValue(c,b);d[b+".ValueObject"]=a;d[a.managedPropertyName+".ValueObject"]=a}}if(Srch.U.n(a))a=Srch.ValueInfo.getCtxItemValue(c,b);return a};Srch.ValueInfo.getCtxItemValue=function(c,a){if(Srch.U.n(c)||Srch.U.w(a))return new Srch.ValueInfo(null,a,false);var b=null,h=null,d=c["DisplayTemplateData"];if(!Srch.U.n(d)&&!Srch.U.n(d["ManagedPropertyMapping"]))b=d["ManagedPropertyMapping"];var e=c["ClientControl"];if(!Srch.U.n(e))if(!Srch.U.n(e.get_propertyMappings)){var f=e.get_propertyMappings();if(!Srch.U.n(f)&&!Srch.U.w(f))b=Srch.Result.parsePropertyMappingsString(f)}if(!Srch.U.n(b)){var g=b[a];if(!Srch.U.n(g)&&Srch.U.isArray(g))h=g}return Srch.ValueInfo.getCtxItemValueWithMappings(c,a,h)};Srch.ValueInfo.getCtxItemValueWithMappings=function(o,e,d){var a=null,l=e,b=o["CurrentItem"];if(Srch.U.n(b))return a;var f=false;if("IsAllDayEvent" in b)f=b["IsAllDayEvent"];if(!Srch.U.n(d))for(var j=d,n=j.length,h=0;h<n;++h){var c=j[h];l=c;if(c in b){if(!Srch.U.n(b[c])){a=Srch.ValueInfo.getValueOrValuesArray(b[c],c,f);break}}else{var m=false,i=b;for(var k in i){var g={key:k,value:i[k]};if(g.key.toLowerCase()===c.toLowerCase())if(!Srch.U.n(g.value)){a=Srch.ValueInfo.getValueOrValuesArray(g.value,g.key,f);m=true;break}}if(m)break}}else{d=[];a=Srch.ValueInfo.getValueOrValuesArray(b[e],e,f)}if(Srch.U.n(a))a=new Srch.ValueInfo(null,l,false);a.propertyMappings=d;a.propertyLookupName=e;return a};Srch.ValueInfo.overrideRenderingForProperty=function(b,a){var c=b+"_OverrideMatchRendering_"+a;Srch.ValueInfo.ValueTypeHandler.$3d(c,b,a)};Srch.ValueInfo.overrideRefinementTemplateForProperty=function(b,a,c){var d=b+"_OverrideMatchRendering_"+a+"_OverrideMatchRendering_",e=Srch.ValueInfo.ValueTypeHandler.$3d(d,b,a);e.refinementOverrideTemplateId=c};Srch.ValueInfo.prototype={inputValue:null,value:null,managedPropertyName:"",isEntity:false,entityLabel:"",entityId:"",entityType:"",propertyLookupName:"",propertyMappings:null,isValuesArray:false,isNull:true,isEmpty:true,isAllDayEvent:false,$1Y_0:null,defaultValueRenderer:null,$2N_0:null,$67_0:function(){if(Srch.U.isArray(this.inputValue))return;try{var a=Srch.ValueInfo.ValueTypeHandler.$2V(this.managedPropertyName,null),b=Srch.U.getFieldOnObject(a,"valueParser");this.defaultValueRenderer=Srch.U.getFieldOnObject(a,"valueRenderer");if(Srch.U.n(this.defaultValueRenderer))this.defaultValueRenderer=Srch.ValueInfo.Renderers.defaultRenderedValueHtmlEncoded;if(!Srch.U.n(b)){b(this);if(this.inputValue!==this.value)Srch.U.traceFormatted(null,"tryParseValue","Value parser converted value for Prop[{0}]: InputValue[{1}]:ParsedValue[{2}]",this.managedPropertyName,this.inputValue,this.value);else!this.isEntity&&Srch.U.traceFormatted(null,"tryParseValue","Value parser did not change value for Prop[{0}]: InputValue[{1}]",this.managedPropertyName,this.inputValue);this.isEntity&&Srch.U.traceFormatted(null,"tryParseValue","Value parser extracted entity values for Prop[{0}]: InputValue[{1}]:Label[{2}]:Id[{3}]:Type[{4}]",this.managedPropertyName,this.inputValue,this.entityLabel,this.entityId,this.entityType)}}catch(c){Srch.U.traceFormatted(null,"tryParseValue","Error executing value parser for Prop[{0}]:InputValue[{1}]: {2}",this.managedPropertyName,this.inputValue,c.toString())}},getRenderedValue:function(){this.$11_0=true;var b="",a=Srch.ValueInfo.Renderers.defaultRenderedValueHtmlEncoded;if(!Srch.U.n(this.defaultValueRenderer))a=this.defaultValueRenderer;if(!Srch.U.n(this.$1Y_0))a=this.$1Y_0;var c=!Srch.U.n(this.$1Y_0)?"OverrideValueRenderer":!Srch.U.n(this.defaultValueRenderer)?"Default renderer for type":"Core DefaultRenderedValueHtmlEncoded";Srch.U.traceFormatted(null,"ValueInfo.GetRenderedValue","Rendering value for property[{0}] using renderer [{1}]",this.managedPropertyName,c);b=a(this);this.$11_0=false;return b},getFilterToken:function(){if(!Srch.U.n(this.$2N_0)){this.$11_0=true;var a=this.$2N_0(this);this.$11_0=false;return a}else return Srch.ValueInfo.Renderers.defaultFilterToken(this)},$11_0:false,toString:function(){if(this.$11_0)return Srch.U.n(this.value)?"":this.value.toString();else return this.getRenderedValue()},overrideValueRenderer:function(a){this.$1Y_0=a},overrideFilterTokenGenerator:function(a){this.$2N_0=a}};Srch.ValueInfo.Parsers=function(){};Srch.ValueInfo.Parsers.$65=function(a){if(Srch.U.n(a)||Srch.U.n(a.inputValue)||Srch.U.w(a.inputValue.toString()))return;if(a.managedPropertyName==="owsmetadatafacetinfo"||a.managedPropertyName==="ows_MetadataFacetInfo"){var b=a.inputValue.toString().split("|");if(b.length>=2){a.isEntity=true;a.entityId=b[b.length-2];a.entityLabel=b[b.length-1];a.entityType="owsmetadatafacetinfo"}}else{var c=a.inputValue.toString().split("|");if(c.length>=2){a.isEntity=true;a.entityLabel=c[c.length-1];a.entityId=a.inputValue.toString();a.entityId=a.entityId.replace(Srch.ValueInfo.$3b,"\\\\");a.entityType=c[0]}}};Srch.ValueInfo.Parsers.$69=function(a){if(Srch.U.n(a)||Srch.U.n(a.inputValue)||Srch.U.w(a.inputValue.toString()))return;var b=Srch.ValueInfo.Renderers.parseUserFieldValue(a.inputValue.toString());if(!Srch.U.w(b)){a.isEntity=true;a.entityLabel=b;a.entityId=b;a.entityType="People"}};Srch.ValueInfo.Parsers.$5k=function(a){if(Srch.U.n(a)||Srch.U.n(a.inputValue)||Number.isInstanceOfType(a.inputValue)||Srch.U.w(a.inputValue.toString()))return;var b=parseFloat(a.inputValue.toString());if(!Srch.U.n(b)&&!isNaN(b))a.value=b};Srch.ValueInfo.Parsers.$5l=function(a){if(Srch.U.n(a)||Srch.U.n(a.inputValue)||Number.isInstanceOfType(a.inputValue)||Srch.U.w(a.inputValue.toString()))return;var b=parseInt(a.inputValue.toString());if(!Srch.U.n(b)&&!isNaN(b))a.value=b};Srch.ValueInfo.Parsers.$2Q=function(c){if(Srch.U.n(c)||Srch.U.n(c.inputValue)||Date.isInstanceOfType(c.inputValue)||Srch.U.w(c.inputValue.toString()))return;var a=c.inputValue.toString(),b=Date.parseInvariant(a);if(Srch.U.n(b)){var d=new RegExp("(:[0-9][0-9])\\.?[0-9]*Z","g");if(!OffSwitch.IsActive(Srch.ValueInfo.$3v)){a=a.replace(d,"$1Z");b=new Date(a);a=a.replace("T"," ");if(Srch.U.n(b)||Date.isInstanceOfType(b)&&isNaN(b.getTime()))b=Date.parseInvariant(a)}else{a=a.replace(d,"$1Z").replace("T"," ");b=Date.parseInvariant(a)}if(Srch.U.n(b)){var e=a.indexOf(";");if(e>0){a=a.substr(0,e);b=new Date(a)}}}if(!Srch.U.n(b))c.value=b};Srch.ValueInfo.Parsers.$58=function(a){if(Srch.U.n(a)||Srch.U.n(a.inputValue)||Boolean.isInstanceOfType(a.inputValue)||Srch.U.w(a.inputValue.toString()))return;a.value="Yes"===a.inputValue||"1"===a.inputValue||"true"===a.inputValue};Srch.ValueInfo.Parsers.$68=function(a){if(Srch.U.n(a)||Srch.U.n(a.inputValue)||Boolean.isInstanceOfType(a.inputValue)||Srch.U.w(a.inputValue.toString()))return;if(Srch.ValueInfo.$d(a.managedPropertyName)==="OWSURLH"){var d=", ",e=",,",b=a.inputValue.toString(),c=b.indexOf(d);if(c>-1&&c<b.length){a.entityId=b.substr(0,c).replace(e,",");a.entityLabel=b.substr(c+d.length).replace(e,",");a.value=a.entityId;a.value=a.entityId}}};Srch.ValueInfo.Renderers=function(){};Srch.ValueInfo.Renderers.defaultRenderedValueHtmlEncoded=function(a){return SP.Utilities.HttpUtility.htmlEncode(Srch.ValueInfo.Renderers.defaultRenderedValueNoHtmlEncoding(a))};Srch.ValueInfo.Renderers.defaultRenderedValueNoHtmlEncoding=function(a){if(Srch.U.n(a)||a.isEmpty)return "";else if(a.isValuesArray&&Srch.U.isArray(a.value)&&!Srch.U.w(a.managedPropertyName)&&a.managedPropertyName.startsWith("owstaxId")){for(var g=a.value,e=[],d=g,f=d.length,c=0;c<f;++c){var b=d[c];!Srch.U.w(b.entityLabel)&&!Srch.U.w(b.entityType)&&!b.entityType.startsWith("G")&&Srch.U.appendArray(e,b)}return e.toString()}else return a.isEntity&&!Srch.U.w(a.entityLabel)?a.entityLabel:a.value.toString()};Srch.ValueInfo.Renderers.defaultFilterToken=function(a){if(Srch.U.n(a)||a.isEmpty)return "";if(a.isEntity&&!Srch.U.e(a.entityId))return 'string("'+a.entityId+'")';else if(a.isValuesArray&&Srch.U.isArray(a.value)){for(var g=a.value,c=[],d=g,f=d.length,b=0;b<f;++b){var h=d[b],e=h.getFilterToken();!Srch.U.w(e)&&Srch.U.appendArray(c,e)}return !c.length?"":"or("+c.join(", ")+")"}else return 'equals("'+a.inputValue.toString()+'")'};Srch.ValueInfo.Renderers.numberFriendlyRendering=function(a){if(!Srch.U.n(a)&&!a.isEmpty&&Number.isInstanceOfType(a.value))return Srch.U.toFriendlyNumber(Math.floor(a.value));else return Srch.ValueInfo.Renderers.defaultRenderedValueHtmlEncoded(a)};Srch.ValueInfo.Renderers.numberFileSizeRendering=function(a){if(!Srch.U.n(a)&&!a.isEmpty&&Number.isInstanceOfType(a.value))return SP.Utilities.HttpUtility.htmlEncode(Srch.U.toFileSizeDisplay(Math.floor(a.value),true));else return Srch.ValueInfo.Renderers.defaultRenderedValueHtmlEncoded(a)};Srch.ValueInfo.Renderers.numberFormattedTimeFromSeconds=function(a){var b=Srch.ValueInfo.Renderers.defaultRenderedValueNoHtmlEncoding(a);return SP.Utilities.HttpUtility.htmlEncode(Srch.U.getFormattedTimeFromSeconds(b))};Srch.ValueInfo.Renderers.textTruncateEnd=function(b,a){if(Srch.U.n(a))a=Srch.U.titleTruncationLength;var c=Srch.ValueInfo.Renderers.defaultRenderedValueNoHtmlEncoding(b);return SP.Utilities.HttpUtility.htmlEncode(Srch.U.truncateEnd(c,a))};Srch.ValueInfo.Renderers.contentLineText=function(a,b){if(Srch.U.n(b))b=90;var c=a.defaultValueRenderer?a.defaultValueRenderer(a):Srch.ValueInfo.Renderers.defaultRenderedValueHtmlEncoded(a),d=!Srch.U.w(c)&&c.length>b&&!Srch.ValueInfo.isHtmlPropertyName(a.managedPropertyName)&&(Sys.Browser.agent===Sys.Browser.InternetExplorer&&Sys.Browser.version<=8);return d?Srch.ValueInfo.Renderers.textTruncateEnd(a,b):c};Srch.ValueInfo.Renderers.textTruncateUrl=function(b,a){if(Srch.U.n(a))a=Srch.U.pathTruncationLength;var c=Srch.ValueInfo.Renderers.defaultRenderedValueNoHtmlEncoding(b);return SP.Utilities.HttpUtility.htmlEncode(Srch.U.truncateUrl(c,a))};Srch.ValueInfo.Renderers.parseUserFieldValue=function(b){var i=" | ";if(!Srch.U.w(b)){for(var a="",j=b.split(";"),f=j,h=f.length,c=0;c<h;++c){var g=f[c],d=(" "+g+" ").split(i);if(d.length%3){a+=g;continue}for(var e=0;e<d.length/3;e++){if(a.length>0)a+=",";a+=d[e*3+1].trim()}}return a}return b};Srch.ValueInfo.Renderers.imageSourceRendering=function(a){var c="";if(!Srch.U.n(a)&&Srch.ValueInfo.isInstanceOfType(a)&&!a.isNull&&!a.isEmpty){var e=a.value.toString().toUpperCase().indexOf("<IMG");if(e!==-1)if(a.value.toString().indexOf("_eat_")!==-1&&a.value.toString().indexOf("_oat_")!==-1){var d=a.value.toString().match(new RegExp("<IMG [^\\>]*SRC\\s*=\\s*([\"'])(.*?)\\1","i"));if(Srch.U.isArray(d)&&d.length>2)c=d[2]}else{var b=null;if(!OffSwitch.IsActive(Srch.ValueInfo.$4v))b=a.value.toString().match(new RegExp("<IMG [^\\>]*SRC\\s*=\\s*([\"'])(.*?)\\1","i"));else b=a.value.toString().toUpperCase().match(new RegExp("<IMG [^\\>]*SRC\\s*=\\s*([\"'])(.*?)\\1"));if(Srch.U.isArray(b)&&b.length>2)c=b[2]}else c=SP.Utilities.HttpUtility.htmlEncode(Srch.U.ensureAllowedProtocol(Srch.ValueInfo.Renderers.defaultRenderedValueNoHtmlEncoding(a)))}return c};Srch.ValueInfo.Renderers.defaultNumberRenderer=function(a){if(!Srch.U.n(a)&&!a.isEmpty&&Number.isInstanceOfType(a.value))return SP.Utilities.HttpUtility.htmlEncode(Srch.U.toFormattedNumber(a.value,2));else return Srch.ValueInfo.Renderers.defaultRenderedValueHtmlEncoded(a)};Srch.ValueInfo.Renderers.defaultDateRenderer=function(a){if(!Srch.U.n(a)&&!a.isEmpty&&Date.isInstanceOfType(a.value)){var c=Srch.U.$B(String.format("cc_ValueRendererDateFormat_{0}",a.managedPropertyName),false);if(Srch.U.w(c))c="LongDatePattern";var d=a.value;if(d){var b=new Date(d.getTime()),e=new Date(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds()),f=Srch.ScriptApplicationManager.get_current().states["timeZoneOffsetInHours"];f=f+Srch.ValueInfo.Renderers.$5m(d);e=new Date(e.getTime()+Math.floor(f*60*60*1e3));return SP.Utilities.HttpUtility.htmlEncode(Srch.U.toFormattedDate(e,c))}}return Srch.ValueInfo.Renderers.defaultRenderedValueHtmlEncoded(a)};Srch.ValueInfo.Renderers.defaultDateInvariantRenderer=function(a){if(!Srch.U.n(a)&&!a.isEmpty&&Date.isInstanceOfType(a.value)){var d=Srch.U.$B(String.format("cc_ValueRendererDateFormat_{0}",a.managedPropertyName),false);if(Srch.U.w(d))d="LongDatePattern";var c=a.value;if(c){var b=new Date(c.getTime());c=new Date(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds());return SP.Utilities.HttpUtility.htmlEncode(Srch.U.toFormattedDate(c,d))}}return Srch.ValueInfo.Renderers.defaultRenderedValueHtmlEncoded(a)};Srch.ValueInfo.Renderers.defaultLinkHrefUrlRendering=function(a){return SP.Utilities.HttpUtility.htmlEncode(Srch.U.ensureAllowedProtocol(Srch.ValueInfo.Renderers.defaultRenderedValueNoHtmlEncoding(a)))};Srch.ValueInfo.Renderers.defaultBooleanRendering=function(a){if(!Srch.U.n(a)&&!a.isEmpty&&Boolean.isInstanceOfType(a.value))return a.value?Srch.U.loadResource("cc_ValueRenderer_BooleanYes"):Srch.U.loadResource("cc_ValueRenderer_BooleanNo");else return Srch.ValueInfo.Renderers.defaultRenderedValueHtmlEncoded(a)};Srch.ValueInfo.Renderers.$5m=function(a){var b=new Date(a.getFullYear(),0,1),c=new Date(a.getFullYear(),6,1),d=Math.max(b.getTimezoneOffset(),c.getTimezoneOffset());if(a.getTimezoneOffset()<d)return 1;return 0};Srch.ValueInfo.ValueTypeHandler=function(){this.matching={};this.valueRenderer=Srch.ValueInfo.Renderers.defaultRenderedValueHtmlEncoded;this.filterTokenGenerator=Srch.ValueInfo.Renderers.defaultFilterToken};Srch.ValueInfo.ValueTypeHandler.$4G=function(){if(Srch.U.n(Srch.ScriptApplicationManager.get_current()))return {};var a=Srch.ScriptApplicationManager.get_current().$3y_1;if(Srch.U.n(a)){a={};Srch.ScriptApplicationManager.get_current().$3y_1=a;Srch.ValueInfo.ValueTypeHandler.$5Z()}return a};Srch.ValueInfo.ValueTypeHandler.$3e=function(d){if(Srch.U.n(d))return;for(var j=Srch.ValueInfo.ValueTypeHandler.$4G(),e=Srch.ValueInfo.ValueTypeHandler.$4N,h=e.length,b=0;b<h;++b){var g=e[b],k=Srch.U.getOrCreateFieldOnObject(j,g,{}),a=d.matching[g];if(!Srch.U.n(a)&&!Srch.U.n(a.length)&&a.length>0)for(var f=a,i=f.length,c=0;c<i;++c){var l=f[c];k[l.toUpperCase()]=d}}};Srch.ValueInfo.ValueTypeHandler.$13=function(b,c,d){var a=Srch.ValueInfo.ValueTypeHandler.$2V(b,c);return Srch.U.getFieldOnObject(a,d)};Srch.ValueInfo.ValueTypeHandler.$2V=function(b,c){var d=Srch.ValueInfo.ValueTypeHandler.$4G(),e=Srch.ValueInfo.ValueTypeHandler.$2U(Srch.ValueInfo.ValueTypeHandler.$1b,d,Srch.ValueInfo.ValueTypeHandler.$k);if(Srch.U.n(e))e=Srch.ValueInfo.ValueTypeHandler.get_$48();if(Srch.U.w(b)&&Srch.U.w(c))return e;var a=null;if(!Srch.U.w(b)){a=Srch.ValueInfo.ValueTypeHandler.$2U(b,d,Srch.ValueInfo.ValueTypeHandler.$k);if(Srch.U.n(a)){var f=Srch.ValueInfo.$d(b);a=Srch.ValueInfo.ValueTypeHandler.$2U(f,d,Srch.ValueInfo.ValueTypeHandler.$35)}}if(Srch.U.w(c))c=Srch.ValueInfo.ValueTypeHandler.$5W(b);if(Srch.U.n(a)&&!Srch.U.w(c))a=Srch.ValueInfo.ValueTypeHandler.$2U(c,d,Srch.ValueInfo.ValueTypeHandler.$2y);return Srch.U.n(a)?e:a};Srch.ValueInfo.ValueTypeHandler.$4C=function(b){var a=Srch.ValueInfo.ValueTypeHandler.$2V(b,null);return !Srch.U.n(a)&&!Srch.U.w(a.refinementOverrideTemplateId)?a.refinementOverrideTemplateId:""};Srch.ValueInfo.ValueTypeHandler.$2U=function(c,d,e){var a=Srch.U.getOrCreateFieldOnObject(d,e,{}),b=c.toUpperCase();if(!Srch.U.n(a[b]))return a[b];else return null};Srch.ValueInfo.ValueTypeHandler.$5B=function(c,d,e){var a=Srch.ValueInfo.ValueTypeHandler.$2V(d,e),b=Srch.ValueInfo.ValueTypeHandler.$5A(c,a);return b};Srch.ValueInfo.ValueTypeHandler.$5A=function(c,b){var a=new Srch.ValueInfo.ValueTypeHandler;a.id=c;a.baseHandlerId=Srch.U.w(b.baseHandlerId)?b.id:b.baseHandlerId;a.matching={};a.valueRenderer=b.valueRenderer;a.valueParser=b.valueParser;a.filterTokenGenerator=b.filterTokenGenerator;a.refinementSpecFilterDefault=b.refinementSpecFilterDefault;a.refinementOverrideTemplateId=b.refinementOverrideTemplateId;if(!Srch.U.n(b.intervalLabels))a.intervalLabels=Srch.U.copyDictionary(b.intervalLabels);return a};Srch.ValueInfo.ValueTypeHandler.$3d=function(b,c,d){var a=Srch.ValueInfo.ValueTypeHandler.$5B(b,d,null);a.matching={};a.matching[Srch.ValueInfo.ValueTypeHandler.$k]=[c];Srch.ValueInfo.ValueTypeHandler.$3e(a);return a};Srch.ValueInfo.ValueTypeHandler.$23=function(a,b,c,d){return Srch.ValueInfo.ValueTypeHandler.$4e(a,b,c,null,d)};Srch.ValueInfo.ValueTypeHandler.$5W=function(c){if(Srch.U.w(c))return "";var a={};a["String"]="Text";a["Date"]="EcmaDate";a["Int"]="Integer";a["Double"]="Double";a["Decimal"]="Decimal";a["YesNo"]="YesNo";var d=new RegExp(Srch.ValueInfo.ValueTypeHandler.$50,"g"),b=d.exec(c);if(!Srch.U.n(b)&&b.length>1&&!Srch.U.w(a[b[b.length-1]]))return a[b[b.length-1]];else return ""};Srch.ValueInfo.ValueTypeHandler.$o=function(a,b,c,d,e){var f=[];return Srch.ValueInfo.ValueTypeHandler.$4e(a,b,c,d,e)};Srch.ValueInfo.ValueTypeHandler.$4e=function(b,c,d,e,f){var a=new Srch.ValueInfo.ValueTypeHandler;a.id=b;a.baseHandlerId=b;a.matching[Srch.ValueInfo.ValueTypeHandler.$k]=c;a.matching[Srch.ValueInfo.ValueTypeHandler.$35]=d;a.matching[Srch.ValueInfo.ValueTypeHandler.$2y]=e;a.valueRenderer=f;Srch.ValueInfo.ValueTypeHandler.$3e(a);return a};Srch.ValueInfo.ValueTypeHandler.get_$48=function(){var a=new Srch.ValueInfo.ValueTypeHandler;a.id=Srch.ValueInfo.ValueTypeHandler.$1b;a.baseHandlerId=Srch.ValueInfo.ValueTypeHandler.$1b;a.matching[Srch.ValueInfo.ValueTypeHandler.$k]=[Srch.ValueInfo.ValueTypeHandler.$1b];return a};Srch.ValueInfo.ValueTypeHandler.get_$3E=function(){var a={};a["min"]="rf_DefaultNumberLabels_min";a["max"]="rf_DefaultNumberLabels_max";a["range"]="rf_DefaultNumberLabels_range";a["value"]="rf_DefaultNumberLabels_value";return a};Srch.ValueInfo.ValueTypeHandler.$2W=function(){var a={};a["0"]="rf_DefaultDateBoundaryLabels_0";a["1"]="rf_DefaultDateBoundaryLabels_1";a["2"]="rf_DefaultDateBoundaryLabels_2";a["3"]="rf_DefaultDateBoundaryLabels_3";a["min"]="rf_DefaultDateRangeLabels_min";a["max"]="rf_DefaultDateRangeLabels_max";a["range"]="rf_DefaultDateRangeLabels_range";a["value"]="rf_DefaultDateRangeLabels_value";return a};Srch.ValueInfo.ValueTypeHandler.$5Z=function(){Srch.ValueInfo.ValueTypeHandler.$3e(Srch.ValueInfo.ValueTypeHandler.get_$48());var a=Srch.ValueInfo.ValueTypeHandler.$o("NumericInt",["UrlDepth","DocumentSummarySize","PictureHeight","PictureWidth","Rank","RecsClickedLifeTime","RecsClickedRecent","ReplyCount","siterank","SocialDistance","ViewsLifeTime","ViewsLifeTimeUniqueUsers","ViewsRecent","ViewsRecentUniqueUsers"],["OWSINTG","OWSRCNT"],["Integer"],Srch.ValueInfo.Renderers.defaultNumberRenderer);a.valueParser=Srch.ValueInfo.Parsers.$5l;a.intervalLabels=Srch.ValueInfo.ValueTypeHandler.get_$3E();var b=Srch.ValueInfo.ValueTypeHandler.$o("NumericFloat",["Price","AAPrice"],["OWSNMBR","OWSCURR","OWSRAVG"],["Double","Decimal"],Srch.ValueInfo.Renderers.defaultNumberRenderer);b.valueParser=Srch.ValueInfo.Parsers.$5k;b.intervalLabels=Srch.ValueInfo.ValueTypeHandler.get_$3E();var c=Srch.ValueInfo.ValueTypeHandler.$o("EcmaDate",["LastModifiedTime","Created","DiscoveredTime","DisplayDate","EndDate","ExpirationTimes","ExtractedDate","ImageDateCreated","processingtime","StartDate","StartDateInvariant","EndDateInvariant"],["OWSDATE"],["EcmaDate"],Srch.ValueInfo.Renderers.defaultDateRenderer);c.valueParser=Srch.ValueInfo.Parsers.$2Q;c.intervalLabels=Srch.ValueInfo.ValueTypeHandler.$2W();var d=Srch.ValueInfo.ValueTypeHandler.$o("EcmaDateRefinersSingle",["RefinableDateSingle00","RefinableDateSingle01","RefinableDateSingle02","RefinableDateSingle03","RefinableDateSingle04"],["OWSDATE"],["EcmaDate"],Srch.ValueInfo.Renderers.defaultDateRenderer);d.valueParser=Srch.ValueInfo.Parsers.$2Q;d.intervalLabels=Srch.ValueInfo.ValueTypeHandler.$2W();if(!OffSwitch.IsActive(Srch.ValueInfo.$3v)){var f=Srch.ValueInfo.ValueTypeHandler.$o("EcmaDateRefinersInvariant",["RefinableDateInvariant00","RefinableDateInvariant01"],[],[],Srch.ValueInfo.Renderers.defaultDateInvariantRenderer);f.valueParser=Srch.ValueInfo.Parsers.$2Q;f.intervalLabels=Srch.ValueInfo.ValueTypeHandler.$2W()}else{var g=Srch.ValueInfo.ValueTypeHandler.$o("EcmaDateRefinersInvariant",["RefinableDateInvariant00","RefinableDateInvariant01"],["OWSDATE"],["EcmaDate"],Srch.ValueInfo.Renderers.defaultDateInvariantRenderer);g.valueParser=Srch.ValueInfo.Parsers.$2Q;g.intervalLabels=Srch.ValueInfo.ValueTypeHandler.$2W()}var e=Srch.ValueInfo.ValueTypeHandler.$23("ManagedMetadata",["owstaxidmetadataalltagsinfo","owsmetadatafacetinfo","ows_MetadataFacetInfo","Tags"],["OWSTAXID"],Srch.ValueInfo.Renderers.defaultRenderedValueHtmlEncoded);e.valueParser=Srch.ValueInfo.Parsers.$65;e.refinementSpecFilterDefault="L*";var h=Srch.ValueInfo.ValueTypeHandler.$23("User",[],["OWSUSER"],Srch.ValueInfo.Renderers.defaultRenderedValueHtmlEncoded);h.valueParser=Srch.ValueInfo.Parsers.$69;var l=Srch.ValueInfo.ValueTypeHandler.$23("RichHtml",null,["OWSLINK","OWSHTML"],Srch.ValueInfo.Renderers.defaultRenderedValueNoHtmlEncoding),m=Srch.ValueInfo.ValueTypeHandler.$23("ImageSrcUrl",["PublishingImage"],["OWSIMGE"],Srch.ValueInfo.Renderers.imageSourceRendering),i=Srch.ValueInfo.ValueTypeHandler.$23("LinkHrefUrl",null,["OWSURLH"],Srch.ValueInfo.Renderers.defaultLinkHrefUrlRendering);i.valueParser=Srch.ValueInfo.Parsers.$68;var j=Srch.ValueInfo.ValueTypeHandler.$o("Boolean",["IsDocument","IsContainer","IsData","IsDefaultView","IsEmptyList","IsListItem","IsMyDocuments","IsPartiallyProcessed","IsReport","IsSharedWithGroup","NonDocument","RobotsNoIndex","SiteClosed","SiteContainer"],["OWSBOOL"],["YesNo"],Srch.ValueInfo.Renderers.defaultBooleanRendering);j.valueParser=Srch.ValueInfo.Parsers.$58;var k=Srch.ValueInfo.ValueTypeHandler.$3d("FileSize","Size","NumericPropOWSINTG");k.valueRenderer=Srch.ValueInfo.Renderers.numberFileSizeRendering};Srch.ValueInfo.ValueTypeHandler.prototype={id:"",baseHandlerId:"",valueParser:null,refinementSpecFilterDefault:"",intervalLabels:null,refinementOverrideTemplateId:""};Srch.ParseJSONUtil=function(){};Srch.ParseJSONUtil.$5y=function(a){a=a.replace(Srch.ParseJSONUtil.$4m,'$1new SP.Guid("$2")');a=a.replace(Srch.ParseJSONUtil.$4k,"$1Srch.DataConvertUtil.createUtcDateTime($2)");a=a.replace(Srch.ParseJSONUtil.$4g,"$1Srch.DataConvertUtil.createLocalDateTime($2)");a=a.replace(Srch.ParseJSONUtil.$4i,"$1Srch.DataConvertUtil.createUnspecifiedDateTime($2)");return a};Srch.ParseJSONUtil.evaluateJsonValueToken=function(valueString){if(SP.ScriptUtility.isNullOrEmptyString(valueString))return valueString;var $v_0=valueString;$v_0=$v_0.replace(Srch.ParseJSONUtil.$4n,'new SP.Guid("$1")');$v_0=$v_0.replace(Srch.ParseJSONUtil.$4l,"Srch.DataConvertUtil.createUtcDateTime($1)");$v_0=$v_0.replace(Srch.ParseJSONUtil.$4h,"Srch.DataConvertUtil.createLocalDateTime($1)");$v_0=$v_0.replace(Srch.ParseJSONUtil.$4j,"Srch.DataConvertUtil.createUnspecifiedDateTime($1)");if($v_0===valueString)return valueString;else{var $v_1=eval("("+$v_0+")");return $v_1}};Srch.ParseJSONUtil.evaluateTokensInJsonObject=function(a){var b=Srch.U.getFieldOnObject(a,"EvaluatedTokensInJsonObject");if(!Srch.U.n(b)&&b)return;Srch.U.$47(a,function(c,d,a){if("string"===typeof a){var b=Srch.ParseJSONUtil.evaluateJsonValueToken(a);"string"!==typeof b&&Srch.U.setFieldOnObject(c,d,b)}});Srch.U.setFieldOnObject(a,"EvaluatedTokensInJsonObject",true)};Srch.ParseJSONUtil.parseObjectFromJsonString=function(json){if(SP.ScriptUtility.isNullOrEmptyString(json))return null;var $v_0=Srch.ParseJSONUtil.validateJson(json);if(!$v_0)throw Error.argument("json");json=Srch.ParseJSONUtil.$5y(json);var $v_1=eval("("+json+")");return $v_1};Srch.ParseJSONUtil.validateJson=function(a){return Srch.ParseJSONUtil.$4p.test(a.replace(Srch.ParseJSONUtil.$4q,"@").replace(Srch.ParseJSONUtil.$4r,"]").replace(Srch.ParseJSONUtil.$4o,""))};Srch.DataConvertUtil=function(){};Srch.DataConvertUtil.specifyDateTimeKind=function(a,b){a.kind=b};Srch.DataConvertUtil.getDateTimeKind=function(b){var a=b.kind;if(SP.ScriptUtility.isNullOrUndefined(a))return 2;return a};Srch.DataConvertUtil.createUnspecifiedDateTime=function(g,e,h,f,c,d,b){var a=new Date(g,e,h,f,c,d,b);Srch.DataConvertUtil.specifyDateTimeKind(a,0);return a};Srch.DataConvertUtil.createUtcDateTime=function(b){var a=new Date(b);Srch.DataConvertUtil.specifyDateTimeKind(a,1);return a};Srch.DataConvertUtil.createLocalDateTime=function(b){var a=new Date(b);Srch.DataConvertUtil.specifyDateTimeKind(a,2);return a};Type.registerNamespace("Microsoft.SharePoint.Client.Search.Query");Microsoft.SharePoint.Client.Search.Query.KnownTableTypes=function(){};Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.isKnownTableType=function(a){return a===Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.relevantResults||a===Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.specialTermResults||a===Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.definitionResults||a===Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.refinementResults||a===Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.interleavingInformation||a===Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.personalFavoriteResults};Srch.ClientControl.registerClass("Srch.ClientControl",Sys.UI.Control);Srch.DataProvider.registerClass("Srch.DataProvider",Srch.ClientControl);Srch.DisplayControl.registerClass("Srch.DisplayControl",Srch.ClientControl);Srch.Refinement.registerClass("Srch.Refinement",Srch.DisplayControl);Srch.Refinement.RefinerOptions.registerClass("Srch.Refinement.RefinerOptions");Srch.Result.registerClass("Srch.Result",Srch.DisplayControl);Srch.SearchBox.registerClass("Srch.SearchBox",Srch.ClientControl);Srch.U.registerClass("Srch.U");Srch.U.PropNames.registerClass("Srch.U.PropNames");Srch.U.Ids.registerClass("Srch.U.Ids");Srch.U.LoadScriptsState.registerClass("Srch.U.LoadScriptsState");Srch.ListenedEvent.registerClass("Srch.ListenedEvent");Srch.ScriptApplicationManager.registerClass("Srch.ScriptApplicationManager",Sys.Component);Srch.QueryGroup.registerClass("Srch.QueryGroup");Srch.LanguagePreference.registerClass("Srch.LanguagePreference");Srch.QueryState.registerClass("Srch.QueryState");Srch.RefinementControl.registerClass("Srch.RefinementControl");Srch.RefinementCategory.registerClass("Srch.RefinementCategory");Srch.DefaultQueryProperties.registerClass("Srch.DefaultQueryProperties");Srch.ResultSort.registerClass("Srch.ResultSort");Srch.RankRule.registerClass("Srch.RankRule");Srch.ComplexResultSort.registerClass("Srch.ComplexResultSort");Srch.ControlMessage.registerClass("Srch.ControlMessage");Srch.PagingLink.registerClass("Srch.PagingLink");Srch.ResultEventArgs.registerClass("Srch.ResultEventArgs",Sys.EventArgs);Srch.BatchResultEventArgs.registerClass("Srch.BatchResultEventArgs",Sys.EventArgs);Srch.QueryEventArgs.registerClass("Srch.QueryEventArgs",Sys.EventArgs);Srch.NavigationNode.registerClass("Srch.NavigationNode");Srch.ClickRecorder.registerClass("Srch.ClickRecorder");Srch.RefinementUtil.registerClass("Srch.RefinementUtil");Srch.ValueInfo.registerClass("Srch.ValueInfo");Srch.ValueInfo.Parsers.registerClass("Srch.ValueInfo.Parsers");Srch.ValueInfo.Renderers.registerClass("Srch.ValueInfo.Renderers");Srch.ValueInfo.ValueTypeHandler.registerClass("Srch.ValueInfo.ValueTypeHandler");Srch.ParseJSONUtil.registerClass("Srch.ParseJSONUtil");Srch.DataConvertUtil.registerClass("Srch.DataConvertUtil");Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.registerClass("Microsoft.SharePoint.Client.Search.Query.KnownTableTypes");function search_clientcontrols_initialize(){this.$q=false;Srch.ClientControl.$4X='<div><a href="#" style="cursor:pointer; " class="ms-calloutLink ms-clientcontrol-showdetails" onclick="Srch.ClientControl.toggleMessageDetails(this.parentNode);;return false;">{0}</a><a href="#" style="display: none; cursor:pointer; " class="ms-calloutLink ms-clientcontrol-hidedetails" onclick="Srch.ClientControl.toggleMessageDetails(this.parentNode);;return false;">{1}</a><br style="display: none;"/><br style="display: none;"/><div style="display: none;" id="ms-search-errors" class="ms-status-msg {2} ms-clientcontrol-errors" style="word-wrap:break-word">';Srch.ClientControl.$1w='<div class="ms-search-error">{0}</div>';Srch.DataProvider.$4W="D9BFB1A1-9036-4627-83B2-BBD9983AC8A1";Srch.DataProvider.$2f="4790B250-E2AF-4E4A-8136-600739EE3163";Srch.DataProvider.$3X="0BBA4D7D-4F2C-4086-975A-8F9D2B6C6D53";Srch.DataProvider.$1x="5DF7BA10-55D6-4da1-B55F-896F7BCB486B";Srch.DataProvider.$3H="C8BDD081-7379-4c71-AAC8-61B6AA6E25A6";Srch.DataProvider.$1k="02B657FE-924F-4b2b-BB91-4A12BAF9929A";Srch.Refinement.$53=new RegExp('[^\\s"]+|"[^"]*"');Srch.Refinement.refinemenT_TITLE_PREFIX="rf_RefinementTitle_";Srch.SearchBox.searchBoxBorderClassName="ms-srch-sb-border";Srch.SearchBox.searchBoxFocusedBorderClassName="ms-srch-sb-borderFocused";Srch.U.$44=["http://","https://","file://","file:\\\\","ftp://","mailto:","news:","nntp:","rtsp://","tel:","pnm://","mms://","data:"];Srch.U.secureCookieKillSwitch="4513C9D6-D660-4A0C-94AD-7316B43AE55E";Srch.U.hitHighlightingOpenTag='<strong class="ms-srch-item-highlightedText">';Srch.U.hitHighlightingCloseTag="</strong>";Srch.U.$1X="";Srch.U.$2a=0;Srch.U.cloudVideoContentTypeId="0x010100F3754F12A9B6490D9622A01FE9D8F012";Srch.U.titleTruncationLength=60;Srch.U.titleTruncationLengthWithMetadata=28;Srch.U.titleTruncationLengthWithPreview=50;Srch.U.summaryTruncationLength=145;Srch.U.summaryTruncationLengthWithPreview=120;Srch.U.pathTruncationLength=65;Srch.U.pathTruncationLengthWithPreview=55;Srch.U.pathTruncationLengthWithMetadata=41;Srch.U.personaControlRenderedThreshold=60;Srch.U.maximumSocialMetadataValue=1e3;Srch.U.contentFixedWidthLength=90;Srch.U.$4U="LoadTemplate";Srch.U.$4R="ItemRenderWrapper";Srch.U.$3B="ExecutionContext";Srch.U.$1T="TemplateFunction";Srch.U.$3C="Operation";Srch.U.$2S="DisplayTemplateData";Srch.U.$4A="TemplateUrl";Srch.U.$2b="root";Srch.U.hitHighlightedDelimiterXml="<ddd/>";Srch.U.hitHighlightedDelimiterHtml="&#8230;";Srch.U.$1B=null;Srch.U.$2T=null;Srch.U.PropNames.renderTemplates="RenderTemplates";Srch.U.PropNames.renderTemplateId="RenderTemplateId";Srch.U.PropNames.tableType="TableType";Srch.U.PropNames.queryErrors="QueryErrors";Srch.U.PropNames.resultTables="ResultTables";Srch.U.PropNames.resultRows="ResultRows";Srch.U.PropNames.queryId="QueryId";Srch.U.PropNames.properties="Properties";Srch.U.PropNames.rowCount="RowCount";Srch.U.PropNames.totalRows="TotalRows";Srch.U.PropNames.totalRowsIncludingDuplicates="TotalRowsIncludingDuplicates";Srch.U.PropNames.queryRuleId="QueryRuleId";Srch.U.PropNames.parentTableReference="ParentTableReference";Srch.U.PropNames.isFirstPinnedBlock="IsFirstPinnedResultBlock";Srch.U.PropNames.isFirstRankedBlock="IsFirstRankedResultBlock";Srch.U.Ids.group="_group";Srch.U.Ids.groupTitle="_groupTitle";Srch.U.Ids.groupLink="_groupLink";Srch.U.Ids.groupContent="_groupContent";Srch.U.Ids.item="_item";Srch.U.Ids.body="_itemBody";Srch.U.Ids.title="_itemTitle";Srch.U.Ids.icon="_itemIcon";Srch.U.Ids.titleLink="_itemTitleLink";Srch.U.Ids.summary="_itemSummary";Srch.U.Ids.path="_itemPath";Srch.U.Ids.hover="_hover";Srch.U.Ids.visualBestBet="_visualBestBet";Srch.U.Ids.preview="_itemPreview";Srch.U.Ids.deepLinks="_deepLinks";Srch.U.Ids.members="_members";Srch.U.Ids.replies="_replies";Srch.U.Ids.discussions="_discussions";Srch.U.Ids.likes="_likes";Srch.U.Ids.postInfo="_postInfo";Srch.ScriptApplicationManager.scriptLoadTimeout=7500;Srch.ScriptApplicationManager.$1W=null;Srch.ScriptApplicationManager.$w=null;Srch.QueryGroup.broadcastName="__";Srch.QueryState.$4=new Srch.QueryState;Srch.ControlMessage.$4f="RuntimeException";Srch.ControlMessage.$4V="LocStringIdNotFoundWarning";Srch.ControlMessage.$4w="LoadResource";Srch.ControlMessage.$4B="{0} ({1}: {2})";Srch.ControlMessage.$4x=";";Srch.ClickRecorder.pageImpressionInPropertyBag="piPageImpression";Srch.ClickRecorder.pageImpressionSearchResult="piSearchResult";Srch.ClickRecorder.pageClickType="piClickType";Srch.ClickRecorder.userQuery="piUserQuery";Srch.ClickRecorder.sourceId="SourceId";Srch.ClickRecorder.pageImpressionBlockInPropertyBag="piPageImpressionBlockType";Srch.ClickRecorder.pageImpressionSubResultIndex="piSearchSubResultIndex";Srch.ClickRecorder.$J=null;Srch.RefinementUtil.searchRefinementClientControls={};Srch.RefinementUtil.searchRefinementControls={};Srch.ValueInfo.$3b=null;Srch.ValueInfo.$3v="CAC101F7-CF4D-45B3-90A7-C883FAF3E210";Srch.ValueInfo.$4v="2e713a63-fa06-4455-b6ff-a1e42803b889";Srch.ValueInfo.taxFacetInfoPropertyName="owsmetadatafacetinfo";Srch.ValueInfo.taxAllTagsPropertyName="owstaxidmetadataalltagsinfo";Srch.ValueInfo.hashTagsPropertyName="Tags";Srch.ValueInfo.taxFieldPropertyNamePrefix="owstaxId";Srch.ValueInfo.peopleFieldPropertyName="People";Srch.ValueInfo.peopleInMediaFieldPropertyName="PeopleInMedia";Srch.ValueInfo.sizeFieldPropertyName="Size";Srch.ValueInfo.richHtmlFieldPropertyNameSuffix="OWSHTML";Srch.ValueInfo.richImageFieldPropertyNameSuffix="OWSIMGE";Srch.ValueInfo.authorFieldPropertyName="Author";Srch.ValueInfo.displayAuthorFieldPropertyName="DisplayAuthor";Srch.ValueInfo.$3Q=["min","max","range","value","0","1","2","3","4","5","6","7","8","9"];Srch.ValueInfo.$$cctor();Srch.ValueInfo.ValueTypeHandler.$k="PropNameExact";Srch.ValueInfo.ValueTypeHandler.$35="TypeCode";Srch.ValueInfo.ValueTypeHandler.$2y="SearchType";Srch.ValueInfo.ValueTypeHandler.$1b="*";Srch.ValueInfo.ValueTypeHandler.$4N=[Srch.ValueInfo.ValueTypeHandler.$k,Srch.ValueInfo.ValueTypeHandler.$35,Srch.ValueInfo.ValueTypeHandler.$2y];Srch.ValueInfo.ValueTypeHandler.$50="(Refinable)?(String|Date|Int|Double|Decimal|YesNo)[0-9][0-9]";Srch.ParseJSONUtil.$4i=new RegExp('(^|[^\\\\])\\"\\\\/Date\\(([0-9]+(?:,[0-9]+){2,6})\\)\\\\/\\"',"g");Srch.ParseJSONUtil.$4g=new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})\\)\\\\/\\"',"g");Srch.ParseJSONUtil.$4k=new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)\\)\\\\/\\"',"g");Srch.ParseJSONUtil.$4m=new RegExp('(^|[^\\\\])\\"\\\\/Guid\\(([0-9a-fA-F\\-]+)\\)\\\\/\\"',"g");Srch.ParseJSONUtil.$60=new RegExp('"(DocId)":([0-9]+)',"g");Srch.ParseJSONUtil.$61=new RegExp('"(WorkId)":([0-9]+)',"g");Srch.ParseJSONUtil.$4p=new RegExp("^[\\],:{}\\s]*$");Srch.ParseJSONUtil.$4q=new RegExp('\\\\(?:["\\\\\\/bfnrt]|u[0-9a-fA-F]{4})',"g");Srch.ParseJSONUtil.$4r=new RegExp('"[^"\\\\\\n\\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?',"g");Srch.ParseJSONUtil.$4o=new RegExp("(?:^|:|,)(?:\\s*\\[)+","g");Srch.ParseJSONUtil.$4j=new RegExp("^/Date\\(([0-9]+(?:,[0-9]+){2,6})\\)/$","g");Srch.ParseJSONUtil.$4h=new RegExp("^/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})\\)/$","g");Srch.ParseJSONUtil.$4l=new RegExp("^/Date\\((-?[0-9]+)\\)/$","g");Srch.ParseJSONUtil.$4n=new RegExp("^/Guid\\(([0-9a-fA-F\\-]+)\\)/$","g");Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.relevantResults="RelevantResults";Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.specialTermResults="SpecialTermResults";Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.definitionResults="DefinitionResults";Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.refinementResults="RefinementResults";Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.interleavingInformation="InterleavingInformation";Microsoft.SharePoint.Client.Search.Query.KnownTableTypes.personalFavoriteResults="PersonalFavoriteResults"}search_clientcontrols_initialize();var $isNull=Srch.U.n,$isEmptyString=Srch.U.e,$isInArray=Srch.U.isInArray;function $isEmptyArray(a){return Srch.U.n(a)||a.length<1}var $htmlAttUrlEncode=Srch.U.encodeUrlForHtmlAttributes,$htmlEncode=SP.Utilities.HttpUtility.htmlEncode,$scriptEncode=SP.Utilities.HttpUtility.ecmaScriptStringLiteralEncode,$urlKeyValueEncode=SP.Utilities.HttpUtility.urlKeyValueEncode,$urlPathEncode=SP.Utilities.HttpUtility.urlPathEncode;function $urlHtmlEncode(a){return $htmlEncode(Srch.U.ensureAllowedProtocol(a))}function $urlHtmlEncodeString(a){return $htmlAttUrlEncode(Srch.U.ensureAllowedProtocol(a))}function $urlHtmlEncodeValueObject(a){return $htmlAttUrlEncode(Srch.U.ensureAllowedProtocol(a.value))}var $imgSrcUrl=Srch.ValueInfo.Renderers.imageSourceRendering,$contentLineText=Srch.ValueInfo.Renderers.contentLineText,$getClientControl=Srch.U.getClientComponent,$getResultItem=Srch.U.getResultObject,$setResultItem=Srch.U.setResultObject,$getResultObject=Srch.U.getResultObject,$setResultObject=Srch.U.setResultObject,$findResultObjectFromDOM=Srch.U.findResultObjectFromDOM,$getItemValue=Srch.ValueInfo.getCtxItemValue,$getCachedItemValue=Srch.ValueInfo.getCachedCtxItemValue,$includeScript=Srch.U.includeScript,$includeCSS=Srch.U.includeCSS,$includeLanguageScript=Srch.U.includeLanguageScript,$registerResourceDictionary=Srch.U.registerResourceDictionary;function $resource(a){return Srch.U.loadResourceForTemplate(a,$resource.caller)}function $setItemWrapperCallback(b,a){Srch.U.setItemRenderWrapper(b,a,$setItemWrapperCallback.caller)}function $addRenderContextCallback(d,c,a,b){Srch.U.addRenderContextCallback(d,c,a,b,$addRenderContextCallback.caller)}RegisterModuleInit("search.clientcontrols.js",search_clientcontrols_initialize);typeof Sys!="undefined"&&Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded();NotifyScriptLoadedAndExecuteWaitingJobs("Search.ClientControls.js")