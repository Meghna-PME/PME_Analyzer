if("undefined"==typeof g_all_modules)g_all_modules={};g_all_modules["SP.UI.MySiteCommon.js"]={version:{rmj:16,rmm:0,rup:24016,rpr:12006}};typeof spWriteProfilerMark=="function"&&spWriteProfilerMark("perfMarkBegin_SP.UI.MySiteCommon.js");Type.registerNamespace("SP.UI.MySiteCommon");SP.UI.MySiteCommon.FirstRunStage=function(){};SP.UI.MySiteCommon.FirstRunStage.prototype={welcome:0,downloading:1,waiting:2};SP.UI.MySiteCommon.FirstRunStage.registerEnum("SP.UI.MySiteCommon.FirstRunStage",false);SP.UI.MySiteCommon.CheckBoxMenuItem=function(a){SP.UI.MySiteCommon.CheckBoxMenuItem.initializeBase(this,[a]);this.$o_0=false};SP.UI.MySiteCommon.CheckBoxMenuItem.prototype={onInvoke:function(b,a){this.$R_1=!this.$R_1;!this.$1E_1&&this.$Z_0.$28_0(a)},onMenuElementCreated:function(a){SP.UI.MySiteCommon.MySiteMenuItem.prototype.onMenuElementCreated.call(this,a);a.setAttribute("checked",this.$R_1)},get_checked:function(){return this.$R_1},set_checked:function(a){this.$R_1=a;return a},get_closeOnCheck:function(){return this.$1E_1},set_closeOnCheck:function(a){this.$1E_1=a;return a},$R_1:false,$1E_1:true};SP.UI.MySiteCommon.CommonUIElements=function(){};SP.UI.MySiteCommon.CommonUIElements.$P=function(a,b){return b?"ms-hidden":a?"ms-visibilityHidden":"ms-hide"};SP.UI.MySiteCommon.CommonUIElements.display=function(a){if(a){a.className=a.className.replace(SP.UI.MySiteCommon.CommonUIElements.$P(true,false),"").replace(SP.UI.MySiteCommon.CommonUIElements.$P(false,false),"").trim();if(a.tagName.toLowerCase()==="a")a.tabIndex=0}};SP.UI.MySiteCommon.CommonUIElements.displayForTabbable=function(a){if(a){var b=a.previousSibling,c=a.parentNode;c&&b&&b.getAttribute(SP.UI.MySiteCommon.CommonUIElements.$1c)==="true"&&c.removeChild(b);var d=a.getAttribute(SP.UI.MySiteCommon.CommonUIElements.$19),e=a.getAttribute(SP.UI.MySiteCommon.CommonUIElements.$18);if(d){a.style.width=d;a.removeAttribute(SP.UI.MySiteCommon.CommonUIElements.$19)}if(e){a.style.height=e;a.removeAttribute(SP.UI.MySiteCommon.CommonUIElements.$18)}a.className=a.className.replace(SP.UI.MySiteCommon.CommonUIElements.$P(false,true),"").trim()}};SP.UI.MySiteCommon.CommonUIElements.setDisplayNone=function(c,a){var b=SP.UI.MySiteCommon.CommonUIElements.$P(c,false);if(a&&a.className.indexOf(b)===-1){a.className+=" "+b;if(a.tagName.toLowerCase()==="a")a.tabIndex=-1}};SP.UI.MySiteCommon.CommonUIElements.setDisplayNoneAndTabbable=function(e,a){var f=SP.UI.MySiteCommon.CommonUIElements.$P(e,true);if(a&&a.className.indexOf(f)===-1){var g=false,h=false,c=a.style.width,i=c;if(SP.ScriptHelpers.isNullOrEmptyString(c)||c==="auto")i=a.clientWidth+"px";else g=true;var d=a.style.height,j=d;if(SP.ScriptHelpers.isNullOrEmptyString(d)||d==="auto")j=a.clientHeight+"px";else h=true;var l=a.className,k=a.parentNode;a.className+=" "+f;a.style.height="";a.style.width="";g&&a.setAttribute(SP.UI.MySiteCommon.CommonUIElements.$19,c);h&&a.setAttribute(SP.UI.MySiteCommon.CommonUIElements.$18,d);if(e&&k){var b=document.createElement("div");b.setAttribute(SP.UI.MySiteCommon.CommonUIElements.$1c,"true");b.style.width=i;b.style.height=j;b.className=l;k.insertBefore(b,a)}}};SP.UI.MySiteCommon.CommonUIElements.isEntirelyHidden=function(a){return!a?true:a.className?a.className.indexOf(SP.UI.MySiteCommon.CommonUIElements.$P(false,false))!==-1:false};SP.UI.MySiteCommon.CommonUIElements.displayOrHide=function(a,b){if(b)SP.UI.MySiteCommon.CommonUIElements.display(a);else SP.UI.MySiteCommon.CommonUIElements.setDisplayNone(false,a)};SP.UI.MySiteCommon.CommonUIElements.findElementByID=function(a,e){if(!a||a.id===e)return a;var b=a.childNodes,c=null;if(b)for(var d=0;d<b.length;d++){c=SP.UI.MySiteCommon.CommonUIElements.findElementByID(b[d],e);if(c)return c}return null};SP.UI.MySiteCommon.CommonUIElements.getValidId=function(b,c){var d=new RegExp("\\\\","g"),a=StAttrQuote(String.format(b,c.replace(d,"_-_")));return a.substring(1,a.length-1)};SP.UI.MySiteCommon.CommonUIElements.isSafeURL=function(a){if(a){var b=a.toLowerCase();if(b.indexOf("javascript:")===-1&&b.indexOf("vbscript:")===-1)return true}return false};SP.UI.MySiteCommon.CommonUIElements.createSafeAnchorHTML=function(h,b,f,d,e,c){var a="";if(SP.UI.MySiteCommon.CommonUIElements.isSafeURL(d)){var g=c?STSHtmlEncode(b):b;a=SP.UI.MySiteCommon.CommonUIElements.createAnchorOpenHTMLTag(h,f,d,e)+g+"</a>"}else if(c)a=STSHtmlEncode(b);else a=b;return a};SP.UI.MySiteCommon.CommonUIElements.createAnchorOpenHTMLTag=function(e,b,c,a){var d=StAttrQuote(c);return SP.UI.MySiteCommon.CommonUIElements.createOpenHTMLTagWithAdditionalAttributes("a",e,b,"href="+d+" "+a)};SP.UI.MySiteCommon.CommonUIElements.createSafeImageHTML=function(f,e,a,d){var b="",c="";if(SP.UI.MySiteCommon.CommonUIElements.isSafeURL(a)){c=StAttrQuote(a);b='<img id="'+f+'" class="'+e+'" src='+c+" "+d+"/>"}return b};SP.UI.MySiteCommon.CommonUIElements.encodeSafeURL=function(a){if(SP.UI.MySiteCommon.CommonUIElements.isSafeURL(a)){a=StAttrQuote(a);return a.substring(1,a.length-2)}return""};SP.UI.MySiteCommon.CommonUIElements.get_loadingAnimation=function(){return GetThemedImageUrl("loadingcirclests16.gif")};SP.UI.MySiteCommon.CommonUIElements.get_profileImagePlaceholder32=function(){return GetThemedImageUrl("PersonPlaceholder.32x32x32.png")};SP.UI.MySiteCommon.CommonUIElements.get_profileImagePlaceholder42=function(){return GetThemedImageUrl("PersonPlaceholder.42x42x32.png")};SP.UI.MySiteCommon.CommonUIElements.makeImage=function(c,d,a,b){return SP.UI.MySiteCommon.CommonUIElements.makeImageWithAltText(c,d,a,b,null)};SP.UI.MySiteCommon.CommonUIElements.makeImageAltSameAsTitle=function(c,d,b,a){return SP.UI.MySiteCommon.CommonUIElements.makeImageWithAltText(c,d,b,a,a)};SP.UI.MySiteCommon.CommonUIElements.makeImageWithAltText=function(e,f,d,b,c){var a=document.createElement("img");a.src=e;a.id=f;a.className=d;a.title=!b?"":b;a.alt=!c?"":c;return a};SP.UI.MySiteCommon.CommonUIElements.renderClearDiv=function(){var a=document.createElement("div");a.className="ms-clear";return a};SP.UI.MySiteCommon.CommonUIElements.ensureTrailingSlash=function(a){return SP.ScriptHelpers.isNullOrEmptyString(a)?"":!a.endsWith("/")?a+"/":a};SP.UI.MySiteCommon.CommonUIElements.createOpenHTMLTag=function(b,c,a){return SP.UI.MySiteCommon.CommonUIElements.createOpenHTMLTagWithAdditionalAttributes(b,c,a,"")};SP.UI.MySiteCommon.CommonUIElements.createOpenHTMLTagWithAdditionalAttributes=function(c,d,b,a){return"<"+c+' id="'+d+'" class="'+b+'" '+a+">"};SP.UI.MySiteCommon.CommonUIElements.makeLinkWithClickHandler=function(g,e,b,d,c,f){var a=document.createElement("a");a.id=g;a.className=e;SP.UI.MySiteCommon.CommonUIElements.addClickHandlerToAnchorElement(a,f);b&&a.appendChild(b);d&&a.appendChild(document.createTextNode(d));if(c)a.title=c;return a};SP.UI.MySiteCommon.CommonUIElements.addClickHandlerToAnchorElement=function(a,b){a.href="#";a.setAttribute("onclick","return false;");b&&$addHandler(a,"click",b)};SP.UI.MySiteCommon.CommonUIElements.getCursorPosition=function(a){if(typeof a.selectionStart!=="undefined")return a.selectionStart;else{var c=document.selection.createRange();if(!c)return 0;var b=a.createTextRange(),d=b.duplicate();b.moveToBookmark(c.getBookmark());d.setEndPoint("EndToStart",b);return d.text.length}};SP.UI.MySiteCommon.CommonUIElements.setCursorPosition=function(a,b){if(typeof a.setSelectionRange!=="undefined"){a.setSelectionRange(b,b);a.focus()}else if(typeof a.createTextRange!=="undefined"){var c=a.createTextRange();c.collapse(true);c.moveEnd("character",b);c.moveStart("character",b);c.select()}};SP.UI.MySiteCommon.CommonUIElements.createLoadingDiv=function(b,a,c){return SP.UI.MySiteCommon.CommonUIElements.createOpenHTMLTag("div",a,c)+SP.UI.MySiteCommon.CommonUIElements.createProcessingIconAsHTML(a+"_image","ms-microfeed-loadingImage")+STSHtmlEncode(b)+"</div>"};SP.UI.MySiteCommon.CommonUIElements.createProcessingIcon=function(c,b){var a=document.createElement("img");a.id=c;a.className=b;a.setAttribute("src",SP.UI.MySiteCommon.CommonUIElements.get_loadingAnimation());a.title="";a.setAttribute("alt","");SP.UI.MySiteCommon.CommonUIElements.addProcessingIconClickHandler(a);return a};SP.UI.MySiteCommon.CommonUIElements.createProcessingIconAsHTML=function(b,a){return'<img src="'+SP.UI.MySiteCommon.CommonUIElements.get_loadingAnimation()+'" id="'+b+'" class="'+a+'" title="" alt=""/ onclick="SP.UI.MySiteCommon.CommonUIElements.processingIconClickHandler(event);">'};SP.UI.MySiteCommon.CommonUIElements.addTechnicalDetailsDiv=function(e,f,b,g){if(!b)b="";var c=document.createElement("div");c.id="ms-errorDetailsDiv"+b;c.setAttribute("style","margin-bottom: 15px;");var d=document.createElement("div");d.id="ms-errorDetailsLinkDiv"+b;var a=document.createElement("div");a.id="ms-errorDetailsText"+b;a.className="ms-hide ms-descriptiontext";a.setAttribute("style","margin-bottom: 15px;");SP.UI.MySiteCommon.CommonUIElements.setElementText(a,f);var h=SP.UI.MySiteCommon.CommonUIElements.makeLinkWithClickHandler("ms-errorDetailsLink","ms-commandLink",null,SpsClient.ScriptResources.technicalDetails,null,function(){SP.UI.MySiteCommon.CommonUIElements.$2g(a,g)});d.appendChild(h);c.appendChild(d);c.appendChild(a);e.appendChild(c)};SP.UI.MySiteCommon.CommonUIElements.$2g=function(a,b){if(a)if(SP.UI.MySiteCommon.CommonUIElements.isEntirelyHidden(a)){SetOpacity(a,0);SP.UI.MySiteCommon.CommonUIElements.display(a);SPAnimationUtility.BasicAnimator.FadeIn(a,null,null)}else SPAnimationUtility.BasicAnimator.FadeOut(a,function(){SP.UI.MySiteCommon.CommonUIElements.setDisplayNone(false,a)},null);b&&b.autoSize()};SP.UI.MySiteCommon.CommonUIElements.addProcessingIconClickHandler=function(a){$addHandler(a,"click",SP.UI.MySiteCommon.CommonUIElements.processingIconClickHandler)};SP.UI.MySiteCommon.CommonUIElements.removeProcessingIconClickHandlerAndDisplay=function(a){$removeHandler(a,"click",SP.UI.MySiteCommon.CommonUIElements.processingIconClickHandler);SP.UI.MySiteCommon.CommonUIElements.display(a)};SP.UI.MySiteCommon.CommonUIElements.processingIconClickHandler=function(a){SP.UI.MySiteCommon.CommonUIElements.setDisplayNone(true,a.target)};SP.UI.MySiteCommon.CommonUIElements.displaySimpleErrorDialog=function(b){var a=new SP.UI.MySiteCommon.MySiteDialog(SpsClient.ScriptResources.unknownErrorTitle,SpsClient.ScriptResources.failedToLoadPageErrorMessage);a.$F_0=SpsClient.ScriptResources.closeButtonText;a.$E_0=true;a.$U_0=b;a.show()};SP.UI.MySiteCommon.CommonUIElements.setElementText=function(a,b){if(a)a.innerHTML=STSHtmlEncode(b)};SP.UI.MySiteCommon.PresenceManager=function(){this.$8_0=new ContextInfo;this.$8_0.Templates={};this.$8_0.Templates.Fields={};this.$B_0={};var b=[],a={};a.Name="PeoplePresence";a.FieldType="User";a.HasUserLink="1";a.Type="User";a.PictureOnly="1";a.PictureSize="Size_48px";Array.add(b,a);this.$B_0.Field=b;this.$B_0.EffectivePresenceEnabled="1";this.$B_0.UserDispUrl="person.aspx";this.$B_0.UserDispParam="accountname"};SP.UI.MySiteCommon.PresenceManager.get_$d=function(){if(!SP.UI.MySiteCommon.PresenceManager.$6)SP.UI.MySiteCommon.PresenceManager.$6=new SP.UI.MySiteCommon.PresenceManager;return SP.UI.MySiteCommon.PresenceManager.$6};SP.UI.MySiteCommon.PresenceManager.isPresenceJSLoaded=function(){return SP.UI.MySiteCommon.PresenceManager.get_$d().$1f_0};SP.UI.MySiteCommon.PresenceManager.ensurePresenceJSLoaded=function(a){SP.SOD.executeFunc("clienttemplates.js","spMgr.RenderFieldByName",function(){SP.UI.MySiteCommon.PresenceManager.get_$d().$1f_0=true;a()})};SP.UI.MySiteCommon.PresenceManager.getLyncUserImageHTML=function(e,d,a,c,b){return SP.UI.MySiteCommon.PresenceManager.$1r(e,d,a.get_accountName(),a.get_name(),a.get_uri(),c,a.get_emailAddress(),b)};SP.UI.MySiteCommon.PresenceManager.getLyncClientPersonImageHTML=function(e,d,a,c,b){return SP.UI.MySiteCommon.PresenceManager.$1r(e,d,a.$N_0,a.$9_0,a.$C_0,c,a.$A_0,b)};SP.UI.MySiteCommon.PresenceManager.$1r=function(g,h,c,i,j,d,k,e){var a="";if(SP.UI.MySiteCommon.PresenceManager.isPresenceJSLoaded())a=SP.UI.MySiteCommon.PresenceManager.getUserImageInnerHTML(c,i,d,j,k,null,e,true);else{var b=e?"36px":"48px",f='style="height:'+b+";width:"+b+'" name="authorElement" accountName="'+STSHtmlEncode(c)+'"';a=SP.UI.MySiteCommon.CommonUIElements.createSafeImageHTML("","",d.replace("_MThumb","_SThumb"),f)}return SP.UI.MySiteCommon.CommonUIElements.createOpenHTMLTag("div",g,h)+a+"</div>"};SP.UI.MySiteCommon.PresenceManager.getUserImageInnerHTML=function(c,a,d,e,h,g,b,f){if(SP.ScriptHelpers.isNullOrEmptyString(a))a="null";return SP.UI.MySiteCommon.PresenceManager.$1l(c,a,d,e,h,g,b,f,false)};SP.UI.MySiteCommon.PresenceManager.getLyncActorNameHTML=function(a,c,b){return!a.get_actorType()?SP.UI.MySiteCommon.PresenceManager.$1s(a.get_accountName(),a.get_name(),a.get_uri(),a.get_emailAddress(),c,b):SP.UI.MySiteCommon.CommonUIElements.createSafeAnchorHTML(c,a.get_name(),b,a.get_uri(),"",true)};SP.UI.MySiteCommon.PresenceManager.getLyncUserNameHTML=function(a,c,b){return SP.UI.MySiteCommon.PresenceManager.$1s(a.$N_0,a.$9_0,a.$C_0,a.$A_0,c,b)};SP.UI.MySiteCommon.PresenceManager.$1s=function(c,a,d,f,g,e){var b="";if(!SP.ScriptHelpers.isNullOrEmptyString(a))b=SP.UI.MySiteCommon.PresenceManager.isPresenceJSLoaded()?SP.UI.MySiteCommon.PresenceManager.$1u(c,a,d,f):SP.UI.MySiteCommon.CommonUIElements.createSafeAnchorHTML("",a,e,d,' name="nameNeedsPresence" accountName="'+STSHtmlEncode(c)+'"',true);return SP.UI.MySiteCommon.CommonUIElements.createOpenHTMLTag("span",g,e)+b+"</span>"};SP.UI.MySiteCommon.PresenceManager.$1u=function(a,b,c,d){return SP.UI.MySiteCommon.PresenceManager.$1l(a,b,null,c,d,null,false,false,true)};SP.UI.MySiteCommon.PresenceManager.$1l=function(i,j,k,c,l,m,n,o,h){var a=SP.UI.MySiteCommon.PresenceManager.get_$d().$B_0.Field[0],d=a.Name,e={},f=[],b={};b.accountname=i;b.title=j;b.email=l;if(!h){b.picture=k;b.jobTitle=m;b.department=""}Array.add(f,b);e[d]=f;if(h){a.NameWithContactCard="1";delete a.PictureOnly;delete a.WithPictureDetail;delete a.PictureSize}else{if(o){a.PictureOnly="1";delete a.NameWithContactCard;delete a.WithPictureDetail}else{a.WithPictureDetail="1";delete a.PictureOnly;delete a.NameWithContactCard}if(n)a.PictureSize="Size_36px";else a.PictureSize="Size_48px"}if(c){a.HasUserLink=true;var g=c.indexOf("?");SP.UI.MySiteCommon.PresenceManager.get_$d().$B_0.UserDispUrl=g>0?c.substring(0,g):c}else a.HasUserLink=false;return spMgr.RenderFieldByName(SP.UI.MySiteCommon.PresenceManager.get_$d().$8_0,d,e,SP.UI.MySiteCommon.PresenceManager.get_$d().$B_0)};SP.UI.MySiteCommon.PresenceManager.updateExistingImagesAndNamesWithPresence=function(a){window.setTimeout(function(){SP.UI.MySiteCommon.PresenceManager.ensurePresenceJSLoaded(function(){for(var b=document.getElementsByName("authorElement"),f=b.length-1;f>=0;f--){var a=b[f];if(a&&a.parentNode){var h=STSHtmlDecode(a.getAttribute("accountName")),j=a.getAttribute("src"),k=a.clientHeight,c=SP.UI.People.PersonManager.getPerson(h);if(c)a.parentNode.innerHTML=SP.UI.MySiteCommon.PresenceManager.getUserImageInnerHTML(h,c.$9_0,j,c.$C_0,c.$A_0,null,k!==48,true)}}b=document.getElementsByName("nameNeedsPresence");for(var g=b.length-1;g>=0;g--){var d=b[g];if(d&&d.parentNode){var i=STSHtmlDecode(d.getAttribute("accountName")),e=SP.UI.People.PersonManager.getPerson(i);if(e)d.parentNode.innerHTML=SP.UI.MySiteCommon.PresenceManager.$1u(i,e.$9_0,e.$C_0,e.$A_0)}}ProcessImn()})},a)};SP.UI.MySiteCommon.PresenceManager.prototype={$8_0:null,$B_0:null,$1f_0:false};SP.UI.MySiteCommon.MySiteDocumentsRenderer=function(){};SP.UI.MySiteCommon.MySiteDocumentsRenderer.titleRenderer_AddTemplates=function(a){a.Templates.View=SP.UI.MySiteCommon.MySiteDocumentsRenderer.$2e;a.Templates.Body=SP.UI.MySiteCommon.MySiteDocumentsRenderer.$2f};SP.UI.MySiteCommon.MySiteDocumentsRenderer.titleRenderer_ExchangeMySiteDocumentsTitleLinks=function(d){var a=$get("mysite-documentsPageTitle-DocsLink"),b=$get("mysite-documentsPageTitle-CommonDocsLink");if(typeof a==="undefined"||!a||typeof b==="undefined"||!b)return;if(d&&d.ListData){var f=STSHtmlEncode(d.ListData.mySiteDocUrl);a.setAttribute("onclick","STSNavigate('"+f+"'); return false;")}b.removeAttribute("onclick");var c="class",e=b.getAttribute(c).toString();b.setAttribute(c,a.getAttribute(c));a.setAttribute(c,e)};SP.UI.MySiteCommon.MySiteDocumentsRenderer.$2e=function(b){var a=new SP.HtmlBuilder;a.write(b.RenderBody(b));return a.toString()};SP.UI.MySiteCommon.MySiteDocumentsRenderer.$2f=function(b){if(!b||!b.ListData)return"";var a=new SP.HtmlBuilder;a.addAttribute("id","mysite-documentsPageTitle-container");a.addCssClass("ms-pivotControl-container ms-noWrap");a.renderBeginTag("div");a.addAttribute("id","mysite-documentsPageTitle-DocsLink");a.addAttribute("href","#");a.addCssClass("ms-pivotControl-surfacedOpt-selected");a.renderBeginTag("a");a.writeEncoded(b.ListData.mySiteDocTitle);a.renderEndTag();if(!b.ListData.hideRefLink){var c=STSHtmlEncode(b.ListData.commonDocUrl);a.addAttribute("id","mysite-documentsPageTitle-CommonDocsLink");a.addAttribute("href","#");a.addCssClass("ms-pivotControl-surfacedOpt");a.addAttribute("onclick","STSNavigate('"+c+"'); return false;");a.renderBeginTag("a");a.writeEncoded(b.ListData.commonDocTitle);a.renderEndTag()}a.renderEndTag();return a.toString()};SP.UI.MySiteCommon.MySiteDialog=function(b,a){this.$y_0=b;this.$Y_0=a;this.$V_0=false;this.$E_0=false;this.$s_0=false};SP.UI.MySiteCommon.MySiteDialog.prototype={show:function(){var a=null,b=document.createElement("div");b.id="ms-errorDialogDiv";if(!SP.ScriptHelpers.isNullOrEmptyString(this.$Y_0)){var g=document.createElement("div");g.id="ms-errorMessageDiv";g.setAttribute("style","margin-bottom: 15px;");SP.UI.MySiteCommon.CommonUIElements.setElementText(g,this.$Y_0);b.appendChild(g)}if(this.$t_0){var h=document.createElement("div");h.id="ms-errorExtraMessageDiv";h.setAttribute("style","margin-bottom: 15px;");h.appendChild(this.$t_0);b.appendChild(h)}!SP.ScriptHelpers.isNullOrEmptyString(this.$U_0)&&SP.UI.MySiteCommon.CommonUIElements.addTechnicalDetailsDiv(b,this.$U_0,"_dialog",this.$f_0);if(!this.$V_0||!this.$E_0){var d=document.createElement("div");d.id="ms-errorButtons";d.className="ms-alignRight";if(!this.$V_0){a=document.createElement("button");a.id="ms-errorOkButton";a.className="ms-ButtonHeightWidth";if(SP.ScriptHelpers.isNullOrEmptyString(this.$F_0))SP.UI.MySiteCommon.CommonUIElements.setElementText(a,SpsClient.ScriptResources.okButtonText);else SP.UI.MySiteCommon.CommonUIElements.setElementText(a,this.$F_0);var e=this;$addHandler(a,"click",function(){e.$K_0&&e.$K_0();!e.$s_0&&SP.UI.ModalDialog.commonModalDialogClose(1,null);e.$f_0=null});d.appendChild(a)}if(!this.$E_0){var c=document.createElement("button");c.id="ms-errorCancelButton";c.className="ms-ButtonHeightWidth";if(SP.ScriptHelpers.isNullOrEmptyString(this.$Q_0))SP.UI.MySiteCommon.CommonUIElements.setElementText(c,SpsClient.ScriptResources.cancelButtonText);else SP.UI.MySiteCommon.CommonUIElements.setElementText(c,this.$Q_0);var i=this;$addHandler(c,"click",function(){i.$n_0&&i.$n_0();SP.UI.ModalDialog.commonModalDialogClose(0,null);i.$f_0=null});d.appendChild(c)}b.appendChild(d)}var f=this;SP.SOD.executeFunc("SP.UI.Dialog.js","SP.UI.ModalDialog.showModalDialog",function(){var c=new SP.UI.DialogOptions;c.title=f.$y_0;c.html=b;c.autoSize=true;f.$f_0=SP.UI.ModalDialog.showModalDialog(c);if(f.$j_0)f.$j_0();else a&&a.focus()})},get_title:function(){return this.$y_0},set_title:function(a){this.$y_0=a;return a},get_message:function(){return this.$Y_0},set_message:function(a){this.$Y_0=a;return a},get_errorMessage:function(){return this.$U_0},set_errorMessage:function(a){this.$U_0=a;return a},get_extraMessage:function(){return this.$t_0},set_extraMessage:function(a){this.$t_0=a;return a},get_okButtonText:function(){return this.$F_0},set_okButtonText:function(a){this.$F_0=a;return a},get_okButtonCallback:function(){return this.$K_0},set_okButtonCallback:function(a){this.$K_0=a;return a},get_cancelButtonText:function(){return this.$Q_0},set_cancelButtonText:function(a){this.$Q_0=a;return a},get_cancelButtonCallback:function(){return this.$n_0},set_cancelButtonCallback:function(a){this.$n_0=a;return a},get_afterDisplayCallback:function(){return this.$j_0},set_afterDisplayCallback:function(a){this.$j_0=a;return a},get_hideOkButton:function(){return this.$V_0},set_hideOkButton:function(a){this.$V_0=a;return a},get_hideCancelButton:function(){return this.$E_0},set_hideCancelButton:function(a){this.$E_0=a;return a},get_delayClose:function(){return this.$s_0},set_delayClose:function(a){this.$s_0=a;return a},$f_0:null,$y_0:null,$Y_0:null,$U_0:null,$t_0:null,$F_0:null,$K_0:null,$Q_0:null,$n_0:null,$j_0:null,$V_0:false,$E_0:false,$s_0:false};SP.UI.MySiteCommon.MySiteMenu=function(a){this.$$d__OnClick=Function.createDelegate(this,this._OnClick);this.$1_0=a;SP.UI.MySiteCommon.MySiteMenu.$1g[a]=this;this.$5_0=[]};SP.UI.MySiteCommon.MySiteMenu.onMenuClickCallback=function(d,a){var b=SP.UI.MySiteCommon.MySiteMenu.$1g[d];if(b.$g_0(a)){var c=b.$5_0[a];c.$I_0&&c.$2H_0()}};SP.UI.MySiteCommon.MySiteMenu.onMySiteMenuKeyDown=function(d,b){if(b){var a=$get("ms-mysitemenu-menu_"+d);if(a){var c=a.getElementsByTagName("DIV")[0];if(c)if(b.keyCode===27)a.removeChild(c);else b.keyCode===9&&NavigateToMenu(a)}}};SP.UI.MySiteCommon.MySiteMenu.prototype={add:function(f,c,d,b,e){var a=new SP.UI.MySiteCommon.MySiteMenuItem(e);a.set_text(f);a.set_description(c);a.set_imageSource(d);a.set_imageAltText(b);return this.appendMenuItem(a)},appendMenuItem:function(b){var a=this.get_menuCount();if(!a)this.$L_0=b.get_text();b.set_$1V_0(this.$1_0+"_item_"+a);b.$W_0=a;b.$Z_0=this;this.$5_0[a]=b;return a},updateMySiteMenuItemByName:function(e,d,c){var b=this.getMenuIndexFromName(e),a=null;if(b===-1)return;else{a=this.$5_0[b];a.set_text(d);a.$2U_0(c);this.$5_0[b]=a}},clear:function(){this.$5_0=[];this.$X_0=0},getMenuIndexFromName:function(b){for(var a=0;a<this.get_menuCount();a++)if(b===this.$5_0[a].get_text())return a;return-1},getNameFromMenuIndex:function(a){return!this.$g_0(a)?null:this.$5_0[a].get_text()},getIDFromMenuIndex:function(a){return!this.$g_0(a)?null:"ms-mysitemenu-menu_Item_"+this.$5_0[a].get_$1V_0()},setEnabledItem:function(a,b){if(!this.$g_0(a))return;this.$5_0[a].$I_0=b},setStyles:function(){this.$r_0="ms-mysitemenu-control";this.$q_0="ms-mysitemenu-image";this.$p_0="ms-mysitemenu-link";this.set_controlElementType("h2")},setSelection:function(a){if(this.$X_0!==a&&this.$g_0(a)){this.set_text(this.$5_0[a].get_text());var b=$get("ms-mysitemenu-control_Link_"+this.$1_0);SP.UI.MySiteCommon.CommonUIElements.setElementText(b,this.get_text());this.$1k_0(b);this.$X_0=a;return true}return false},render:function(){this.setStyles();var b=document.createElement("span");b.id="ms-mysitemenu-control_"+this.$1_0;b.className=this.$r_0;var d=document.createElement(this.get_controlElementType()),a=document.createElement("a");a.id="ms-mysitemenu-control_Link_"+this.$1_0;a.className=this.$p_0;a.setAttribute("href","javascript:;");a.setAttribute("onclick","return false;");a.setAttribute("onkeydown","javascript:SP.UI.MySiteCommon.MySiteMenu.onMySiteMenuKeyDown('"+this.$1_0+"', event);");SP.UI.MySiteCommon.CommonUIElements.setElementText(a,this.get_text());this.$1k_0(a);var c=document.createElement("div");c.id="ms-mysitemenu-menu_"+this.$1_0;c.className=this.$1J_0;c.style.visibility="hidden";c.setAttribute("hideicons",this.$1H_0);$addHandler(b,"click",this.$$d__OnClick);d.appendChild(a);b.appendChild(d);b.appendChild(c);return b},$28_0:function(e){e&&e.preventDefault();this.$x_0&&this.$x_0();for(var c=SP.UI.Menu.create("ms-mysitemenu-menu_"+this.$1_0),a=0;a<this.get_menuCount();a++){var d=this.$5_0[a];d.$2B_0(c,this.$1_0,"ms-mysitemenu-menu_Item_"+d.get_$1V_0())}var f=$get("ms-mysitemenu-menu_"+this.$1_0),b=this;window.setTimeout(function(){c.showFilterMenu(f,false,false,0,b.$1L_0,b.$1K_0)},0)},_OnClick:function(c){var a=$get("ms-mysitemenu-menu_"+this.$1_0);if(a){var b=a.getElementsByTagName("DIV")[0];if(b)a.removeChild(b);else this.$28_0(c)}},$g_0:function(a){return 0<=a&&this.get_menuCount()>a},$1k_0:function(e){if(!SP.ScriptHelpers.isNullOrEmptyString(this.$v_0)){var a=document.createElement("img");a.id="ms-mysitemenu-control_Image_"+this.$1_0;a.className=this.$q_0;a.setAttribute("src",this.$v_0);a.title=this.$J_0;a.setAttribute("alt",this.$J_0);if(SP.ScriptHelpers.isNullOrEmptyString(this.$u_0))e.appendChild(a);else{var c=document.createElement("span");c.id="ms-mysitemenu-control_ImageParent_"+this.$1_0;c.className=this.$u_0;c.appendChild(a);e.appendChild(c)}}else{var d=document.createElement("span");d.setAttribute("style","margin-left:7px; height:"+4+"px;width:"+7+"px; position:relative; display:inline-block; overflow:hidden;");d.className="s4-clust ms-viewselector-arrow ms-menu-stdarw";var b=document.createElement("img");b.setAttribute("src","/_layouts/15/images/fgimg.png?rev=47");b.setAttribute("style","border-width:0px; position:absolute; left:-"+0+"px !important; top:-"+262+"px !important;");b.title=this.$J_0;b.setAttribute("alt",this.$J_0);d.appendChild(b);e.appendChild(d)}},get_textOverride:function(){return this.$a_0},set_textOverride:function(a){this.$a_0=a;return a},get_imageSourceOverride:function(){return this.$v_0},set_imageSourceOverride:function(a){this.$v_0=a;return a},get_imageParentClassOverride:function(){return this.$u_0},set_imageParentClassOverride:function(a){this.$u_0=a;return a},get_imageTitleText:function(){return this.$J_0},set_imageTitleText:function(a){this.$J_0=a;return a},get_menuCount:function(){return this.$5_0.length},get_selectedIndex:function(){return this.$X_0},set_selectedIndex:function(a){this.$X_0=a;return a},get_showCheckBoxes:function(){return this.$1K_0},set_showCheckBoxes:function(a){this.$1K_0=a;return a},get_showCloseButton:function(){return this.$1L_0},set_showCloseButton:function(a){this.$1L_0=a;return a},get_hideIcons:function(){return this.$1H_0},set_hideIcons:function(a){this.$1H_0=a;return a},get_text:function(){return"EMPTY_STRING_A2BF7E95-82D5-4055-8451-B0B86C4E973E"===this.$a_0?"":!this.$a_0?this.$L_0:this.$a_0},set_text:function(a){if(!a)a="";this.$L_0=a;return a},get_controlStyle:function(){return this.$r_0},set_controlStyle:function(a){this.$r_0=a;return a},get_controlHeaderStyle:function(){return this.$p_0},set_controlHeaderStyle:function(a){this.$p_0=a;return a},get_controlImageStyle:function(){return this.$q_0},set_controlImageStyle:function(a){this.$q_0=a;return a},get_menuStyle:function(){return this.$1J_0},set_menuStyle:function(a){this.$1J_0=a;return a},get_controlElementType:function(){return this.$1F_0},set_controlElementType:function(a){if(SP.ScriptHelpers.isNullOrEmptyString(a))this.$1F_0="div";else this.$1F_0=a;return a},get_id:function(){return this.$1_0},get_openedCallback:function(){return this.$x_0},set_openedCallback:function(a){this.$x_0=a;return a},$r_0:null,$q_0:null,$p_0:null,$1J_0:null,$1F_0:null,$1_0:"",$L_0:"",$a_0:"",$v_0:"",$u_0:"",$J_0:"",$X_0:0,$5_0:null,$1L_0:false,$1K_0:false,$1H_0:false,$x_0:null};SP.UI.MySiteCommon.MySiteMenuItem=function(a){this.$1D_0=a};SP.UI.MySiteCommon.MySiteMenuItem.prototype={$2H_0:function(){if(this.$I_0){this.$o_0&&this.$Z_0.setSelection(this.$W_0);this.onInvoke(this.$W_0,null);this.$1D_0(this.$W_0)}},$2B_0:function(b,c,d){var a=this.createMenuOption(b,c,d);this.onMenuElementCreated(a)},createMenuOption:function(c,b,a){return c.addMenuItem(this.get_text(),SP.UI.MySiteCommon.MySiteMenu.$1x+"('"+b+"', "+this.$W_0+");",this.get_imageSource(),this.get_imageAltText(),100,this.get_description(),a)},onMenuElementCreated:function(a){a.setAttribute("enabled",this.$I_0);a.setAttribute("isindented",this.$1I_0)},onInvoke:function(){},get_$1V_0:function(){return this.$1_0},set_$1V_0:function(a){if(!a)a="";this.$1_0=a;return a},get_parent:function(){return this.$Z_0},set_parent:function(a){this.$Z_0=a;return a},get_text:function(){return this.$L_0},set_text:function(a){if(!a)a="";this.$L_0=a;return a},get_description:function(){return this.$1W_0},set_description:function(a){if(!a)a="";this.$1W_0=a;return a},get_imageSource:function(){return this.$1Y_0},set_imageSource:function(a){if(!a)a="";this.$1Y_0=a;return a},get_imageAltText:function(){return this.$1X_0},set_imageAltText:function(a){if(!a)a="";this.$1X_0=a;return a},get_enabled:function(){return this.$I_0},set_enabled:function(a){this.$I_0=a;return a},$2U_0:function(a){this.$1D_0=a},get_changeHeader:function(){return this.$o_0},set_changeHeader:function(a){this.$o_0=a;return a},get_isIndented:function(){return this.$1I_0},set_isIndented:function(a){this.$1I_0=a;return a},$1_0:"",$W_0:0,$Z_0:null,$L_0:"",$1W_0:"",$1Y_0:"",$1X_0:"",$I_0:true,$1D_0:null,$o_0:true,$1I_0:false};SP.UI.MySiteCommon.MySitePrivacyIcon=function(c,b,a){this.$1_0=c;this.$1Z_0=b;this.$T_0=a};SP.UI.MySiteCommon.MySitePrivacyIcon.prototype={render:function(){if(!SP.ScriptHelpers.isNullOrEmptyString(this.$T_0)){this.$T_0=SP.Utilities.UrlBuilder.replaceOrAddQueryString(this.$T_0,"Section","Preferences");return'<a href="'+this.$T_0+'" id="'+SP.UI.MySiteCommon.MySitePrivacyIcon.$1j+this.$1_0+'" title="'+this.$1Z_0+'"><span style="height:17px;width:17px;position:relative;display:inline-block;overflow:hidden;"><img src="/_layouts/15/images/spcommon.png?rev=47" style="left:-160px !important;top:-177px !important;position:absolute;"/></span></a>'}else return'<span style="height:17px;width:17px;position:relative;display:inline-block;overflow:hidden;"><img src="/_layouts/15/images/spcommon.png?rev=47" style="left:-160px !important;top:-177px !important;position:absolute;"/></span>'},$1_0:"",$1Z_0:"",$T_0:""};SP.UI.MySiteCommon.OneDriveDownloadButton=function(){};SP.UI.MySiteCommon.OneDriveDownloadButton.renderOneDriveDownloadButton=function(h,i){var j=window.navigator,k=$get(h),c,d,b,e,f,g;SP.UI.MySiteCommon.OneDriveDownloadButton.$26(j.userAgent,_spPageContextInfo.currentUICultureName,e={val:c},f={val:d},g={val:b}),c=e.val,d=f.val,b=g.val;var a=document.createElement("input");a.type="button";a.id=i;a.value=d;a.className="ms-oneDrive-downloadButton";k.appendChild(a);var l=function(){SP.UI.MySiteCommon.OneDriveDownloadButton.$1z(c,b);SP.UI.MySiteCommon.OneDriveDownloadButton.$2J(b)};$addHandler(a,"click",l)};SP.UI.MySiteCommon.OneDriveDownloadButton.$2G=function(g){var a,e,f,b,c,d;SP.UI.MySiteCommon.OneDriveDownloadButton.$26(g,_spPageContextInfo.currentUICultureName,b={val:a},c={val:e},d={val:f}),a=b.val,e=c.val,f=d.val;return a};SP.UI.MySiteCommon.OneDriveDownloadButton.$26=function(e,f,c,b,a){e=e.toLowerCase();c.val="https://go.microsoft.com/fwlink/?LinkID=398035";b.val=STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Welcome_NoDevice_Action_Label);a.val="Unknown";if(SP.UI.MySiteCommon.OneDriveDownloadButton.isWindows7Up()&&!browseris.armProcessor){c.val=String.format("https://c2rsetup.officeapps.live.com/c2r/download.aspx?ProductreleaseID=GrooveRetail&language={0}&platform=x86&token=3V9N8-W93CC-FQPB8-Y9WVF-TVGJ3&TaxRegion=PR&Source=OLSFCRequest&version=O15GA",f);b.val=STSHtmlEncode(String.format(SpsClient.ScriptResources.odbFirstRunv3_Welcome_DownloadBtn_Label,SpsClient.ScriptResources.odbFirstRunv3_Welcome_DownloadBtn_PC));a.val="PC"}else if(SP.UI.MySiteCommon.OneDriveDownloadButton.isWindowsRT()){c.val="https://go.microsoft.com/fwlink/?LinkId=403079";b.val=STSHtmlEncode(String.format(SpsClient.ScriptResources.odbFirstRunv3_Welcome_DownloadBtn_Label,SpsClient.ScriptResources.odbFirstRunv3_Welcome_DownloadBtn_WindowsTablet));a.val="WindowsRT"}else if(SP.UI.MySiteCommon.OneDriveDownloadButton.isAndroid()){c.val="https://go.microsoft.com/fwlink/?LinkId=397417";b.val=STSHtmlEncode(String.format(SpsClient.ScriptResources.odbFirstRunv3_Welcome_DownloadBtn_Label,SpsClient.ScriptResources.odbFirstRunv3_Welcome_DownloadBtn_Android));a.val="Android"}else if(SP.UI.MySiteCommon.OneDriveDownloadButton.isIos()){c.val="https://go.microsoft.com/fwlink/?LinkID=394714";b.val=STSHtmlEncode(String.format(SpsClient.ScriptResources.odbFirstRunv3_Welcome_DownloadBtn_Label,SpsClient.ScriptResources.odbFirstRunv3_Welcome_DownloadBtn_iOS));a.val="iOS"}else if(SP.UI.MySiteCommon.OneDriveDownloadButton.isWindowsPhone()){a.val="WindowsPhone";b.val=STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Welcome_WinPhone_Action_Label)}else if(SP.UI.MySiteCommon.OneDriveDownloadButton.isMac())a.val="Mac";else if(SP.UI.MySiteCommon.OneDriveDownloadButton.isWindowsVistaDown())a.val="OldPC";var d={};d.OS=a.val;d.UserAgent=e;SP.QoS.WriteUserEngagement("ODB_DownloadButton_DetectOS",d)};SP.UI.MySiteCommon.OneDriveDownloadButton.$2J=function(b){var a={};a.OS=b;SP.QoS.WriteUserEngagement("ODB_DownloadButton_Clicked",a)};SP.UI.MySiteCommon.OneDriveDownloadButton.$1z=function(a,b){var c=new Date;LogRUMExtendedAction(String.format("OneDriveFirstRun_DownloadFor{0}",b),0,null,c.getTime(),0);if(b==="PC")window.location.href=a;else window.open(a,"_blank")};SP.UI.MySiteCommon.OneDriveDownloadButton.isMac=function(){return browseris.mac&&!SP.UI.MySiteCommon.OneDriveDownloadButton.isIos()};SP.UI.MySiteCommon.OneDriveDownloadButton.isWindowsPhone=function(){return browseris.windowsphone};SP.UI.MySiteCommon.OneDriveDownloadButton.isWindows7Up=function(){var a=window.navigator.userAgent;return SP.UI.MySiteCommon.OneDriveDownloadButton._isWindows7Up(a)};SP.UI.MySiteCommon.OneDriveDownloadButton._isWindows7Up=function(a){a=a.toLowerCase();var b="windows nt 6.",c=a.indexOf(b);if(c>=0){var d=parseInt(a.substr(c+b.length,1));return d>0}return false};SP.UI.MySiteCommon.OneDriveDownloadButton.isWindowsVistaDown=function(){var a=window.navigator.userAgent;return SP.UI.MySiteCommon.OneDriveDownloadButton._isWindowsVistaDown(a)};SP.UI.MySiteCommon.OneDriveDownloadButton._isWindowsVistaDown=function(a){a=a.toLowerCase();var b="windows nt 5.",c="windows nt 6.";return(a.indexOf(b)>=0||a.indexOf(c)>=0)&&!SP.UI.MySiteCommon.OneDriveDownloadButton._isWindows7Up(a)};SP.UI.MySiteCommon.OneDriveDownloadButton.isWindowsRT=function(){return SP.UI.MySiteCommon.OneDriveDownloadButton.isWindows7Up()&&browseris.armProcessor};SP.UI.MySiteCommon.OneDriveDownloadButton.isIos=function(){var a=window.navigator.userAgent;return SP.UI.MySiteCommon.OneDriveDownloadButton._isIos(a)};SP.UI.MySiteCommon.OneDriveDownloadButton._isIos=function(a){return SP.UI.MySiteCommon.OneDriveDownloadButton.isIpad(a)||SP.UI.MySiteCommon.OneDriveDownloadButton.isIpod(a)||SP.UI.MySiteCommon.OneDriveDownloadButton.isIphone(a)};SP.UI.MySiteCommon.OneDriveDownloadButton.isAndroid=function(){var a=window.navigator.userAgent;return SP.UI.MySiteCommon.OneDriveDownloadButton._isAndroid(a)};SP.UI.MySiteCommon.OneDriveDownloadButton._isAndroid=function(a){a=a.toLowerCase();return a.indexOf("android")>=0};SP.UI.MySiteCommon.OneDriveDownloadButton.isIpad=function(a){a=a.toLowerCase();return a.indexOf("(ipad;")>=0};SP.UI.MySiteCommon.OneDriveDownloadButton.isIpod=function(a){a=a.toLowerCase();return a.indexOf("(ipod;")>=0};SP.UI.MySiteCommon.OneDriveDownloadButton.isIphone=function(a){a=a.toLowerCase();return a.indexOf("(iphone;")>=0};SP.UI.MySiteCommon.OneDriveFirstRunManager=function(){this.$$d_$2K_1=Function.createDelegate(this,this.$2K_1);SP.UI.MySiteCommon.OneDriveFirstRunManager.initializeBase(this)};SP.UI.MySiteCommon.OneDriveFirstRunManager.get_current=function(){if(!SP.UI.MySiteCommon.OneDriveFirstRunManager.$16)SP.UI.MySiteCommon.OneDriveFirstRunManager.$16=$create(SP.UI.MySiteCommon.OneDriveFirstRunManager);return SP.UI.MySiteCommon.OneDriveFirstRunManager.$16};SP.UI.MySiteCommon.OneDriveFirstRunManager.$1q=function(){var b=SP.ScriptHelpers.getUrlQueryPairs(document.URL),a=b.FirstRunStage;if(!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(a))a=a.toLowerCase();return a};SP.UI.MySiteCommon.OneDriveFirstRunManager.$2c=function(a){a.style.display="inline"};SP.UI.MySiteCommon.OneDriveFirstRunManager.$2b=function(a){a.style.display="block"};SP.UI.MySiteCommon.OneDriveFirstRunManager.$1v=function(a){a.style.display="none"};SP.UI.MySiteCommon.OneDriveFirstRunManager.$z=function(){STSNavigate(SP.UI.MySiteCommon.OneDriveFirstRunManager.get_current().$0_1.PersonalSiteURL)};SP.UI.MySiteCommon.OneDriveFirstRunManager.prototype={$0_1:null,$1e_1:5e3,$1O_1:0,$1d_1:0,$1y_1:0,$e_1:false,$15_1:false,$7_1:null,$17_1:null,$1i_1:null,$1S_1:null,$b_1:null,$H_1:null,$14_1:null,$3_1:null,get_context:function(){return this.$0_1},set_context:function(a){this.$0_1=a;return a},init:function(a){this.$0_1=a;this.$2V_1();this.$1S_1.className+=" ms-oneDriveFirstRun-contentContainer";var b=SP.UI.MySiteCommon.OneDriveFirstRunManager.$1q();this.$2D_1();if(b===SP.UI.MySiteCommon.FirstRunStage.toString(1))this.$2W_1();else if(b===SP.UI.MySiteCommon.FirstRunStage.toString(2))this.$2X_1();else if(a.ShouldRedirectToOneDriveNext)this.$10_1(2);else this.$2Y_1();SP.UI.MySiteCommon.OneDriveFirstRunManager.$2b(this.$b_1)},$2D_1:function(){if(!this.$0_1.PersonalSiteCreated){this.$1e_1=this.$0_1.SyncProvisioningWaitTime*1e3;this.$2C_1()}},$2R_1:function(){if(this.$0_1.PersonalSiteCreated){SP.QoS.WriteUserEngagement("ODBFRE_SiteDoneForWaitingPage");this.$1h_1()}else{SP.QoS.WriteUserEngagement("ODBFRE_SiteNotDoneForWaitingPage");this.$7_1.innerHTML=STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Waiting_ProgressMessage);this.$7_1.className=this.$7_1.className+" ms-oneDriveFirstRun-waitText";SP.UI.MySiteCommon.OneDriveFirstRunManager.$2c(this.$7_1)}},$2Y_1:function(){this.$b_1.innerHTML=STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Welcome_Header);this.$14_1.innerHTML=STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Welcome_Subheader);this.$2S_1();this.$3_1.className=this.$3_1.className+" ms-oneDriveFirstRun-welcomeBody-container";!Flighting.VariantConfiguration.IsExpFeatureClientEnabled(186)&&SP.QoS.WriteUserEngagement("ODBFRE_NotInFlightC");if(Flighting.VariantConfiguration.IsExpFeatureClientEnabled(186)||SP.UI.MySiteCommon.OneDriveDownloadButton.isMac()||SP.UI.MySiteCommon.OneDriveDownloadButton.isWindowsVistaDown()){Flighting.VariantConfiguration.IsExpFeatureClientEnabled(186)&&SP.QoS.WriteUserEngagement("ODBFRE_InFlightC");this.$1Q_1(this.$3_1,0)}else if(SP.UI.MySiteCommon.OneDriveDownloadButton.isWindows7Up()||SP.UI.MySiteCommon.OneDriveDownloadButton.isIos()||SP.UI.MySiteCommon.OneDriveDownloadButton.isAndroid()||SP.UI.MySiteCommon.OneDriveDownloadButton.isWindowsRT()){this.$1P_1(this.$3_1,SpsClient.ScriptResources.odbFirstRunv3_Welcome_BodyText);this.$24_1(this.$3_1);this.$23_1(this.$3_1);this.$25_1(this.$3_1)}else if(SP.UI.MySiteCommon.OneDriveDownloadButton.isWindowsPhone()){this.$1P_1(this.$3_1,SpsClient.ScriptResources.odbFirstRunv3_Welcome_WinPhone_BodyText);this.$1Q_1(this.$3_1,0)}else{this.$1P_1(this.$3_1,SpsClient.ScriptResources.odbFirstRunv3_Welcome_BodyText);this.$24_1(this.$3_1);this.$25_1(this.$3_1)}},$2W_1:function(){this.$b_1.innerHTML=STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Downloading_Header);this.$14_1.innerHTML=STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Downloading_Subheader);this.$2M_1();this.$2N_1();this.$23_1(this.$3_1);this.$1Q_1(this.$3_1,1)},$2X_1:function(){SP.QoS.WriteUserEngagement("ODBFRE_SeeWaitingPage");this.$b_1.innerHTML=STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Waiting_Header);this.$14_1.innerHTML=STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Waiting_Subheader);this.$2Q_1();this.$1P_1(this.$3_1,SpsClient.ScriptResources.odbFirstRunv3_Waiting_BodyText);this.$2R_1()},$2S_1:function(){var a=document.createElement("div");a.className="ms-oneDriveFirstRun-welcomeImage-backgroundBanner";this.$H_1.appendChild(a);this.$H_1.appendChild(SP.UI.MySiteCommon.CommonUIElements.makeImageAltSameAsTitle(GetThemedImageUrl("odbfirstrunwelcome.png"),"OneDriveFirstRunWelcomeImg","ms-oneDriveFirstRun-welcomeImage",STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Welcome_Image_Alt)))},$2N_1:function(){var a=document.createElement("div");a.className="ms-oneDriveFirstRun-restartLink ms-textLarge";a.id="OneDriveFirstRunRestartLink";a.innerHTML=String.format(STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Downloading_Restart_Link),'<a href="javascript:void();" title="'+STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Downloading_Restart_Alt)+'">',"</a>");this.$3_1.appendChild(a);if(a.children.length>0){var b=a.children[0];if(!SP.ScriptHelpers.isNullOrUndefined(b)){var d=this,c=function(){SP.QoS.WriteUserEngagement("ODBFRE_RestartDownloadClicked");SP.UI.MySiteCommon.OneDriveDownloadButton.$1z(SP.UI.MySiteCommon.OneDriveDownloadButton.$2G(window.navigator.userAgent),"PC")};$addHandler(b,"click",c)}}},$2M_1:function(){this.$M_1(GetThemedImageUrl("odbfirstrundownloadinga.png"),SpsClient.ScriptResources.odbFirstRunv3_Downloading_Image1_Alt,null,SpsClient.ScriptResources.odbFirstRunv3_Downloading_Image1_Label,false);this.$M_1(GetThemedImageUrl("odbfirstrundownloadingb.png"),SpsClient.ScriptResources.odbFirstRunv3_Downloading_Image2_Alt,null,SpsClient.ScriptResources.odbFirstRunv3_Downloading_Image2_Label,false);this.$M_1("\ue016",SpsClient.ScriptResources.odbFirstRunv3_Downloading_Image3_Alt,null,SpsClient.ScriptResources.odbFirstRunv3_Downloading_Image3_Label,true);this.$H_1.appendChild(SP.UI.MySiteCommon.CommonUIElements.renderClearDiv())},$M_1:function(f,g,h,i,j){var b=document.createElement("div");b.className="ms-oneDriveFirstRun-downloading-imageSection";var c=document.createElement("div"),a=document.createElement("div");a.className="ms-oneDriveFirstRun-circleBackground-inner";if(j){c.className="ms-oneDriveFirstRun-circleBackground-outer ms-oneDriveFirstRun-circleBackground-font";a.innerHTML=f;a.title=STSHtmlEncode(g)}else{c.className="ms-oneDriveFirstRun-circleBackground-outer";a.appendChild(SP.UI.MySiteCommon.CommonUIElements.makeImageAltSameAsTitle(f,null,"ms-oneDriveFirstRun-downloadingImage",STSHtmlEncode(g)))}if(!SP.ScriptHelpers.isNullOrEmptyString(h)){var d=document.createElement("div");d.className="ms-oneDriveFirstRun-circleBackground-decoration";d.innerHTML=h;a.appendChild(d)}c.appendChild(a);b.appendChild(c);if(!SP.ScriptHelpers.isNullOrEmptyString(i)){var e=document.createElement("div");e.className="ms-oneDriveFirstRun-downloading-imageLabel ms-textXLarge";e.innerHTML=STSHtmlEncode(i);b.appendChild(e)}this.$H_1.appendChild(b)},$2Q_1:function(){this.$M_1(GetThemedImageUrl("odbfirstrunwaitinga.png"),SpsClient.ScriptResources.odbFirstRunv3_Waiting_Image_Alt,null,null,false);if(!OffSwitch.IsActive("374F0DEB-9EC6-47BF-A9E7-92BB0DF63084"))this.$M_1(GetThemedImageUrl("odbfirstrunwaitingb.png"),SpsClient.ScriptResources.odbFirstRunv3_Waiting_Image_Alt,null,null,false);else this.$M_1("\ue016",SpsClient.ScriptResources.odbFirstRunv3_Waiting_Image_Alt,"\ue038",null,true);this.$M_1(GetThemedImageUrl("odbfirstrunwaitingc.png"),SpsClient.ScriptResources.odbFirstRunv3_Waiting_Image_Alt,null,null,false);this.$H_1.appendChild(SP.UI.MySiteCommon.CommonUIElements.renderClearDiv())},$23_1:function(d){var a=document.createElement("div");a.className="ms-textLarge";a.id="OneDriveFirstRunAlternateVersionLink";a.innerHTML=String.format(STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Welcome_DiffVersion_Link),'<a href="https://go.microsoft.com/fwlink/?LinkID=398035" target="_blank" title="'+STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Welcome_DiffVersion_Alt)+'">',"</a>");d.appendChild(a);if(a.children.length>0){var b=a.children[0];if(!SP.ScriptHelpers.isNullOrUndefined(b)){var e=this,c=function(){var a={};a.useragent=window.navigator.userAgent;SP.QoS.WriteUserEngagement("ODBFRE_AltVersionLinkClicked",a)};$addHandler(b,"click",c)}}},$1P_1:function(b,c){var a=document.createElement("div");a.innerHTML=STSHtmlEncode(c);a.className="ms-oneDriveFirstRun-body ms-webpart-titleText";a.id="OneDriveFirstRunBodyText";b.appendChild(a)},$1Q_1:function(h,e){var b=document.createElement("div");b.className="ms-oneDriveFirstRun-nextButtonContainer";var a=document.createElement("a");a.className="ms-oneDriveFirstRun-nextButton ms-heroCommandLink ms-textXLarge";a.id="OneDriveFirstRunNextButton";a.href="#";a.setAttribute("role","button");if(e===2){a.innerHTML=STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Waiting_Action_Label);a.title=STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Waiting_Action_Alt)}else{a.innerHTML=STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Welcome_WinPhone_Skip_Label);a.title=STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Welcome_Skip_Alt)}var c=document.createElement("span"),d=document.createElement("a");d.className="ms-oneDriveFirstRun-nextButtonCircle";c.appendChild(d);a.appendChild(c);b.appendChild(a);h.appendChild(b);var f=this,g=function(){SP.QoS.WriteUserEngagement("ODBFRE_NextButtonClicked");f.$1b_1(e)};$addHandler(a,"click",g)},$25_1:function(e){var a=document.createElement("div");a.className="ms-textLarge";a.id="OneDriveFirstRunSkipDiv";a.innerHTML=String.format(STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Welcome_Skip_Link),'<a href="javascript:void();" title="'+STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Welcome_Skip_Alt)+'">',"</a>");e.appendChild(a);if(a.children.length>0){var b=a.children[0];if(!SP.ScriptHelpers.isNullOrUndefined(b)){var c=this,d=function(){SP.QoS.WriteUserEngagement("ODBFRE_SkipButtonClicked");c.$1b_1(1)};$addHandler(b,"click",d)}}},$1b_1:function(b){var a={};a.FirstRunStage=SP.UI.MySiteCommon.FirstRunStage.toString(b);switch(b){case 0:if(!Flighting.VariantConfiguration.IsExpFeatureClientEnabled(186)&&SP.UI.MySiteCommon.OneDriveDownloadButton.isWindows7Up()&&!SP.UI.MySiteCommon.OneDriveDownloadButton.isWindowsRT()){SP.QoS.WriteUserEngagement("ODBFRE_GoToDownloading");this.$10_1(1)}else if(this.$0_1.PersonalSiteCreated){SP.QoS.WriteUserEngagement("ODBFRE_SkipWaitingPage",a);SP.UI.MySiteCommon.OneDriveFirstRunManager.$z()}else{SP.QoS.WriteUserEngagement("ODBFRE_NoPersonalSiteWhenGoToWaiting",a);this.$10_1(2)}break;case 1:if(this.$0_1.PersonalSiteCreated){SP.QoS.WriteUserEngagement("ODBFRE_SkipWaitingPage",a);SP.UI.MySiteCommon.OneDriveFirstRunManager.$z()}else{SP.QoS.WriteUserEngagement("ODBFRE_NoPersonalSiteWhenGoToWaiting",a);this.$10_1(2)}break;case 2:if(this.$0_1.PersonalSiteCreated){SP.QoS.WriteUserEngagement("ODBFRE_GoToOneDrive");SP.UI.MySiteCommon.OneDriveFirstRunManager.$z()}else{SP.QoS.WriteUserEngagement("ODBFRE_ImpossibleWaitingLoop");this.$10_1(2)}break;default:SP.QoS.WriteUserEngagement("ODBFRE_ImpossibleNavigation")}},$10_1:function(a){STSNavigate(_spPageContextInfo.siteAbsoluteUrl+_spPageContextInfo.serverRequestPath+"?FirstRunStage="+SP.UI.MySiteCommon.FirstRunStage.toString(a))},$24_1:function(f){var a="OneDriveDownloadButton";SP.UI.MySiteCommon.OneDriveDownloadButton.renderOneDriveDownloadButton(f.id,a);var c=$get(a),b=this,d=function(){SP.QoS.WriteUserEngagement("ODBFRE_DownloadSyncClicked");b.$1b_1(0)};$addHandler(c,"click",d);var e=new Date;LogRUMExtendedAction("OneDriveFirstRun_OneDriveDownloadButtonShowed",0,null,e.getTime(),0)},$1h_1:function(){var a=new Date;LogRUMExtendedAction("OneDriveFirstRun_ContinueToOneDriveButtonShowed",0,null,a.getTime(),0);var b=SP.UI.MySiteCommon.OneDriveFirstRunManager.$1q();b===SP.UI.MySiteCommon.FirstRunStage.toString(2)&&this.$1Q_1(this.$3_1,2)},$2C_1:function(){var a=this;EnsureScriptFunc("sp.js","SP.ClientContext",function(){EnsureScriptFunc("userprofile","SP.UserProfiles.ProfileLoader",function(){var b=SP.ClientContext.get_current();a.$0_1.WorkItemType=SP.Guid.get_empty();if(!SP.ScriptHelpers.isNullOrUndefined(a.$17_1))a.$0_1.WorkItemType=new SP.Guid(a.$17_1.getAttribute("value"));if(!SP.ScriptHelpers.isNullOrUndefined(typeof SP.UserProfiles.UserProfile.createPersonalSiteSyncFromWorkItem)){var d=SP.UserProfiles.UserProfile.createPersonalSiteSyncFromWorkItem(b,a.$0_1.WorkItemType);a.$1m_1(b,d)}else{var c=SP.UserProfiles.ProfileLoader.getProfileLoader(b).getUserProfile();b.load(c);b.executeQueryAsync(function(){var d=c.createPersonalSiteFromWorkItem(a.$0_1.WorkItemType);a.$1m_1(b,d)})}})})},$1m_1:function(e,c){var b=new Date;LogRUMExtendedAction("OneDriveFirstRun_MySiteSyncProvisioningStart",0,null,b.getTime(),0);SP.QoS.WriteStart("OneDriveFirstRun_MySiteSyncProvisioningStart");var a=this,d=this;e.executeQueryAsync(function(){b=new Date;LogRUMExtendedAction("OneDriveFirstRun_MySiteSyncProvisioningSucceeded",c.get_value(),null,b.getTime(),0);SP.QoS.WriteSuccess("OneDriveFirstRun_MySiteSyncProvisioningSucceeded");if(c.get_value()===0){a.$0_1.PersonalSiteCreated=true;a.$0_1.PersonalSiteURL=document.URL;a.$1h_1();SP.UI.MySiteCommon.OneDriveFirstRunManager.$1v(a.$7_1);a.$e_1&&SP.UI.MySiteCommon.OneDriveFirstRunManager.$z()}else if(c.get_value()===2)a.$2Z_1();else{if(c.get_value()===1)a.$2i_1();else c.get_value()===4&&a.$2h_1();a.$27_1()}},function(){b=new Date;LogRUMExtendedAction("OneDriveFirstRun_MySiteSyncProvisioningFailure",0,null,b.getTime(),0);SP.QoS.WriteFailure("OneDriveFirstRun_MySiteSyncProvisioningFailure");d.$27_1()})},$2Z_1:function(){this.$7_1.innerHTML=STSHtmlEncode(this.$0_1.ErrorText)},$2V_1:function(){this.$17_1=$get("MySitePersonalSiteUpgrade_EnqueuedWorkItemType");this.$7_1=$get("MyBraryFirstRunWaitTextContainer");this.$7_1.className="ms-myBraryFirstRun-waitText-syncProv";this.$1i_1=$get("MyBraryFirstRunWaitWaitContainer");this.$1i_1.className="ms-myBraryFirstRun-waitContainer";this.$1S_1=$get("OneDriveFirstRunContentContainer");this.$b_1=$get("MyBraryFirstRunPageTitle");this.$H_1=$get("OneDriveFirstRunImage");this.$14_1=$get("OneDriveFirstRunSubheader");this.$3_1=$get("OneDriveFirstRunBody")},$2i_1:function(){if(!this.$15_1){this.$e_1=true;this.$15_1=true;this.$7_1.innerHTML=STSHtmlEncode(SpsClient.ScriptResources.odbFirstRunv3_Waiting_SlowProgressMessage)}},$2h_1:function(){if(!this.$15_1){this.$e_1=true;this.$15_1=true;this.$7_1.innerHTML=STSHtmlEncode(this.$0_1.NoDatabaseAvailableErrorText)}},$27_1:function(){var a=this;EnsureScriptFunc("sp.js","SP.ClientContext",function(){EnsureScriptFunc("userprofile","SP.UserProfiles.ProfileLoader",function(){a.$1O_1=window.setInterval(a.$$d_$2K_1,a.$1e_1);a.$1d_1=window.setInterval(a.$$d_$2K_1,6e4)})})},$2K_1:function(){var b=SP.ClientContext.get_current(),c=SP.UserProfiles.ProfileLoader.getProfileLoader(b).getUserProfile();b.load(c,"PersonalSiteInstantiationState","UrlToCreatePersonalSite");var a=this;b.executeQueryAsync(function(){++a.$1y_1>6&&window.clearInterval(a.$1O_1);if(c.get_personalSiteInstantiationState()===2){a.$0_1.PersonalSiteCreated=true;a.$0_1.PersonalSiteURL=SP.ScriptHelpers.urlCombine(c.get_urlToCreatePersonalSite(),"Documents/Forms/All.aspx");window.clearInterval(a.$1O_1);window.clearInterval(a.$1d_1);a.$1h_1();SP.UI.MySiteCommon.OneDriveFirstRunManager.$1v(a.$7_1);a.$e_1&&SP.UI.MySiteCommon.OneDriveFirstRunManager.$z()}})}};SP.UI.MySiteCommon.OneDriveFirstRunContext=function(){};SP.UI.MySiteCommon.OneDriveFirstRunContext.prototype={PersonalSiteCreated:false,PersonalSiteURL:null,IsFirstVisit:false,SyncProvisioningWaitTime:0,WorkItemType:null,ChangePhotoURL:null,EditProfileURL:null,LongWaitText:null,ErrorText:null,NoDatabaseAvailableErrorText:null,ShouldRedirectToOneDriveNext:false};SP.UI.MySiteCommon.ProfileHeaderRenderer=function(){};SP.UI.MySiteCommon.ProfileHeaderRenderer.addTemplateRenderers=function(a){a.Templates.View=SP.UI.MySiteCommon.ProfileHeaderRenderer.$2O;a.Templates.Body=SP.UI.MySiteCommon.ProfileHeaderRenderer.$2P};SP.UI.MySiteCommon.ProfileHeaderRenderer.$2L=function(e,a){var c="mysite-profileHeader-picture",f="mysite-profileHeader-profileInfo",b=e.ListData.UserData;a.addAttribute("id",c);a.addAttribute("class","ms-profileHeader-personPicture ms-floatLeft");a.renderBeginTag("div");a.renderEndTag();a.addAttribute("id",f);a.addAttribute("class","ms-profileHeader-profileInfo ms-displayBlock");a.renderBeginTag("div");a.addAttribute("tabindex","0");a.renderBeginTag("h2");a.write(STSHtmlEncode(SP.UI.MySiteCommon.ProfileHeaderRenderer.$1t(b,"title")));a.renderEndTag();var d=SP.UI.MySiteCommon.ProfileHeaderRenderer.$1t(b,"jobTitle"),g=String.format(SpsClient.ScriptResources.contactCard_JobTitle_Title,d);a.addAttribute("tabindex","0");a.addAttribute("title",STSHtmlEncode(g));a.addAttribute("class","ms-contactCard-profileProperties ms-contactCard-profileJobTitle");a.renderBeginTag("div");a.write(STSHtmlEncode(d));a.renderEndTag();a.renderEndTag();AddPostRenderCallback(e,function(a){EnsureScriptFunc("clienttemplates.js","spMgr.RenderFieldByName",function(){var f=new ContextInfo;f.Templates={};f.Templates.Fields={};var e={},g=[],d={};d.Name="User";d.FieldType="User";d.HasUserLink="1";d.Type="User";d.PictureOnly="1";d.PictureSize="Size_72px";Array.add(g,d);e.Field=g;e.EffectivePresenceEnabled="1";e.UserDispUrl=a.ListData.UserDispUrl;e.UserDispParam=a.ListData.UserDispParam;var h=$get(c);h.innerHTML=spMgr.RenderFieldByName(f,"User",b,e);ProcessImn()})})};SP.UI.MySiteCommon.ProfileHeaderRenderer.$2O=function(b){var a=new SP.HtmlBuilder;a.write(b.RenderBody(b));return a.toString()};SP.UI.MySiteCommon.ProfileHeaderRenderer.$2P=function(b){var a=new SP.HtmlBuilder;a.addAttribute("id","mysite-profileHeader-content");a.addAttribute("class","ms-mysite-profileHeader-content");a.renderBeginTag("div");SP.UI.MySiteCommon.ProfileHeaderRenderer.$2L(b,a);a.renderEndTag();return a.toString()};SP.UI.MySiteCommon.ProfileHeaderRenderer.$1t=function(c,d){var a="";if(!SP.ScriptHelpers.isNullOrUndefined(c)){var b=c.User;if(!SP.ScriptHelpers.isNullOrUndefined(b))a=b[0][d]}return a};SP.UI.MySiteCommon.SeparatorMenuItem=function(){SP.UI.MySiteCommon.SeparatorMenuItem.initializeBase(this,[null])};SP.UI.MySiteCommon.SeparatorMenuItem.prototype={createMenuOption:function(a){a.addSeparator();return null},onMenuElementCreated:function(){}};SP.UI.MySiteCommon.ErrorCodes=function(){};SP.UI.MySiteCommon.DataCache=function(){};SP.UI.MySiteCommon.DataCache.getObjectFromJsonData=function(a,c){if(null===a||null===c)return null;var b=$get(a);return null===b?null:c.parseObjectFromJsonString(SP.UI.UIUtility.getInnerText(b))};SP.UI.MySiteCommon.DataCache.prototype={$1C_0:-1,$w_0:false,$l_0:10,$m_0:null,$S_0:null,loadCacheFromJsonData:function(b){this.clearCache();if(null===b||b.length<1)return true;var e=new SP.ClientRuntimeContext(_spPageContextInfo.webServerRelativeUrl);this.$S_0={};for(var d=0,f=b.length,c=0;c<f;c++){var a=b[c];if(null===a||a.length<1||a.trim().length<1){this.clearCache();return false}this.$S_0[a]=SP.UI.MySiteCommon.DataCache.getObjectFromJsonData(a,e);if(null!==this.$S_0[a])d++}if(d<1){this.clearCache();return false}this.$m_0=new Date;this.$1C_0=0;return false},getDataObject:function(a){return null===a||a.length<1||a.trim().length<1?null:this.isCacheValid()?this.$S_0[a]:null},isCacheValid:function(){if(0!==this.$1C_0)return false;if(this.$2I_0()){this.clearCache();return false}return true},clearCache:function(){this.$1C_0=-1;this.$l_0=10;this.$w_0=false;this.$m_0=null;this.$S_0=null},get_cacheDurationInSeconds:function(){return this.$l_0},set_cacheDurationInSeconds:function(a){this.$l_0=a;return a},get_isNoExpiration:function(){return this.$w_0},set_isNoExpiration:function(a){this.$w_0=a;return a},get_cacheStartTime:function(){return this.$m_0},$2I_0:function(){if(this.$w_0)return false;var b=new Date,a=(b-this.$m_0)/1e3;return a>this.$l_0||a<0?true:false}};Type.registerNamespace("SP.UI.MicroFeed");SP.UI.MicroFeed.ExternallyDefinedStrings=function(){};Type.registerNamespace("SP.UI.People");SP.UI.People.FollowOrStopFollowingButtonControl=function(){};SP.UI.People.FollowOrStopFollowingButtonControl.createFollowLinkForPageUser=function(i){var b=$get(i),c=$get("ms-followButtonPersonProperties"),a=null;if(c){var j=new SP.ClientRuntimeContext(_spPageContextInfo.webServerRelativeUrl);a=j.parseObjectFromJsonString(SP.UI.UIUtility.getInnerText(c));c.parentNode.removeChild(c)}if(a&&b){SP.UI.People.PersonManager.addPerson(a);var d=document.createElement("div");d.id="ms-profile-followLinkDiv";var g=SP.UI.People.FollowLinkManager.getLink(a.get_accountName()),k=g.htmlForLink("Profile",true,true);d.appendChild(k);b.parentNode&&b.parentNode.replaceChild(d,b);if(!a.get_isFollowed()){var l=SP.ScriptHelpers.getDocumentQueryPairs(),e=l;for(var f in e){var h={key:f,value:e[f]};if(h.key.toLowerCase()==="followperson"&&h.value.toString()==="1"){SP.UI.People.FollowOrStopFollowingButtonControl.showFollowDialog(g,a.get_displayName());break}}}}};SP.UI.People.FollowOrStopFollowingButtonControl.showFollowDialog=function(c,b){var a=new SP.UI.MySiteCommon.MySiteDialog(String.format(SpsClient.ScriptResources.followLinkTextWithName,b),SpsClient.ScriptResources.l_DialogFollowPersonAction_Content);a.$F_0=SpsClient.ScriptResources.followLinkText;a.$K_0=function(){c.onClick("Profile")};a.show()};SP.UI.People.MySitePeopleUtilities=function(){};SP.UI.People.MySitePeopleUtilities.getPersonManagerPropertiesToInclude=function(){return SP.UI.People.MySitePeopleUtilities.$20};SP.UI.People.MySitePeopleUtilities.getPersonPropertiesToInclude=function(){return SP.UI.People.MySitePeopleUtilities.$21};SP.UI.People.PersonManager=function(){this.$c_0={}};SP.UI.People.PersonManager.get_people=function(){if(!SP.UI.People.PersonManager.$6)SP.UI.People.PersonManager.$6=new SP.UI.People.PersonManager;return SP.UI.People.PersonManager.$6};SP.UI.People.PersonManager.addPerson=function(a){var b=new SP.UI.People.ClientPerson;b.setFromPersonProperties(a);SP.UI.People.PersonManager.get_people().$c_0[a.get_accountName().toLowerCase()]=b;SP.UI.People.FollowLinkManager.newLink(a.get_accountName())};SP.UI.People.PersonManager.addSocialActor=function(a){var b=new SP.UI.People.ClientPerson;b.setFromSocialActor(a);SP.UI.People.PersonManager.get_people().$c_0[a.get_accountName().toLowerCase()]=b;SP.UI.People.FollowLinkManager.newLink(a.get_accountName())};SP.UI.People.PersonManager.getPerson=function(a){return SP.UI.People.PersonManager.get_people().$c_0[a.toLowerCase()]};SP.UI.People.PersonManager.getFollowState=function(b){var a=SP.UI.People.PersonManager.getPerson(b);return!!a&&a.$D_0};SP.UI.People.PersonManager.updateFollowState=function(b,c){var a=SP.UI.People.PersonManager.getPerson(b);if(a){a.$D_0=c;SP.UI.People.PersonManager.get_people().$c_0[b.toLowerCase()]=a}};SP.UI.People.PersonManager.prototype={$c_0:null};SP.UI.People.ClientPerson=function(){};SP.UI.People.ClientPerson.prototype={$N_0:null,$9_0:null,$A_0:null,$h_0:null,$11_0:null,$C_0:null,$D_0:false,setFromPersonProperties:function(a){this.$N_0=a.get_accountName();this.$9_0=a.get_displayName();this.$A_0=a.get_email();this.$h_0=a.get_latestPost();this.$11_0=a.get_pictureUrl();this.$C_0=a.get_userUrl();this.$D_0=a.get_isFollowed()},setFromSocialActor:function(a){this.$N_0=a.get_accountName();this.$9_0=a.get_name();this.$A_0=a.get_emailAddress();this.$h_0=a.get_statusText();this.$11_0=a.get_imageUri();this.$C_0=a.get_uri();this.$D_0=a.get_isFollowed()},get_accountName:function(){return this.$N_0},get_displayName:function(){return this.$9_0},get_email:function(){return this.$A_0},get_latestPost:function(){return this.$h_0},get_pictureUrl:function(){return this.$11_0},get_userUrl:function(){return this.$C_0},get_isFollowed:function(){return this.$D_0},set_isFollowed:function(a){this.$D_0=a;return a}};SP.UI.People.FollowLink=function(a){this.$4_0=a;this.$2_0=SP.UI.People.PersonManager.getPerson(this.$4_0).$D_0;this.$k_0=false;this.set_$G_0(1)};SP.UI.People.FollowLink.get_$2d=function(){return GetThemedImageUrl("socialcommon.png")};SP.UI.People.FollowLink.$29=function(a,b){SP.SOD.executeFunc("SP.Ribbon.js","GetWSA",function(){var d=GetWSA(),c=0;switch(b){case"FollowMultiplePeople":if(a)c=9711;break;case"Microfeed":if(a)c=9712;break;case"PersonDiv":c=a?9713:9719;break;case"CalloutOwnPage":c=a?9714:9720;break;case"CalloutOtherPage":c=a?9715:9721;break;case"Profile":c=a?9716:9722;break;case"Search":if(a)c=9717;break;case"Suggestion":if(a)c=9718}d&&c>0&&d.incrementDw(c,1)})};SP.UI.People.FollowLink.prototype={$4_0:null,$2_0:false,$k_0:false,$1G_0:0,$1n_0:0,get_$G_0:function(){return this.$1G_0},set_$G_0:function(a){if(this.$1G_0!==a){this.$1G_0=a;this.refreshLinks()}return a},get_followingState:function(){return this.$2_0},set_followingState:function(a){this.$2_0=a;return a},get_blockFromTRC:function(){return this.$k_0},$2F_0:function(d){var c=SP.UI.People.FollowLinkManager.get_$1a().amIFollowing(this.$4_0);if(SP.UI.People.FollowLinkManager.get_$1M().get_hasPendingRequest()){var a=this,b=this;SP.UI.People.FollowLinkManager.get_$1M().executeQueryAsync(function(){a.$13_0(c.get_value(),d)},function(){b.set_$G_0(1)})}},generateTRC:function(){var a=this;SP.SOD.executeFunc("followingcommon.js","addPeopleFollowNotification",function(){if(!a.$k_0){var b=SP.UI.People.PersonManager.getPerson(a.$4_0);addPeopleFollowNotification(b.$9_0,b.$h_0||"",b.$11_0||SP.UI.MySiteCommon.CommonUIElements.get_profileImagePlaceholder32(),b.$A_0,function(){window.location.href=b.$C_0});a.$k_0=true}})},$13_0:function(a,b){a&&!this.$2_0&&this.generateTRC();this.$2_0=a;this.set_$G_0(1);SP.UI.People.PersonManager.updateFollowState(this.$4_0,this.$2_0);SP.UI.People.FollowLinkManager.get_followCallback()(this.$4_0,this.$2_0,b,true)},isClickable:function(){return this.get_$G_0()===1},updateFromExternalSource:function(a,b){SP.UI.People.FollowLink.$29(a,b);this.$13_0(a,b);this.refreshLinks()},onClick:function(b){if(this.isClickable()){SP.UI.People.FollowLink.$29(!this.$2_0,b);var c="";if(!this.$2_0)c="SPImmersiveProfileFollowLinkClick";else c="SPImmersiveProfileStopFollowLinkClick";var d=new Date;LogRUMExtendedAction(c,this.$1n_0++,null,d.getTime(),0);var a=this;SP.SOD.executeFunc("SP.js","SP.ClientContext",function(){if(a.$2_0)SP.UI.People.FollowLinkManager.get_$1a().stopFollowing(a.$4_0);else SP.UI.People.FollowLinkManager.get_$1a().follow(a.$4_0);if(SP.UI.People.FollowLinkManager.get_$1M().get_hasPendingRequest()){SP.UI.People.FollowLinkManager.get_$1M().executeQueryAsync(function(){a.$13_0(!a.$2_0,b)},function(j,e){var c=null,d=null,h=SpsClient.ScriptResources.closeButtonText,g=null,i=null;switch(e.get_errorTypeName()){case"Microsoft.Office.Server.UserProfiles.PrivacyItemNotFoundException":a.$13_0(false,b);break;case"Microsoft.Office.Server.UserProfiles.PrivacyItemExistsException":a.$13_0(true,b);break;case"Microsoft.Office.Server.UserProfiles.PrivacyItemLimitReachedException":c=SpsClient.ScriptResources.followingPeopleLimitReachedErrorDialogTitle;d=e.get_message();break;case"Microsoft.Office.Server.UserProfiles.PrivacyItemDataException":c=SpsClient.ScriptResources.userActionFailedErrorDialogTitle;d=e.get_message();break;case"System.UnauthorizedAccessException":c=SpsClient.ScriptResources.accessDeniedErrorDialogTitle;d=SpsClient.ScriptResources.accessDeniedErrorMessage;break;default:a.$2F_0(b);if(-2130575251===e.get_errorCode()||-2130575252===e.get_errorCode()){h=SpsClient.ScriptResources.refreshButtonText;i=function(){SP.UI.ModalDialog.RefreshPage(1)};g=SpsClient.ScriptResources.closeButtonText;c=SpsClient.ScriptResources.needToRefreshErrorDialogTitle;d=SpsClient.ScriptResources.needToRefreshErrorMessage}else{c=SpsClient.ScriptResources.unknownErrorTitle;d=e.get_message()}}a.set_$G_0(1);if(c&&d){var f=new SP.UI.MySiteCommon.MySiteDialog(c,d);f.$F_0=h;f.$K_0=i;if(!SP.ScriptHelpers.isNullOrEmptyString(g))f.$Q_0=g;else f.$E_0=true;f.show();SP.UI.People.FollowLinkManager.get_followCallback()(a.$4_0,a.$2_0,b,false)}});a.set_$G_0(2)}})}},$1U_0:function(a){return SP.UI.MySiteCommon.CommonUIElements.getValidId(a+"FollowLinkFor{0}",this.$4_0)},htmlForLink:function(a,b,c){return this.htmlForCustomLink(a,a,b,c,false)},htmlForCustomLink:function(b,c,d,f,e){var g=this,a=SP.UI.MySiteCommon.CommonUIElements.makeLinkWithClickHandler(this.$1U_0(b),"ms-commandLink",null,null,null,function(){g.onClick(c)});a.setAttribute("name",this.$1U_0(""));a.setAttribute("source",c);a.setAttribute("useImage",d);a.setAttribute("useText",f);a.setAttribute("useName",e);a.setAttribute("role","button");this.$22_0(a,b);return a.parentNode&&b==="Profile"?a.parentNode:a},$22_0:function(a,d){SP.UI.MySiteCommon.SPSocialSwitch.reset();if(!SP.UI.MySiteCommon.SPSocialSwitch.isSPSocialEnabled())return;if(a){var c=this.isClickable()===this.$2_0;a.innerHTML="";this.$2A_0(a,d);a.disabled=!this.isClickable();if(a.getAttribute("useText")==="true"){var e=document.createElement("span");e.id=SP.UI.MySiteCommon.CommonUIElements.getValidId(d+"FollowLinkTextFor{0}",this.$4_0);var b="",f=SP.UI.People.PersonManager.getPerson(this.$4_0);if(a.getAttribute("useName")==="true"&&f)b=String.format(c?SpsClient.ScriptResources.stopFollowingLinkTextWithName:SpsClient.ScriptResources.followLinkTextWithName,f.$9_0);else if(d==="Profile")b=this.$2a_0(c,a);else b=c?SpsClient.ScriptResources.stopFollowingLinkText:SpsClient.ScriptResources.followLinkText;if(!SP.ScriptHelpers.isNullOrEmptyString(b)){SP.UI.MySiteCommon.CommonUIElements.setElementText(e,b);a.appendChild(e)}}if(d==="Profile")a.className=c?"ms-profile-stopFollowingLink ms-commandLink":"ms-profile-followLink ms-heroCommandLink ms-textXLarge"}},$2a_0:function(k,a){var c="",d=SP.UI.MySiteCommon.CommonUIElements.getValidId("ProfilePageFollowThisPersonLinkTextFor{0}",this.$4_0);if(a.parentNode){var e=SP.UI.MySiteCommon.CommonUIElements.findElementByID(a.parentNode,d);e&&a.parentNode.removeChild(e)}else{var j=document.createElement("div");j.appendChild(a)}if(k){c=SpsClient.ScriptResources.stopFollowingThisPersonText;a.title=STSHtmlEncode(SpsClient.ScriptResources.stopFollowingThisPersonText)}else{var b=document.createElement("span");b.id=d;b.className="ms-profile-followLink ms-textXLarge";var f=SP.UI.MySiteCommon.CommonUIElements.getValidId("ProfilePageFollowThisPersonLinkAnchorFor{0}",this.$4_0),g=String.format(STSHtmlEncode(SpsClient.ScriptResources.followThisPersonText),'<a id="'+f+'">',"</a>");b.innerHTML=g;a.title=STSHtmlEncode(String.format(SpsClient.ScriptResources.followThisPersonText,"",""));var h=SP.UI.MySiteCommon.CommonUIElements.findElementByID(b,f);h.className="ms-heroCommandLink";var i=this;SP.UI.MySiteCommon.CommonUIElements.addClickHandlerToAnchorElement(h,function(){i.onClick("Profile")});a.parentNode&&!SP.ScriptHelpers.isNullOrEmptyString(g)&&a.parentNode.appendChild(b)}return c},$2A_0:function(d,e){if(!d)return;var a=null,f=null,b="ms-people-followLinkImage",c=d;if(this.get_$G_0()===2)if(e.startsWith("Microfeed"))SP.UI.MySiteCommon.CommonUIElements.display($get("ms-progressSpan"));else{a=SP.UI.MySiteCommon.CommonUIElements.get_loadingAnimation();f="";if(e==="Profile"&&this.$2_0)b="ms-profile-followHeroImageParent"}else if(d.getAttribute("useImage")==="true"){c=document.createElement("span");var g="";a=SP.UI.People.FollowLink.get_$2d();if(e==="Profile"){if(this.$2_0)return;b="ms-profile-followHeroImage";g="ms-profile-followHeroImageParent"}else{b=this.$2_0?"ms-people-followLinkImageFollowing":"ms-people-followLinkImageNotFollowing";g="ms-people-followLinkImage ms-people-followLinkImageParent"}c.className=g;d.appendChild(c);f=this.$2_0?SpsClient.ScriptResources.stopFollowingLinkText:SpsClient.ScriptResources.followLinkText}a&&c.appendChild(SP.UI.MySiteCommon.CommonUIElements.makeImageAltSameAsTitle(a,SP.UI.MySiteCommon.CommonUIElements.getValidId(e+"FollowLinkImageFor{0}",this.$4_0),b,f))},refreshLinks:function(){for(var c=this.$1U_0(""),d=document.getElementsByName(c),a=0;a<d.length;a++){var b=d[a],e=b.id.substring(0,b.id.length-c.length);this.$22_0(b,e)}}};SP.UI.People.FollowLinkManager=function(){this.$i_0={};var a=this;this.$1A_0=function(){}};SP.UI.People.FollowLinkManager.get_links=function(){if(!SP.UI.People.FollowLinkManager.$6)SP.UI.People.FollowLinkManager.$6=new SP.UI.People.FollowLinkManager;return SP.UI.People.FollowLinkManager.$6};SP.UI.People.FollowLinkManager.get_$1a=function(){!SP.UI.People.FollowLinkManager.get_links().$1N_0&&SP.UI.People.FollowLinkManager.$1w();return SP.UI.People.FollowLinkManager.get_links().$1N_0};SP.UI.People.FollowLinkManager.get_$1M=function(){!SP.UI.People.FollowLinkManager.get_links().$8_0&&SP.UI.People.FollowLinkManager.$1w();return SP.UI.People.FollowLinkManager.get_links().$8_0};SP.UI.People.FollowLinkManager.$1w=function(){SP.SOD.executeFunc("SP.js","SP.ClientContext",function(){SP.UI.People.FollowLinkManager.get_links().$8_0=SP.ClientContext.get_current();SP.UI.People.FollowLinkManager.get_links().$1N_0=SP.UserProfiles.PeopleManager.newObject(SP.UI.People.FollowLinkManager.get_links().$8_0)})};SP.UI.People.FollowLinkManager.newLink=function(c){var b=c.toLowerCase(),a=SP.UI.People.FollowLinkManager.get_links().$i_0[b];if(!a)SP.UI.People.FollowLinkManager.get_links().$i_0[b]=new SP.UI.People.FollowLink(c);else if(a.isClickable()){var d=SP.UI.People.PersonManager.getFollowState(b);if(a.$2_0!==d){a.$2_0=d;a.refreshLinks()}}};SP.UI.People.FollowLinkManager.getLink=function(a){return SP.UI.People.FollowLinkManager.get_links().$i_0[a.toLowerCase()]};SP.UI.People.FollowLinkManager.get_followCallback=function(){return SP.UI.People.FollowLinkManager.get_links().$1A_0};SP.UI.People.FollowLinkManager.set_followCallback=function(a){SP.UI.People.FollowLinkManager.get_links().$1A_0=a;return a};SP.UI.People.FollowLinkManager.prototype={$i_0:null,$1A_0:null,$8_0:null,$1N_0:null};Type.registerNamespace("Microsoft.SharePoint.Portal.UserProfiles");Microsoft.SharePoint.Portal.UserProfiles.MySiteDismissStatusText=function(){};Microsoft.SharePoint.Portal.UserProfiles.MySiteDismissStatusText.dismissStatusText=function(a){if(!a)throw Error.argumentNull("context");var b=new SP.ClientActionInvokeStaticMethod(a,"{00a20542-1d5c-4bc5-bdd4-d64d75144ada}","DismissStatusText",null);a.addQuery(b)};Microsoft.SharePoint.Portal.UserProfiles.MySiteDocumentMoveUtility=function(){};Microsoft.SharePoint.Portal.UserProfiles.MySiteDocumentMoveUtility.firstRunDocumentMove=function(a,d){if(!a)throw Error.argumentNull("context");var b,c=new SP.ClientActionInvokeStaticMethod(a,"{f0be8ab9-1b53-41fa-84b3-bc6145595fcb}","FirstRunDocumentMove",[d]);a.addQuery(c);b=new SP.BooleanResult;a.addQueryIdAndResultObject(c.get_id(),b);return b};SP.UI.MySiteCommon.MySiteMenuItem.registerClass("SP.UI.MySiteCommon.MySiteMenuItem");SP.UI.MySiteCommon.CheckBoxMenuItem.registerClass("SP.UI.MySiteCommon.CheckBoxMenuItem",SP.UI.MySiteCommon.MySiteMenuItem);SP.UI.MySiteCommon.CommonUIElements.registerClass("SP.UI.MySiteCommon.CommonUIElements");SP.UI.MySiteCommon.PresenceManager.registerClass("SP.UI.MySiteCommon.PresenceManager");SP.UI.MySiteCommon.MySiteDocumentsRenderer.registerClass("SP.UI.MySiteCommon.MySiteDocumentsRenderer");SP.UI.MySiteCommon.MySiteDialog.registerClass("SP.UI.MySiteCommon.MySiteDialog");SP.UI.MySiteCommon.MySiteMenu.registerClass("SP.UI.MySiteCommon.MySiteMenu");SP.UI.MySiteCommon.MySitePrivacyIcon.registerClass("SP.UI.MySiteCommon.MySitePrivacyIcon");SP.UI.MySiteCommon.OneDriveDownloadButton.registerClass("SP.UI.MySiteCommon.OneDriveDownloadButton");SP.UI.MySiteCommon.OneDriveFirstRunManager.registerClass("SP.UI.MySiteCommon.OneDriveFirstRunManager",Sys.Component);SP.UI.MySiteCommon.OneDriveFirstRunContext.registerClass("SP.UI.MySiteCommon.OneDriveFirstRunContext");SP.UI.MySiteCommon.ProfileHeaderRenderer.registerClass("SP.UI.MySiteCommon.ProfileHeaderRenderer");SP.UI.MySiteCommon.SeparatorMenuItem.registerClass("SP.UI.MySiteCommon.SeparatorMenuItem",SP.UI.MySiteCommon.MySiteMenuItem);SP.UI.MySiteCommon.ErrorCodes.registerClass("SP.UI.MySiteCommon.ErrorCodes");SP.UI.MySiteCommon.DataCache.registerClass("SP.UI.MySiteCommon.DataCache");SP.UI.MicroFeed.ExternallyDefinedStrings.registerClass("SP.UI.MicroFeed.ExternallyDefinedStrings");SP.UI.People.FollowOrStopFollowingButtonControl.registerClass("SP.UI.People.FollowOrStopFollowingButtonControl");SP.UI.People.MySitePeopleUtilities.registerClass("SP.UI.People.MySitePeopleUtilities");SP.UI.People.PersonManager.registerClass("SP.UI.People.PersonManager");SP.UI.People.ClientPerson.registerClass("SP.UI.People.ClientPerson");SP.UI.People.FollowLink.registerClass("SP.UI.People.FollowLink");SP.UI.People.FollowLinkManager.registerClass("SP.UI.People.FollowLinkManager");Microsoft.SharePoint.Portal.UserProfiles.MySiteDismissStatusText.registerClass("Microsoft.SharePoint.Portal.UserProfiles.MySiteDismissStatusText");Microsoft.SharePoint.Portal.UserProfiles.MySiteDocumentMoveUtility.registerClass("Microsoft.SharePoint.Portal.UserProfiles.MySiteDocumentMoveUtility");function sp_ui_mysitecommon_initialize(){SP.UI.MySiteCommon.CommonUIElements.$1c="placeholderDivForHiddenElement";SP.UI.MySiteCommon.CommonUIElements.$18="fixedHeight";SP.UI.MySiteCommon.CommonUIElements.$19="fixedWidth";SP.UI.MySiteCommon.CommonUIElements.encodeAttributeValueKillSwitchID="2CC71780-5C47-402C-B18E-948CD64D86D2";SP.UI.MySiteCommon.CommonUIElements.newsFeedPermLinkKillSwitchID="2ADA3A4D-5E16-451D-9F09-0AC912FC9633";SP.UI.MySiteCommon.PresenceManager.$6=null;SP.UI.MySiteCommon.MySiteMenu.$1g={};SP.UI.MySiteCommon.MySiteMenu.$1x="SP.UI.MySiteCommon.MySiteMenu.onMenuClickCallback";SP.UI.MySiteCommon.MySiteMenu.controlSpan="ms-mysitemenu-control_";SP.UI.MySiteCommon.MySiteMenu.controlLink="ms-mysitemenu-control_Link_";SP.UI.MySiteCommon.MySiteMenu.controlImage="ms-mysitemenu-control_Image_";SP.UI.MySiteCommon.MySiteMenu.controlImageParent="ms-mysitemenu-control_ImageParent_";SP.UI.MySiteCommon.MySiteMenu.menuDiv="ms-mysitemenu-menu_";SP.UI.MySiteCommon.MySiteMenu.menuItem="ms-mysitemenu-menu_Item_";SP.UI.MySiteCommon.MySiteMenu.emptyStringPromptConst="EMPTY_STRING_A2BF7E95-82D5-4055-8451-B0B86C4E973E";SP.UI.MySiteCommon.MySitePrivacyIcon.$1j="mySitePrivacyIcon-anchor_";SP.UI.MySiteCommon.OneDriveFirstRunManager.$16=null;SP.UI.MySiteCommon.ErrorCodes.erroR_TP_E_CANARYTAMPERED=-2130575251;SP.UI.MySiteCommon.ErrorCodes.erroR_TP_E_CANARYTIMEDOUT=-2130575252;SP.UI.MicroFeed.ExternallyDefinedStrings.defaultPostDefinitionName="Microsoft.SharePoint.Microfeed.UserPost";SP.UI.People.MySitePeopleUtilities.$20=["EditProfileLink","IsMyPeopleListPublic"];SP.UI.People.MySitePeopleUtilities.$21=["DisplayName","AccountName","UserUrl","PictureUrl","Email","LatestPost","IsFollowed"];SP.UI.People.MySitePeopleUtilities.personPropertiesToIncludeInCollection="Include(DisplayName, AccountName, UserUrl, PictureUrl, Email, LatestPost, IsFollowed)";SP.UI.People.PersonManager.$6=null;SP.UI.People.FollowLink.followLinkId="FollowLinkFor{0}";SP.UI.People.FollowLink.followLinkClass="ms-commandLink";SP.UI.People.FollowLink.suggestionFollowLinkClass="ms-secondaryCommandLink";SP.UI.People.FollowLink.followLinkImageId="FollowLinkImageFor{0}";SP.UI.People.FollowLink.followLinkImageClass="ms-people-followLinkImage";SP.UI.People.FollowLink.followLinkImageFollowingClass="ms-people-followLinkImageFollowing";SP.UI.People.FollowLink.followLinkImageNotFollowingClass="ms-people-followLinkImageNotFollowing";SP.UI.People.FollowLink.followLinkImageParentClass="ms-people-followLinkImageParent";SP.UI.People.FollowLink.followLinkTextId="FollowLinkTextFor{0}";SP.UI.People.FollowLink.profilePageFollowThisPersonLinkTextId="ProfilePageFollowThisPersonLinkTextFor{0}";SP.UI.People.FollowLink.profilePageFollowThisPersonLinkAnchorId="ProfilePageFollowThisPersonLinkAnchorFor{0}";SP.UI.People.FollowLink.profilePageFollowThisPersonLinkTextClass="ms-profile-followLink ms-textXLarge";SP.UI.People.FollowLink.profilePageFollowThisPersonAnchorClass="ms-heroCommandLink";SP.UI.People.FollowLink.profilePageFollowLinkClass="ms-profile-followLink ms-heroCommandLink ms-textXLarge";SP.UI.People.FollowLink.profilePageStopFollowingLinkClass="ms-profile-stopFollowingLink ms-commandLink";SP.UI.People.FollowLink.profilePageFollowLinkImageClass="ms-profile-followHeroImage";SP.UI.People.FollowLink.profilePageFollowLinkImageParentClass="ms-profile-followHeroImageParent";SP.UI.People.FollowLink.calloutIdPrefix="Callout";SP.UI.People.FollowLink.calloutSourceOwnPage="CalloutOwnPage";SP.UI.People.FollowLink.calloutSourceOtherPage="CalloutOtherPage";SP.UI.People.FollowLink.microfeedIdPrefixAndSource="Microfeed";SP.UI.People.FollowLink.profileIdPrefixAndSource="Profile";SP.UI.People.FollowLink.suggestionIdPrefixAndSource="Suggestion";SP.UI.People.FollowLink.searchIdPrefixAndSource="Search";SP.UI.People.FollowLink.personDivPrefixAndSource="PersonDiv";SP.UI.People.FollowLink.followMultiplePeoplePrefixAndSource="FollowMultiplePeople";SP.UI.People.FollowLinkManager.$6=null}sp_ui_mysitecommon_initialize();IsSPSocialSwitchEnabled=function(){};SP.UI.MySiteCommon.SPSocialSwitch=new function(){this.isSPSocialEnabled=IsSPSocialSwitchEnabled;this.reset=function(){this.isSPSocialEnabled=IsSPSocialSwitchEnabled}};RegisterModuleInit("sp.ui.mysitecommon.js",sp_ui_mysitecommon_initialize);typeof Sys!="undefined"&&Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded();NotifyScriptLoadedAndExecuteWaitingJobs("SP.UI.MySiteCommon.js");_spApplicationPagesScriptLoaded=true;typeof spWriteProfilerMark=="function"&&spWriteProfilerMark("perfMarkEnd_SP.UI.MySiteCommon.js");